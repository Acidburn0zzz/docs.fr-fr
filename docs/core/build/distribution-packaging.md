---
title: Empaquetage de la distribution de .NET Core
description: "Découvrez comment empaqueter, nommer et versionner .NET Core pour la distribution."
keywords: .NET, .NET Core, source, build
author: bleroy
ms.author: mairaw
ms.date: 06/28/2017
ms.topic: article
ms.prod: .net-core
ms.devlang: dotnet
ms.assetid: 71b9d722-c5a8-4271-9ce1-d87e7ae2494d
ms.workload: dotnetcore
ms.openlocfilehash: 9f5cd2f7c4fec553dfdfaf1765663b6896b3061d
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/23/2017
---
# <a name="net-core-distribution-packaging"></a><span data-ttu-id="49971-104">Empaquetage de la distribution de .NET Core</span><span class="sxs-lookup"><span data-stu-id="49971-104">.NET Core distribution packaging</span></span>

<span data-ttu-id="49971-105">.NET Core est disponible sur de plus en plus de plateformes ; il est donc utile de savoir comment l’empaqueter, le nommer et le versionner.</span><span class="sxs-lookup"><span data-stu-id="49971-105">As .NET Core becomes available on more and more platforms, it's useful to learn how to package, name, and version it.</span></span> <span data-ttu-id="49971-106">De cette manière, les chargés de maintenance des packages pourront garantir une expérience cohérente quelle que soit la plateforme choisie par les utilisateurs pour exécuter .NET.</span><span class="sxs-lookup"><span data-stu-id="49971-106">This way, package maintainers can help ensure a consistent experience no matter where users choose to run .NET.</span></span>

## <a name="net-core-components"></a><span data-ttu-id="49971-107">Composants de .NET Core</span><span class="sxs-lookup"><span data-stu-id="49971-107">.NET Core components</span></span>

<span data-ttu-id="49971-108">.NET Core est constitué de trois parties principales qui doivent être empaquetées :</span><span class="sxs-lookup"><span data-stu-id="49971-108">.NET Core is made of three major parts that need to be packaged:</span></span>

1. <span data-ttu-id="49971-109">**L’hôte** (également appelé « muxer ») a deux rôles distincts : activer un runtime, afin de lancer une application, et un Kit de développement logiciel (SDK), pour y répartir les commandes.</span><span class="sxs-lookup"><span data-stu-id="49971-109">**The host** (also known as the "muxer") has two distinct roles: activate a runtime to launch an application, and activate an SDK to dispatch commands to it.</span></span> <span data-ttu-id="49971-110">L’hôte est constitué d’un exécutable natif (`dotnet.exe`) et des bibliothèques de stratégies associées (installées dans `host/fxr`).</span><span class="sxs-lookup"><span data-stu-id="49971-110">The host is a native executable (`dotnet.exe`) and its supporting policy libraries (installed in `host/fxr`).</span></span> <span data-ttu-id="49971-111">Il est généré à partir du code du référentiel [`dotnet/core-setup`](https://github.com/dotnet/core-setup/).</span><span class="sxs-lookup"><span data-stu-id="49971-111">It's built from the code in the [`dotnet/core-setup`](https://github.com/dotnet/core-setup/) repository.</span></span> <span data-ttu-id="49971-112">Il n’y a généralement qu’un seul hôte sur un même ordinateur, même s’il ne s’agit pas d’une exigence stricte.</span><span class="sxs-lookup"><span data-stu-id="49971-112">There is typically only one host on a given machine, although that isn't a strict requirement.</span></span>
2. <span data-ttu-id="49971-113">**L’infrastructure** est constituée d’un runtime et des bibliothèques gérées associées.</span><span class="sxs-lookup"><span data-stu-id="49971-113">**The framework** is made of a runtime and supporting managed libraries.</span></span> <span data-ttu-id="49971-114">Elle peut être installée au sein d’une application, ou sous forme d’infrastructure partagée, située à un emplacement central et réutilisable par plusieurs applications.</span><span class="sxs-lookup"><span data-stu-id="49971-114">The framework may be installed as part of an application, or as a shared framework in a central location that can be reused by multiple applications.</span></span> <span data-ttu-id="49971-115">Il peut y avoir un nombre illimité d’infrastructures partagées installées sur un même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="49971-115">There may be any number of shared frameworks installed on a given machine.</span></span> <span data-ttu-id="49971-116">Les infrastructures partagées se trouvent sous `shared/Microsoft.NETCore.App/<version>`.</span><span class="sxs-lookup"><span data-stu-id="49971-116">Shared frameworks live under `shared/Microsoft.NETCore.App/<version>`.</span></span> <span data-ttu-id="49971-117">L’hôte est restauré par progression d’une version corrective à l’autre.</span><span class="sxs-lookup"><span data-stu-id="49971-117">The host rolls forward across patch versions.</span></span> <span data-ttu-id="49971-118">Si une application cible `Microsoft.NETCore.App` 1.0.0 et que seule la version 1.0.4 est présente, l’application est lancée sur cette dernière version.</span><span class="sxs-lookup"><span data-stu-id="49971-118">If an application targets `Microsoft.NETCore.App` 1.0.0, and only 1.0.4 is present, the app is launched against 1.0.4.</span></span>
3. <span data-ttu-id="49971-119">**Le Kit de développement logiciel (SDK)** (également appelé « outils ») est un ensemble d’outils gérés servant à écrire et à générer des applications et des bibliothèques .NET Core.</span><span class="sxs-lookup"><span data-stu-id="49971-119">**The SDK** (also known as "the tooling") is a set of managed tools that can be used to write and build .NET Core libraries and applications.</span></span> <span data-ttu-id="49971-120">Il inclut l’interface de ligne de commande, MSBuild et les cibles et tâches de génération associées, NuGet, de nouveaux modèles de projet, etc. Il est possible d’avoir plusieurs Kits SDK sur un ordinateur (par exemple, pour générer des projets qui exigent explicitement une version antérieure), mais il est recommandé d’utiliser la dernière version des outils.</span><span class="sxs-lookup"><span data-stu-id="49971-120">The SDK includes the CLI, MSBuild, and associated build tasks and targets, NuGet, new project templates, etc. It's possible to have multiple SDKs on a machine (for example, to build projects that explicitly require an older version), but the recommendation is to use the latest released tools.</span></span>

## <a name="recommended-package-names"></a><span data-ttu-id="49971-121">Noms de packages recommandés</span><span class="sxs-lookup"><span data-stu-id="49971-121">Recommended package names</span></span>

<span data-ttu-id="49971-122">L’aide suivante décrit nos recommandations pour les noms de packages.</span><span class="sxs-lookup"><span data-stu-id="49971-122">The following guidance is our recommendation for package names.</span></span> <span data-ttu-id="49971-123">Le chargé de maintenance des packages peut choisir de s’en écarter pour diverses raisons, par exemple, en cas de tradition différente de la distribution spécifiquement ciblée.</span><span class="sxs-lookup"><span data-stu-id="49971-123">A package maintainer may choose to diverge from it based on various reasons, such as, a different tradition of the specific distribution they're targeting.</span></span>

### <a name="minimum-package-set"></a><span data-ttu-id="49971-124">Ensemble minimal du package</span><span class="sxs-lookup"><span data-stu-id="49971-124">Minimum package set</span></span>

* <span data-ttu-id="49971-125">`dotnet-runtime-[major].[minor]` : infrastructure partagée avec la version spécifiée (seule la dernière version corrective pour une combinaison majeure + mineure doit être disponible dans le Gestionnaire de package).</span><span class="sxs-lookup"><span data-stu-id="49971-125">`dotnet-runtime-[major].[minor]`: a shared framework with the specified version (only the latest patch version for a given major+minor combination should be available in the package manager).</span></span> <span data-ttu-id="49971-126">**dépendances** : `dotnet-host`</span><span class="sxs-lookup"><span data-stu-id="49971-126">**dependencies**: `dotnet-host`</span></span>
* <span data-ttu-id="49971-127">`dotnet-sdk` : dernière version du Kit SDK.</span><span class="sxs-lookup"><span data-stu-id="49971-127">`dotnet-sdk`: the latest SDK.</span></span> <span data-ttu-id="49971-128">**dépendances** : dernière version de `dotnet-sdk-[major].[minor]`.</span><span class="sxs-lookup"><span data-stu-id="49971-128">**dependencies**: the latest `dotnet-sdk-[major].[minor]`.</span></span>
* <span data-ttu-id="49971-129">`dotnet-sdk-[major].[minor]` : Kit SDK avec la version spécifiée.</span><span class="sxs-lookup"><span data-stu-id="49971-129">`dotnet-sdk-[major].[minor]`: the SDK with the specified version.</span></span> <span data-ttu-id="49971-130">La version spécifiée est la version la plus élevée incluse des infrastructures partagées incluses, afin que les utilisateurs puissent facilement associer un Kit SDK à une infrastructure partagée.</span><span class="sxs-lookup"><span data-stu-id="49971-130">The version specified is the highest included version of included shared frameworks, so that users can easily relate an SDK to a shared framework.</span></span> <span data-ttu-id="49971-131">**dépendances** : `dotnet-host`, une ou plusieurs versions `dotnet-runtime-[major].[minor]` (l’un des runtimes est utilisé par le code du Kit de développement logiciel (SDK) proprement dit, les autres servent aux utilisateurs à des fins de génération et d’exécution).</span><span class="sxs-lookup"><span data-stu-id="49971-131">**dependencies**: `dotnet-host`, one or more `dotnet-runtime-[major].[minor]` (one of the runtimes is used by the SDK code itself, the others are here for users to build and run against).</span></span>
* <span data-ttu-id="49971-132">`dotnet-host` : dernière version de l’hôte.</span><span class="sxs-lookup"><span data-stu-id="49971-132">`dotnet-host`: the latest host.</span></span>

#### <a name="preview-versions"></a><span data-ttu-id="49971-133">Préversions</span><span class="sxs-lookup"><span data-stu-id="49971-133">Preview versions</span></span>

<span data-ttu-id="49971-134">Les chargés de maintenance des packages peuvent décider d’inclure les préversions de l’infrastructure partagée et du Kit SDK.</span><span class="sxs-lookup"><span data-stu-id="49971-134">Package maintainers may decide to include preview versions of the shared framework and SDK.</span></span> <span data-ttu-id="49971-135">Elles ne doivent jamais être incluses dans le package `dotnet-sdk` non versionné, mais elles peuvent être publiées en tant que packages versionnés avec un marqueur de préversion supplémentaire ajouté aux sections du nom correspondant à la version majeure et à la version mineure.</span><span class="sxs-lookup"><span data-stu-id="49971-135">Those should never be included in the unversioned `dotnet-sdk` package, but may be released as versioned packages with an additional preview marker appended to the major and minor version sections of the name.</span></span> <span data-ttu-id="49971-136">Par exemple, il peut y avoir un package `dotnet-sdk-2.0-preview-final`.</span><span class="sxs-lookup"><span data-stu-id="49971-136">For example, there may be a `dotnet-sdk-2.0-preview-final` package.</span></span>

### <a name="optional-additional-packages"></a><span data-ttu-id="49971-137">Packages supplémentaires facultatifs</span><span class="sxs-lookup"><span data-stu-id="49971-137">Optional additional packages</span></span>

<span data-ttu-id="49971-138">Certains chargés de maintenance peuvent choisir de fournir des packages supplémentaires, notamment :</span><span class="sxs-lookup"><span data-stu-id="49971-138">Some maintainers may choose to provide additional packages such as:</span></span>

* <span data-ttu-id="49971-139">`dotnet-lts` : la dernière version avec prise en charge à long terme (LTS) de l’infrastructure partagée.</span><span class="sxs-lookup"><span data-stu-id="49971-139">`dotnet-lts`: the latest Long-Term Support (LTS) version of the shared framework.</span></span> <span data-ttu-id="49971-140">Les [ensembles de versions LTS et « version actuelle »](~/docs/core/versions/lts-current.md) correspondent à différentes cadences de lancement de .NET Core.</span><span class="sxs-lookup"><span data-stu-id="49971-140">[LTS and Current release trains](~/docs/core/versions/lts-current.md) correspond to different cadences at which .NET Core gets released.</span></span> <span data-ttu-id="49971-141">Les utilisateurs ont la possibilité d’adopter l’ensemble qu’ils souhaitent, selon la fréquence souhaitée de mise à jour.</span><span class="sxs-lookup"><span data-stu-id="49971-141">Users have a choice of adopting one or the other train, based on how often they are willing to update.</span></span> <span data-ttu-id="49971-142">Ce concept étant également lié aux niveaux de prise en charge, il est plus ou moins pertinent en fonction de la distribution concernée.</span><span class="sxs-lookup"><span data-stu-id="49971-142">This is a concept that is also tied to support levels, so it may or may not make sense depending on the distro being considered.</span></span>

## <a name="disk-layout"></a><span data-ttu-id="49971-143">Disposition du disque</span><span class="sxs-lookup"><span data-stu-id="49971-143">Disk layout</span></span>

<span data-ttu-id="49971-144">Lors de l’installation de packages .NET Core, le positionnement relatif de leur destination cible sur le disque a de l’importance.</span><span class="sxs-lookup"><span data-stu-id="49971-144">When installing .NET Core packages, the relative placement of their target destinations on disk matter.</span></span>
<span data-ttu-id="49971-145">L’hôte `dotnet.exe` doit être placé à côté des dossiers `sdk` et `shared` qui contiennent le contenu versionné des packages du Kit SDK `dotnet-sdk` et les packages de l’infrastructure partagée `dotnet-runtime`.</span><span class="sxs-lookup"><span data-stu-id="49971-145">The `dotnet.exe` host should be placed next to `sdk` and `shared` folders that contain the versioned contents of the `dotnet-sdk` SDK packages, and `dotnet-runtime` shared framework packages.</span></span>

<span data-ttu-id="49971-146">La disposition des fichiers et des répertoires sur le disque, à l’intérieur des packages, est versionnée.</span><span class="sxs-lookup"><span data-stu-id="49971-146">The disk layout of files and directories inside the packages is versioned.</span></span> <span data-ttu-id="49971-147">Cela signifie que la mise à jour vers la dernière version de `dotnet-runtime` installe la nouvelle version côte à côte avec les versions précédentes, ce qui réduit le risque d’arrêt des applications existantes par la mise à jour du package.</span><span class="sxs-lookup"><span data-stu-id="49971-147">This means that updating to the latest `dotnet-runtime` installs the new version side by side with previous versions, reducing the possibility of breaking existing applications by updating the package.</span></span> <span data-ttu-id="49971-148">Normalement, les mises à jour de package ne suppriment pas les versions précédentes.</span><span class="sxs-lookup"><span data-stu-id="49971-148">Package updates should not remove previous versions.</span></span>

## <a name="update-policies"></a><span data-ttu-id="49971-149">Stratégies de mise à jour</span><span class="sxs-lookup"><span data-stu-id="49971-149">Update policies</span></span>

<span data-ttu-id="49971-150">Lorsqu’une opération `update` est effectuée, le comportement de chaque package est le suivant :</span><span class="sxs-lookup"><span data-stu-id="49971-150">When an `update` is performed, the behavior of each package is as follows:</span></span>

* <span data-ttu-id="49971-151">`dotnet-runtime-[major].[minor]` : les nouvelles versions correctives mettent à jour le package, mais les nouvelles versions mineures ou majeures sont des packages distincts.</span><span class="sxs-lookup"><span data-stu-id="49971-151">`dotnet-runtime-[major].[minor]`: new patch versions update the package, but new minor or major versions are separate packages.</span></span>
* <span data-ttu-id="49971-152">`dotnet-sdk` : `update` restaure par progression les versions majeures, mineures et correctives.</span><span class="sxs-lookup"><span data-stu-id="49971-152">`dotnet-sdk`: `update` rolls forward major, minor, and patch versions.</span></span>
* <span data-ttu-id="49971-153">`dotnet-sdk-[major].[minor]` : les nouvelles versions correctives mettent à jour le package, mais les nouvelles versions mineures ou majeures sont des packages distincts.</span><span class="sxs-lookup"><span data-stu-id="49971-153">`dotnet-sdk-[major].[minor]`: new patch versions update the package, but new minor or major versions are separate packages.</span></span>
* <span data-ttu-id="49971-154">`dotnet-lts` : `update` restaure par progression les versions majeures, mineures et correctives.</span><span class="sxs-lookup"><span data-stu-id="49971-154">`dotnet-lts`: `update` rolls forward major, minor, and patch versions.</span></span>

<span data-ttu-id="49971-155">Cette rubrique a présenté nos recommandations pour l’empaquetage de .NET Core. Cependant, chaque distributeur est libre de choisir quelles versions proposer et quand.</span><span class="sxs-lookup"><span data-stu-id="49971-155">This topic has presented our recommendations for packaging .NET Core, however each distro is free to choose what versions to offer and when.</span></span> <span data-ttu-id="49971-156">Par exemple, un distributeur qui attache plus d’importance à la stabilité qu’au fait d’être à jour peut choisir de publier uniquement les versions qui s’alignent sur l’ensemble de versions LTS.</span><span class="sxs-lookup"><span data-stu-id="49971-156">For example, a distro that values stability more than being up-to-date may choose to release only versions that snap with the LTS release train.</span></span>