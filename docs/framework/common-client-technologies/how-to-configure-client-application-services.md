---
title: "Comment : configurer les services d'application cliente"
ms.date: 03/30/2017
helpviewer_keywords:
- client application services, configuring
ms.assetid: 34a8688a-a32c-40d3-94be-c8e610c6a4e8
ms.openlocfilehash: 6f754a2a66187ac94d31d0d5a3a665c969652d26
ms.sourcegitcommit: 8c28ab17c26bf08abbd004cc37651985c68841b8
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/07/2018
ms.locfileid: "48846511"
---
# <a name="how-to-configure-client-application-services"></a><span data-ttu-id="7b983-102">Comment : configurer les services d'application cliente</span><span class="sxs-lookup"><span data-stu-id="7b983-102">How to: Configure Client Application Services</span></span>
<span data-ttu-id="7b983-103">Cette rubrique décrit comment utiliser le **Concepteur de projet** Visual Studio pour activer et configurer les services d’applications clientes.</span><span class="sxs-lookup"><span data-stu-id="7b983-103">This topic describes how to use the Visual Studio **Project Designer** to enable and configure client application services.</span></span> <span data-ttu-id="7b983-104">Vous pouvez utiliser les services d'application cliente pour valider des utilisateurs et extraire des rôles d'utilisateur ainsi que des paramètres d'un service d'application [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] existant.</span><span class="sxs-lookup"><span data-stu-id="7b983-104">You can use client application services to validate users and retrieve user roles and settings from an existing [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] application service.</span></span> <span data-ttu-id="7b983-105">Une fois la configuration effectuée, vous pouvez accéder aux services actifs dans votre code d’application comme décrit dans [Vue d’ensemble des services d’application cliente](../../../docs/framework/common-client-technologies/client-application-services-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7b983-105">After configuration, you can access the enabled services in your application code as described in [Client Application Services Overview](../../../docs/framework/common-client-technologies/client-application-services-overview.md).</span></span> <span data-ttu-id="7b983-106">Pour plus d’informations sur les services d’application [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)], consultez [Vue d’ensemble des services d’application ASP.NET](https://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013).</span><span class="sxs-lookup"><span data-stu-id="7b983-106">For more information about the [!INCLUDE[ajax_current_short](../../../includes/ajax-current-short-md.md)] application services, see [ASP.NET Application Services Overview](https://msdn.microsoft.com/library/1162e529-0d70-44b2-b3ab-83e60c695013).</span></span>  
  
 <span data-ttu-id="7b983-107">Vous pouvez activer et configurer les services d’application cliente dans la page **Services** du **Concepteur de projet**.</span><span class="sxs-lookup"><span data-stu-id="7b983-107">You can enable and configure client application services on the **Services** page of the **Project Designer**.</span></span> <span data-ttu-id="7b983-108">La page **Services** met à jour les valeurs dans le fichier App.config de votre projet.</span><span class="sxs-lookup"><span data-stu-id="7b983-108">The **Services** page updates values in your project's App.config file.</span></span> <span data-ttu-id="7b983-109">Pour accéder au **Concepteur de projet**, utilisez la commande **Propriétés** du menu **Projet**.</span><span class="sxs-lookup"><span data-stu-id="7b983-109">To access the **Project Designer**, use the **Properties** command on the **Project** menu.</span></span> <span data-ttu-id="7b983-110">Pour plus d’informations sur la page **Services**, consultez [Services, page du Concepteur de projet](/visualstudio/ide/reference/services-page-project-designer).</span><span class="sxs-lookup"><span data-stu-id="7b983-110">For more information about the **Services** page, see [Services Page, Project Designer](/visualstudio/ide/reference/services-page-project-designer).</span></span>  
  
 <span data-ttu-id="7b983-111">La procédure suivante décrit comment effectuer la configuration de base des services d'application cliente.</span><span class="sxs-lookup"><span data-stu-id="7b983-111">The following procedure describes how to perform basic configuration for client application services.</span></span> <span data-ttu-id="7b983-112">Les options de configuration avancées sont décrites dans les sections suivantes.</span><span class="sxs-lookup"><span data-stu-id="7b983-112">Advanced configuration options are described in later sections.</span></span>  
  
### <a name="to-configure-client-application-services"></a><span data-ttu-id="7b983-113">Pour configurer les services d'application cliente</span><span class="sxs-lookup"><span data-stu-id="7b983-113">To configure client application services</span></span>  
  
1.  <span data-ttu-id="7b983-114">Dans l’**Explorateur de solutions**, sélectionnez un nœud de projet puis, dans le menu **Projet**, cliquez sur **Propriétés**.</span><span class="sxs-lookup"><span data-stu-id="7b983-114">In **Solution Explorer**, select a project node and then on the **Project** menu, click **Properties**.</span></span>  
  
     <span data-ttu-id="7b983-115">Le **Concepteur de projet** s’affiche.</span><span class="sxs-lookup"><span data-stu-id="7b983-115">The **Project Designer** appears.</span></span>  
  
2.  <span data-ttu-id="7b983-116">Cliquez sur l’onglet **Services**. La page **Services** s’affiche, comme dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="7b983-116">Click the **Services** tab. The **Services** page appears, as shown in the following illustration.</span></span>  
  
     <span data-ttu-id="7b983-117">![Onglet Services du concepteur de projets](../../../docs/framework/common-client-technologies/media/casdesigner.png "casdesigner")</span><span class="sxs-lookup"><span data-stu-id="7b983-117">![The Services tab in the project designer](../../../docs/framework/common-client-technologies/media/casdesigner.png "casdesigner")</span></span>  
  
3.  <span data-ttu-id="7b983-118">Dans la page **Services**, sélectionnez **Activer les services d’application cliente**.</span><span class="sxs-lookup"><span data-stu-id="7b983-118">On the **Services** page, select **Enable client application services**.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="7b983-119">Les services d'application cliente nécessitent la version complète du .NET Framework et ne sont pas pris en charge dans le .NET Framework Client Profile.</span><span class="sxs-lookup"><span data-stu-id="7b983-119">Client application services require the full version of the .NET Framework, and are not supported in the .NET Framework Client Profile.</span></span> <span data-ttu-id="7b983-120">Si la case **Activer les services d’application cliente** est décochée, vérifiez que la liste **Framework cible** a la valeur .NET Framework 3.5 ou version ultérieure.</span><span class="sxs-lookup"><span data-stu-id="7b983-120">If the **Enable client application services** check box is disabled, verify that the **Target framework** is set to the .NET Framework 3.5 or later.</span></span> <span data-ttu-id="7b983-121">Pour afficher le paramètre **Framework cible** en C#, ouvrez le Concepteur de projets, puis cliquez sur la page **Application**.</span><span class="sxs-lookup"><span data-stu-id="7b983-121">To view the **Target framework** setting in C#, open the Project Designer and then click the **Application** page.</span></span> <span data-ttu-id="7b983-122">Pour afficher le paramètre **Framework cible** en Visual Basic, ouvrez le Concepteur de projets, cliquez sur la page **Compiler**, puis sur **Options avancées de compilation**.</span><span class="sxs-lookup"><span data-stu-id="7b983-122">To view the **Target framework** setting in Visual Basic, open the Project Designer, click the **Compile** page, and then click **Advanced Compile Options**.</span></span>  
  
4.  <span data-ttu-id="7b983-123">Sélectionnez **Utiliser l’authentification par formulaire** si vous prévoyez de fournir vos propres contrôles de connexion ou boîte de dialogue, ou sélectionnez **Utiliser l’authentification Windows** pour utiliser l’identité fournie par le système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="7b983-123">Select **Use Forms authentication** if you plan to provide your own login controls or dialog box, or select **Use Windows authentication** to use the identity supplied by the operating system.</span></span> <span data-ttu-id="7b983-124">Pour plus d’informations, consultez la section [Vue d’ensemble des services d’application cliente](../../../docs/framework/common-client-technologies/client-application-services-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7b983-124">For more information, see [Client Application Services Overview](../../../docs/framework/common-client-technologies/client-application-services-overview.md).</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="7b983-125">Si vous sélectionnez **Utiliser l’authentification Windows**, les services d’application cliente sont automatiquement configurés pour utiliser une base de données SQL Server Compact.</span><span class="sxs-lookup"><span data-stu-id="7b983-125">If you select **Use Windows authentication**, client application services will automatically be configured to use a SQL Server Compact database.</span></span> <span data-ttu-id="7b983-126">L’indication figure dans la boîte de dialogue **Paramètres avancés pour les services** comme décrit dans la section suivante.</span><span class="sxs-lookup"><span data-stu-id="7b983-126">This is indicated in the **Advanced Settings for Services** dialog box as described in the next section.</span></span> <span data-ttu-id="7b983-127">Si vous sélectionnez ensuite **Utiliser l’authentification par formulaire**, le paramètre **Utiliser une chaîne de connexion personnalisée** n’est pas automatiquement désactivé.</span><span class="sxs-lookup"><span data-stu-id="7b983-127">If you then select **Use Forms authentication**, the **Use custom connection string** setting will not be cleared automatically.</span></span> <span data-ttu-id="7b983-128">Des erreurs peuvent se produire si la base de données [!INCLUDE[ssEW](../../../includes/ssew-md.md)] a déjà été générée pour être utilisée avec l'authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="7b983-128">This could result in errors if the [!INCLUDE[ssEW](../../../includes/ssew-md.md)] database has already been generated for use with Windows authentication.</span></span> <span data-ttu-id="7b983-129">Pour résoudre ces erreurs, désactivez le paramètre **Utiliser une chaîne de connexion personnalisée** dans la boîte de dialogue **Paramètres avancés pour les services**.</span><span class="sxs-lookup"><span data-stu-id="7b983-129">To fix these errors, clear the **Use custom connection string** setting in the **Advanced Settings for Services** dialog box.</span></span>  
  
5.  <span data-ttu-id="7b983-130">Si vous avez sélectionné **Utiliser l’authentification par formulaire**, dans la zone **Emplacement du service d’authentification**, indiquez l’URL de l’hôte de service sans le nom de fichier.</span><span class="sxs-lookup"><span data-stu-id="7b983-130">If you selected **Use Forms authentication**, in the **Authentication service location** box, specify the URL of the service host, not including the file name.</span></span> <span data-ttu-id="7b983-131">Le concepteur ajoute automatiquement le nom de fichier standard (Authentication_JSON_AppService.axd) quand il écrit la valeur dans le fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="7b983-131">The designer will automatically append the standard file name (Authentication_JSON_AppService.axd) when it writes the value to the configuration file.</span></span>  
  
6.  <span data-ttu-id="7b983-132">Si vous avez sélectionné **Utiliser l’authentification par formulaire**, vous pouvez éventuellement spécifier une valeur dans la zone **Fournisseur d’infos d’identification**.</span><span class="sxs-lookup"><span data-stu-id="7b983-132">Optionally, if you selected **Use Forms authentication**, you can specify a value in the **Credentials provider** box.</span></span> <span data-ttu-id="7b983-133">Le fournisseur d'informations d'identification doit implémenter l'interface <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider>.</span><span class="sxs-lookup"><span data-stu-id="7b983-133">The credentials provider must implement the <xref:System.Web.ClientServices.Providers.IClientFormsAuthenticationCredentialsProvider> interface.</span></span> <span data-ttu-id="7b983-134">À l'aide d'un fournisseur d'informations d'identification, vous pouvez séparer votre interface utilisateur de connexion de l'autre code d'application.</span><span class="sxs-lookup"><span data-stu-id="7b983-134">By using a credentials provider, you can separate your login user interface from your other application code.</span></span> <span data-ttu-id="7b983-135">Vous pouvez ainsi créer une boîte de dialogue d'ouverture de session unique à utiliser dans plusieurs applications.</span><span class="sxs-lookup"><span data-stu-id="7b983-135">This enables you to create a single login dialog box for use in multiple applications.</span></span> <span data-ttu-id="7b983-136">Pour plus d’informations, consultez [Comment : implémenter la connexion utilisateur avec les services d’application cliente](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md).</span><span class="sxs-lookup"><span data-stu-id="7b983-136">For more information, see [How to: Implement User Login with Client Application Services](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md).</span></span>  
  
     <span data-ttu-id="7b983-137">Si vous spécifiez un fournisseur d'informations d'identification, vous devez le spécifier comme un nom de type qualifié d'assembly.</span><span class="sxs-lookup"><span data-stu-id="7b983-137">If you specify a credentials provider, you must specify it as an assembly-qualified type name.</span></span> <span data-ttu-id="7b983-138">Pour plus d’informations, consultez <xref:System.Type.AssemblyQualifiedName%2A?displayProperty=nameWithType> et [Noms d’assemblys](../../../docs/framework/app-domains/assembly-names.md).</span><span class="sxs-lookup"><span data-stu-id="7b983-138">For more information, see <xref:System.Type.AssemblyQualifiedName%2A?displayProperty=nameWithType> and [Assembly Names](../../../docs/framework/app-domains/assembly-names.md).</span></span> <span data-ttu-id="7b983-139">Dans sa forme la plus simple, un nom de type qualifié d'assembly ressemble à l'exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="7b983-139">In its simplest form, an assembly-qualified type name looks similar to the following example:</span></span>  
  
    ```  
    MyNamespace.MyLoginClass, MyAssembly  
    ```  
  
7.  <span data-ttu-id="7b983-140">Dans les zones de texte **Emplacement des services de rôles** et **Emplacement des services de paramètres web**, spécifiez l’emplacement de chaque service, sans le nom de fichier.</span><span class="sxs-lookup"><span data-stu-id="7b983-140">In the **Roles service location** and **Web settings service location** text boxes, specify the service location for each service, not including the file name.</span></span> <span data-ttu-id="7b983-141">Le concepteur ajoute automatiquement le nom de fichier standard (Role_JSON_AppService.axd et Profile_JSON_AppService.axd) quand il écrit la valeur dans le fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="7b983-141">The designer will automatically append the standard file names (Role_JSON_AppService.axd and Profile_JSON_AppService.axd) when it writes the value to the configuration file.</span></span>  
  
8.  <span data-ttu-id="7b983-142">Vous pouvez éventuellement cliquer sur **Avancé** pour modifier les paramètres avancés, tels que le comportement de mise en cache local.</span><span class="sxs-lookup"><span data-stu-id="7b983-142">Optionally, click **Advanced** to modify advanced settings, such as the local caching behavior.</span></span> <span data-ttu-id="7b983-143">Pour plus d'informations, consultez la procédure suivante.</span><span class="sxs-lookup"><span data-stu-id="7b983-143">For more information, see the next procedure.</span></span>  
  
## <a name="advanced-configuration"></a><span data-ttu-id="7b983-144">Configuration avancée</span><span class="sxs-lookup"><span data-stu-id="7b983-144">Advanced Configuration</span></span>  
 <span data-ttu-id="7b983-145">Les procédures suivantes décrivent comment configurer les services d'application cliente pour les scénarios moins courants.</span><span class="sxs-lookup"><span data-stu-id="7b983-145">The following procedures describe how to configure client application services for less common scenarios.</span></span> <span data-ttu-id="7b983-146">Par exemple, vous pouvez utiliser ces options de configuration pour les applications déployées dans les emplacements publics ou utiliser une base de données SQL Server Compact comme cache de données local.</span><span class="sxs-lookup"><span data-stu-id="7b983-146">For example, you can use these configuration options for applications deployed in public locations, or to use an encrypted SQL Server Compact database as the local data cache.</span></span>  
  
#### <a name="to-configure-advanced-settings-for-client-application-services"></a><span data-ttu-id="7b983-147">Pour configurer les paramètres avancés des services d'application cliente</span><span class="sxs-lookup"><span data-stu-id="7b983-147">To configure advanced settings for client application services</span></span>  
  
1.  <span data-ttu-id="7b983-148">Dans la page **Services** du **Concepteur de projet**, cliquez sur **Avancé**.</span><span class="sxs-lookup"><span data-stu-id="7b983-148">On the **Services** page of the **Project Designer**, click **Advanced**.</span></span>  
  
     <span data-ttu-id="7b983-149">La boîte de dialogue **Paramètres avancés pour les services** s’affiche, comme dans l’illustration suivante.</span><span class="sxs-lookup"><span data-stu-id="7b983-149">The **Advanced Settings for Services** dialog box appears, as shown in the following illustration.</span></span> <span data-ttu-id="7b983-150">Pour plus d’informations sur cette boîte de dialogue, consultez [Paramètres avancés pour les services, boîte de dialogue](/visualstudio/ide/reference/advanced-settings-for-services-dialog-box).</span><span class="sxs-lookup"><span data-stu-id="7b983-150">For more information about this dialog box, see [Advanced Settings for Services Dialog Box](/visualstudio/ide/reference/advanced-settings-for-services-dialog-box).</span></span>  
  
     <span data-ttu-id="7b983-151">![Paramètres avancés pour les services, boîte de dialogue](../../../docs/framework/common-client-technologies/media/casdialog.png "casdialog")</span><span class="sxs-lookup"><span data-stu-id="7b983-151">![Advanced Settings for Services dialog box](../../../docs/framework/common-client-technologies/media/casdialog.png "casdialog")</span></span>  
  
2.  <span data-ttu-id="7b983-152">Activez ou désactivez l’option **Enregistrer le hachage de mot de passe localement pour activer la connexion hors connexion**.</span><span class="sxs-lookup"><span data-stu-id="7b983-152">Select or clear **Save password hash locally to enable offline login**.</span></span> <span data-ttu-id="7b983-153">Quand vous sélectionnez cette option, un formulaire chiffré du mot de passe de l'utilisateur est inclus dans un cache local.</span><span class="sxs-lookup"><span data-stu-id="7b983-153">When you select this option, an encrypted form of the user's password will be cached locally.</span></span> <span data-ttu-id="7b983-154">Cela est utile si vous implémentez le mode hors connexion pour votre application.</span><span class="sxs-lookup"><span data-stu-id="7b983-154">This is useful if you implement offline mode for your application.</span></span> <span data-ttu-id="7b983-155">Quand cette option est sélectionnée, vous pouvez valider des utilisateurs même si la propriété <xref:System.Web.ClientServices.ConnectivityStatus.IsOffline%2A> a la valeur `true`.</span><span class="sxs-lookup"><span data-stu-id="7b983-155">With this option selected, you can validate users even when the <xref:System.Web.ClientServices.ConnectivityStatus.IsOffline%2A> property has been set to `true`.</span></span>  
  
3.  <span data-ttu-id="7b983-156">Activez ou désactivez **Imposer aux utilisateurs de se reconnecter chaque fois que le cookie du serveur expire**.</span><span class="sxs-lookup"><span data-stu-id="7b983-156">Select or clear **Require users to log on again whenever the server cookie expires**.</span></span> <span data-ttu-id="7b983-157">Le cookie d'authentification est configuré sur le service distant et indique la durée de validité de la connexion d'un utilisateur.</span><span class="sxs-lookup"><span data-stu-id="7b983-157">The authentication cookie is configured on the remote service, and indicates how long a user's login will remain active.</span></span> <span data-ttu-id="7b983-158">Pour plus d’informations sur la configuration du cookie, consultez l’attribut `timeout` dans [forms, élément de authentication (Schéma des paramètres ASP.NET)](https://msdn.microsoft.com/library/8163b8b5-ea6c-46c8-b5a9-c4c3de31c0b3).</span><span class="sxs-lookup"><span data-stu-id="7b983-158">For more information about how to configure the cookie, see the `timeout` attribute in [forms Element for authentication (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/8163b8b5-ea6c-46c8-b5a9-c4c3de31c0b3).</span></span>  
  
     <span data-ttu-id="7b983-159">Si vous sélectionnez cette option, la tentative d'accès aux services de paramètres web ou de rôles distants après expiration du cookie d'authentification génère une <xref:System.Net.WebException>.</span><span class="sxs-lookup"><span data-stu-id="7b983-159">If you select this option, attempting to access the remote roles or Web settings services after the authentication cookie has expired will throw a <xref:System.Net.WebException>.</span></span> <span data-ttu-id="7b983-160">Vous pouvez gérer cette exception et afficher une boîte de dialogue d'ouverture de session pour revalider des utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="7b983-160">You can handle this exception and display a login dialog box to revalidate users.</span></span> <span data-ttu-id="7b983-161">Pour obtenir un exemple de ce comportement, consultez [Procédure pas à pas : utilisation des services d’application cliente](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md).</span><span class="sxs-lookup"><span data-stu-id="7b983-161">For an example of this behavior, see [Walkthrough: Using Client Application Services](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md).</span></span> <span data-ttu-id="7b983-162">Cette option est utile pour les applications déployées dans les emplacements publics, car elle permet de garantir que les utilisateurs quittant l'application en cours d'exécution ne restent pas authentifiés indéfiniment.</span><span class="sxs-lookup"><span data-stu-id="7b983-162">This option is useful for applications deployed in public locations to make sure that users who leave the application running after use will not remain authenticated indefinitely.</span></span>  
  
     <span data-ttu-id="7b983-163">Si vous désactivez cette option et tentez d'accéder aux services distants après expiration du cookie d'authentification, les utilisateurs sont automatiquement revalidés.</span><span class="sxs-lookup"><span data-stu-id="7b983-163">If you clear this option and attempt to access the remote services after the authentication cookie has expired, users will be revalidated automatically.</span></span>  
  
4.  <span data-ttu-id="7b983-164">Spécifiez une valeur pour **Dépassement du délai de cache du service de rôle**.</span><span class="sxs-lookup"><span data-stu-id="7b983-164">Specify a value for **Role service cache timeout**.</span></span> <span data-ttu-id="7b983-165">Choisissez une valeur peu élevée quand les rôles sont fréquemment mis à jour ou une valeur plus élevée quand ils sont rarement mis à jour.</span><span class="sxs-lookup"><span data-stu-id="7b983-165">Set this time interval to a small value when roles are updated frequently or to a larger value when roles are updated infrequently.</span></span> <span data-ttu-id="7b983-166">Si vous implémentez le mode hors connexion, affectez à l'intervalle de temps une valeur élevée pour empêcher l'expiration des informations de rôle quand l'application est hors connexion.</span><span class="sxs-lookup"><span data-stu-id="7b983-166">If you implement offline mode, set the time interval to a large value to prevent the role information from expiring while the application is offline.</span></span>  
  
     <span data-ttu-id="7b983-167">Le fournisseur de rôles accède aux valeurs de rôle mises en cache ou au service de rôles quand vous appelez la méthode <xref:System.Web.Security.RolePrincipal.IsInRole%2A>.</span><span class="sxs-lookup"><span data-stu-id="7b983-167">The role provider accesses the cached role values or the roles service when you call the <xref:System.Web.Security.RolePrincipal.IsInRole%2A> method.</span></span> <span data-ttu-id="7b983-168">Pour réinitialiser le cache par programmation et forcer cette méthode afin d'accéder au service distant, appelez la méthode <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ResetCache%2A>.</span><span class="sxs-lookup"><span data-stu-id="7b983-168">To programmatically reset the cache and force this method to access the remote service, call the <xref:System.Web.ClientServices.Providers.ClientRoleProvider.ResetCache%2A> method.</span></span>  
  
5.  <span data-ttu-id="7b983-169">Activez ou désactivez **Utiliser une chaîne de connexion personnalisée**.</span><span class="sxs-lookup"><span data-stu-id="7b983-169">Select or clear **Use custom connection string**.</span></span> <span data-ttu-id="7b983-170">Pour plus d'informations, consultez la procédure suivante.</span><span class="sxs-lookup"><span data-stu-id="7b983-170">For more information, see the next procedure.</span></span>  
  
#### <a name="to-configure-client-application-services-to-use-a-database-for-the-local-cache"></a><span data-ttu-id="7b983-171">Pour configurer des services d'application cliente afin d'utiliser une base de données pour le cache local</span><span class="sxs-lookup"><span data-stu-id="7b983-171">To configure client application services to use a database for the local cache</span></span>  
  
1.  <span data-ttu-id="7b983-172">Dans la page **Services** du **Concepteur de projet**, cliquez sur **Avancé**.</span><span class="sxs-lookup"><span data-stu-id="7b983-172">On the **Services** page of the **Project Designer**, click **Advanced**.</span></span>  
  
     <span data-ttu-id="7b983-173">La boîte de dialogue **Paramètres avancés pour les services** s’affiche.</span><span class="sxs-lookup"><span data-stu-id="7b983-173">The **Advanced Settings for Services** dialog box appears.</span></span>  
  
2.  <span data-ttu-id="7b983-174">Sélectionnez **Utiliser une chaîne de connexion personnalisée**.</span><span class="sxs-lookup"><span data-stu-id="7b983-174">Select **Use custom connection string**.</span></span>  
  
     <span data-ttu-id="7b983-175">La valeur par défaut de `Data Source = |SQL/CE|` apparaît dans la zone de texte.</span><span class="sxs-lookup"><span data-stu-id="7b983-175">The default value of `Data Source = |SQL/CE|` appears in the text box.</span></span>  
  
3.  <span data-ttu-id="7b983-176">Pour générer et utiliser une base de données SQL Server Compact, conservez la valeur de chaîne de connexion par défaut.</span><span class="sxs-lookup"><span data-stu-id="7b983-176">To generate and use a SQL Server Compact database, keep the default connection string value.</span></span> <span data-ttu-id="7b983-177">Visual Studio génère un fichier de base de données et le place dans le répertoire indiqué par la propriété <xref:System.Windows.Forms.Application.UserAppDataPath%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7b983-177">Visual Studio will generate a database file and put it in the directory indicated by the <xref:System.Windows.Forms.Application.UserAppDataPath%2A?displayProperty=nameWithType> property.</span></span>  
  
4.  <span data-ttu-id="7b983-178">Pour générer et utiliser une base de données [!INCLUDE[ssEW](../../../includes/ssew-md.md)] chiffrée, ajoutez les valeurs `password` et `encrypt database` à la chaîne de connexion comme indiqué dans l'exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="7b983-178">To generate and use an encrypted [!INCLUDE[ssEW](../../../includes/ssew-md.md)] database, add `password` and `encrypt database` values to the connection string as shown in the following example.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="7b983-179">Spécifiez un mot de passe fort.</span><span class="sxs-lookup"><span data-stu-id="7b983-179">Be sure to specify a strong password.</span></span> <span data-ttu-id="7b983-180">Une fois la base de données générée, vous ne pouvez plus modifier le mot de passe.</span><span class="sxs-lookup"><span data-stu-id="7b983-180">You cannot change the password after the database is generated.</span></span>  
  
    ```  
    Data Source = |SQL/CE|;password=<password>;encrypt database=true  
    ```  
  
5.  <span data-ttu-id="7b983-181">Pour utiliser votre propre base de données SQL Server, spécifiez votre chaîne de connexion.</span><span class="sxs-lookup"><span data-stu-id="7b983-181">To use your own SQL Server database, specify your own connection string.</span></span> <span data-ttu-id="7b983-182">Pour plus d’informations sur les formats de chaîne de connexion valides, consultez la documentation de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="7b983-182">For information about valid connection string formats, see the SQL Server documentation.</span></span> <span data-ttu-id="7b983-183">Cette base de données n'est pas générée automatiquement.</span><span class="sxs-lookup"><span data-stu-id="7b983-183">This database is not generated automatically.</span></span> <span data-ttu-id="7b983-184">La chaîne de connexion doit faire référence à une base de données existante que vous pouvez créer à l'aide des instructions SQL suivantes.</span><span class="sxs-lookup"><span data-stu-id="7b983-184">The connection string must refer to an existing database that you can create using the following SQL statements.</span></span>  
  
    ```  
    CREATE TABLE ApplicationProperties (PropertyName nvarchar(256),  
        PropertyValue nvarchar(256))  
    CREATE TABLE UserProperties (PropertyName nvarchar(256),  
        PropertyValue nvarchar(256))  
    CREATE TABLE Roles (UserName nvarchar(256),   
        RoleName nvarchar(256))  
    CREATE TABLE Settings (PropertyName nvarchar(256),   
        PropertyStoredAs nvarchar(1), PropertyValue nvarchar(2048))  
    ```  
  
## <a name="using-custom-providers"></a><span data-ttu-id="7b983-185">Utilisation de fournisseurs personnalisés</span><span class="sxs-lookup"><span data-stu-id="7b983-185">Using Custom Providers</span></span>  
 <span data-ttu-id="7b983-186">Par défaut, la fonctionnalité des services d'application cliente utilise les fournisseurs dans l'espace de noms <xref:System.Web.ClientServices.Providers?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7b983-186">By default, the client application services feature uses the providers in the <xref:System.Web.ClientServices.Providers?displayProperty=nameWithType> namespace.</span></span> <span data-ttu-id="7b983-187">Quand vous configurez votre application à l’aide de la page **Services** du **Concepteur de projet**, les références à ces fournisseurs sont ajoutées à votre fichier App.config.</span><span class="sxs-lookup"><span data-stu-id="7b983-187">When you configure your application by using the **Services** page of the **Project Designer**, references to these providers are added to your App.config file.</span></span> <span data-ttu-id="7b983-188">Ces fournisseurs par défaut accèdent aux fournisseurs correspondants sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="7b983-188">These default providers access corresponding providers on the server.</span></span> <span data-ttu-id="7b983-189">Les services web sont souvent configurés pour accéder aux données utilisateur via des fournisseurs comme <xref:System.Web.Security.SqlMembershipProvider> et <xref:System.Web.Security.SqlRoleProvider>.</span><span class="sxs-lookup"><span data-stu-id="7b983-189">Web services are often configured to access user data through providers such as <xref:System.Web.Security.SqlMembershipProvider> and <xref:System.Web.Security.SqlRoleProvider>.</span></span>  
  
 <span data-ttu-id="7b983-190">Si vous souhaitez utiliser des fournisseurs de services personnalisés, vous devez généralement modifier les fournisseurs côté serveur pour qu'ils affectent toutes les applications clientes accédant au serveur.</span><span class="sxs-lookup"><span data-stu-id="7b983-190">If you want to use custom service providers, you will typically change the providers on the server side so that they affect all client applications that access the server.</span></span> <span data-ttu-id="7b983-191">Toutefois, vous avez la possibilité d'utiliser des fournisseurs non définis par défaut côté client.</span><span class="sxs-lookup"><span data-stu-id="7b983-191">However, you do have the option of using non-default providers on the client side.</span></span> <span data-ttu-id="7b983-192">Vous pouvez spécifier des fournisseurs de rôles ou d'authentification personnalisés dans le fichier App.config de votre projet, comme indiqué dans la procédure suivante.</span><span class="sxs-lookup"><span data-stu-id="7b983-192">You can specify custom authentication or roles providers in your project's App.config file, as shown in the following procedure.</span></span> <span data-ttu-id="7b983-193">Pour plus d’informations sur la création de fournisseurs de rôles et d’authentification personnalisés, consultez [Implémentation d’un fournisseur d’appartenances](https://msdn.microsoft.com/library/d8658b8e-c962-4f64-95e1-4acce35e4582) et [Implémentation d’un fournisseur de rôles](https://msdn.microsoft.com/library/851671ce-bf9b-43f2-aba4-bc9d28b11c7d).</span><span class="sxs-lookup"><span data-stu-id="7b983-193">For information about how to create custom authentication and role providers, see [Implementing a Membership Provider](https://msdn.microsoft.com/library/d8658b8e-c962-4f64-95e1-4acce35e4582) and [Implementing a Role Provider](https://msdn.microsoft.com/library/851671ce-bf9b-43f2-aba4-bc9d28b11c7d).</span></span> <span data-ttu-id="7b983-194">Vous pouvez également utiliser un fournisseur de paramètres personnalisés en modifiant la classe `Settings` de votre projet (accessible en tant que `Properties.Settings.Default` en C# et `My.Settings` en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="7b983-194">You can also use a custom settings provider by modifying your project's `Settings` class (accessed as `Properties.Settings.Default` in C# and `My.Settings` in Visual Basic).</span></span> <span data-ttu-id="7b983-195">Pour plus d’informations, consultez [Architecture des paramètres d’application](../../../docs/framework/winforms/advanced/application-settings-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="7b983-195">For more information, see [Application Settings Architecture](../../../docs/framework/winforms/advanced/application-settings-architecture.md).</span></span>  
  
#### <a name="to-configure-client-application-services-to-use-non-default-providers"></a><span data-ttu-id="7b983-196">Pour configurer les services d'application cliente afin d'utiliser des fournisseurs non définis par défaut</span><span class="sxs-lookup"><span data-stu-id="7b983-196">To configure client application services to use non-default providers</span></span>  
  
1.  <span data-ttu-id="7b983-197">Pour utiliser un fournisseur de services de rôles ou d’authentification non défini par défaut, commencez par indiquer tous les autres paramètres de configuration dans la page **Services**.</span><span class="sxs-lookup"><span data-stu-id="7b983-197">To use a non-default authentication or roles service provider, first complete all other configuration settings by using the **Services** page.</span></span>  
  
2.  <span data-ttu-id="7b983-198">Fermez le **Concepteur de projet**.</span><span class="sxs-lookup"><span data-stu-id="7b983-198">Close the **Project Designer**.</span></span> <span data-ttu-id="7b983-199">Cela est nécessaire, car la page **Services** mettra automatiquement à jour votre fichier App.config même si vous ne modifiez aucun paramètre.</span><span class="sxs-lookup"><span data-stu-id="7b983-199">This is necessary because the **Services** page will automatically update your App.config file even if you do not modify any settings.</span></span> <span data-ttu-id="7b983-200">Si vous modifiez manuellement votre fichier App.config comme décrit dans cette procédure, puis revenez à la page **Services**, vos modifications sont réinitialisées.</span><span class="sxs-lookup"><span data-stu-id="7b983-200">If you manually modify your App.config file as described in this procedure and then return to the **Services** page, your modifications will be reset.</span></span>  
  
3.  <span data-ttu-id="7b983-201">Dans l’**Explorateur de solutions**, double-cliquez sur App.config.</span><span class="sxs-lookup"><span data-stu-id="7b983-201">In **Solution Explorer**, double-click App.config.</span></span>  
  
     <span data-ttu-id="7b983-202">Le fichier de configuration de l'application s'ouvre dans l'éditeur de texte.</span><span class="sxs-lookup"><span data-stu-id="7b983-202">The application configuration file opens in the text editor.</span></span>  
  
4.  <span data-ttu-id="7b983-203">Recherchez l'élément `<providers>` dans l'élément `<membership>` ou `<roleManager>`.</span><span class="sxs-lookup"><span data-stu-id="7b983-203">Find the `<providers>` element within the `<membership>` or `<roleManager>` element.</span></span> <span data-ttu-id="7b983-204">Ces éléments sont des enfants de l'élément `<system.web>`.</span><span class="sxs-lookup"><span data-stu-id="7b983-204">These elements are children of the `<system.web>` element.</span></span> <span data-ttu-id="7b983-205">L'élément `<membership>` est utilisé pour spécifier des fournisseurs d'authentification et l'élément `<roleManager>` est utilisé pour spécifier des fournisseurs de rôles.</span><span class="sxs-lookup"><span data-stu-id="7b983-205">The `<membership>` element is used to specify authentication providers, and the `<roleManager>` element is used to specify role providers.</span></span>  
  
5.  <span data-ttu-id="7b983-206">Ajoutez un élément `<add>` en tant qu'enfant de l'élément `<providers>`.</span><span class="sxs-lookup"><span data-stu-id="7b983-206">Add an `<add>` element as a child of the `<providers>` element.</span></span> <span data-ttu-id="7b983-207">Vous devez spécifier les attributs `name` et `type` comme dans l'exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="7b983-207">You must specify `name` and `type` attributes as shown in the following example.</span></span> <span data-ttu-id="7b983-208">La valeur d'attribut `type` doit être le nom de type d'assembly complet.</span><span class="sxs-lookup"><span data-stu-id="7b983-208">The `type` attribute value must be an assembly-qualified type name.</span></span> <span data-ttu-id="7b983-209">Pour plus d’informations, consultez <xref:System.Type.AssemblyQualifiedName%2A?displayProperty=nameWithType> et [Noms d’assemblys](../../../docs/framework/app-domains/assembly-names.md).</span><span class="sxs-lookup"><span data-stu-id="7b983-209">For more information, see <xref:System.Type.AssemblyQualifiedName%2A?displayProperty=nameWithType> and [Assembly Names](../../../docs/framework/app-domains/assembly-names.md).</span></span>  
  
    ```xml  
    <add name="MyCustomRoleProvider" type="MyNamespace.MyRoleProvider, MyAssembly" />  
    ```  
  
6.  <span data-ttu-id="7b983-210">Modifiez l'attribut `defaultProvider` de l'élément `<membership>` ou `<roleManager>` pour spécifier la valeur de nom de l'élément `<add>` que vous avez ajouté dans l'étape précédente.</span><span class="sxs-lookup"><span data-stu-id="7b983-210">Modify the `defaultProvider` attribute of the `<membership>` or `<roleManager>` element to specify the name value from the `<add>` element that you added in the previous step.</span></span>  
  
    ```xml  
    <roleManager enabled="true" defaultProvider="MyCustomRoleProvider">  
    ```  
  
## <a name="see-also"></a><span data-ttu-id="7b983-211">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="7b983-211">See Also</span></span>  
 [<span data-ttu-id="7b983-212">Services d’application cliente</span><span class="sxs-lookup"><span data-stu-id="7b983-212">Client Application Services</span></span>](../../../docs/framework/common-client-technologies/client-application-services.md)  
 [<span data-ttu-id="7b983-213">Vue d'ensemble des services d'application cliente</span><span class="sxs-lookup"><span data-stu-id="7b983-213">Client Application Services Overview</span></span>](../../../docs/framework/common-client-technologies/client-application-services-overview.md)  
 [<span data-ttu-id="7b983-214">Page Services, Concepteur de projet</span><span class="sxs-lookup"><span data-stu-id="7b983-214">Services Page, Project Designer</span></span>](/visualstudio/ide/reference/services-page-project-designer)  
 [<span data-ttu-id="7b983-215">Paramètres avancés pour les services, boîte de dialogue</span><span class="sxs-lookup"><span data-stu-id="7b983-215">Advanced Settings for Services Dialog Box</span></span>](/visualstudio/ide/reference/advanced-settings-for-services-dialog-box)  
 [<span data-ttu-id="7b983-216">Comment : implémenter la connexion utilisateur avec les services d'application cliente</span><span class="sxs-lookup"><span data-stu-id="7b983-216">How to: Implement User Login with Client Application Services</span></span>](../../../docs/framework/common-client-technologies/how-to-implement-user-login-with-client-application-services.md)  
 [<span data-ttu-id="7b983-217">Procédure pas à pas : utilisation des services d'application cliente</span><span class="sxs-lookup"><span data-stu-id="7b983-217">Walkthrough: Using Client Application Services</span></span>](../../../docs/framework/common-client-technologies/walkthrough-using-client-application-services.md)  
 [<span data-ttu-id="7b983-218">Implémentation d’un fournisseur d’appartenances</span><span class="sxs-lookup"><span data-stu-id="7b983-218">Implementing a Membership Provider</span></span>](https://msdn.microsoft.com/library/d8658b8e-c962-4f64-95e1-4acce35e4582)  
 [<span data-ttu-id="7b983-219">Implémentation d’un fournisseur de rôles</span><span class="sxs-lookup"><span data-stu-id="7b983-219">Implementing a Role Provider</span></span>](https://msdn.microsoft.com/library/851671ce-bf9b-43f2-aba4-bc9d28b11c7d)  
 [<span data-ttu-id="7b983-220">Architecture des paramètres d'application</span><span class="sxs-lookup"><span data-stu-id="7b983-220">Application Settings Architecture</span></span>](../../../docs/framework/winforms/advanced/application-settings-architecture.md)  
 [<span data-ttu-id="7b983-221">Création et configuration de la base de données des services d'application pour SQL Server</span><span class="sxs-lookup"><span data-stu-id="7b983-221">Creating and Configuring the Application Services Database for SQL Server</span></span>](https://msdn.microsoft.com/library/ab894e83-7e2f-4af8-a116-b1bff8f815b2)
