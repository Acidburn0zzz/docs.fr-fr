---
title: "Création de la classe GamePiece"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 37a27a86-ac1c-47be-b477-cb4b819459d3
caps.latest.revision: 9
author: wadepickett
ms.author: wpickett
manager: wpickett
ms.translationtype: HT
ms.sourcegitcommit: 306c608dc7f97594ef6f72ae0f5aaba596c936e1
ms.openlocfilehash: 7ac9884766812cd635b5a70c028cf15c19838511
ms.contentlocale: fr-fr
ms.lasthandoff: 07/28/2017

---
# <a name="creating-the-gamepiece-class"></a><span data-ttu-id="b6bf8-102">Création de la classe GamePiece</span><span class="sxs-lookup"><span data-stu-id="b6bf8-102">Creating the GamePiece Class</span></span>
<span data-ttu-id="b6bf8-103">La classe **GamePiece** encapsule toutes les fonctionnalités requises pour charger une image de pièce de jeu Microsoft XNA, suivre l’état de la souris par rapport à la pièce de jeu, capturer la souris, fournir une manipulation et un traitement de l’inertie, et permettre à la pièce de jeu de rebondir quand elle atteint les limites du port d’affichage.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-103">The **GamePiece** class encapsulates all the functionality required to load a Microsoft XNA game piece image, track the state of the mouse in relation to the game piece, capture the mouse, provide manipulation and inertia processing, and provide bouncing capability when the game piece reaches the limits of the view port.</span></span>  
  
## <a name="private-members"></a><span data-ttu-id="b6bf8-104">Membres privés</span><span class="sxs-lookup"><span data-stu-id="b6bf8-104">Private Members</span></span>  
 <span data-ttu-id="b6bf8-105">Au sommet de la classe **GamePiece**, plusieurs membres privés sont déclarés.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-105">At the top of the **GamePiece** class, several private members are declared.</span></span>  
  
 <span data-ttu-id="b6bf8-106">[!code-csharp[ManipulationXNA#_GamePiece_PrivateMembers](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_privatemembers)]</span><span class="sxs-lookup"><span data-stu-id="b6bf8-106">[!code-csharp[ManipulationXNA#_GamePiece_PrivateMembers](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_privatemembers)]</span></span>  
  
## <a name="public-properties"></a><span data-ttu-id="b6bf8-107">Propriétés publiques</span><span class="sxs-lookup"><span data-stu-id="b6bf8-107">Public Properties</span></span>  
 <span data-ttu-id="b6bf8-108">Trois de ces membres privés sont exposés via des propriétés publiques.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-108">Three of these private members are exposed through public properties.</span></span> <span data-ttu-id="b6bf8-109">Les propriétés **Scale** et **PieceColor** permettent à l’application de spécifier, respectivement, l’échelle et la couleur de la pièce.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-109">The **Scale** and **PieceColor** properties enable the application to specify the scale and the color of the piece, respectively.</span></span> <span data-ttu-id="b6bf8-110">La propriété **Bounds** est exposée pour permettre à une pièce d’utiliser les limites d’une autre pièce pour être rendue, par exemple quand une pièce doit se superposer à une autre.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-110">The **Bounds** property is exposed to enable one piece to use the bounds of another to render itself, such as when one piece should overlay another.</span></span> <span data-ttu-id="b6bf8-111">Le code suivant affiche la déclaration des propriétés publiques.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-111">The following code shows the declaration of the public properties.</span></span>  
  
 <span data-ttu-id="b6bf8-112">[!code-csharp[ManipulationXNA#_GamePiece_PublicProperties](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_publicproperties)]</span><span class="sxs-lookup"><span data-stu-id="b6bf8-112">[!code-csharp[ManipulationXNA#_GamePiece_PublicProperties](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_publicproperties)]</span></span>  
  
## <a name="class-constructor"></a><span data-ttu-id="b6bf8-113">Constructeur de classe</span><span class="sxs-lookup"><span data-stu-id="b6bf8-113">Class Constructor</span></span>  
 <span data-ttu-id="b6bf8-114">Le constructeur de la classe **GamePiece** accepte les paramètres suivants :</span><span class="sxs-lookup"><span data-stu-id="b6bf8-114">The constructor for the **GamePiece** class accepts the following parameters:</span></span>  
  
-   <span data-ttu-id="b6bf8-115">Un type [SpriteBatch](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.aspx).</span><span class="sxs-lookup"><span data-stu-id="b6bf8-115">A [SpriteBatch](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.aspx) type.</span></span> <span data-ttu-id="b6bf8-116">La référence passée ici est assignée au membre privé `spriteBatch` ; elle est utilisée pour accéder à la méthode [SpriteBatch.Draw](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.draw.aspx) quand la pièce de jeu est rendue.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-116">The reference passed here is assigned to the private member `spriteBatch`, and is used to access the [SpriteBatch.Draw](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.draw.aspx) method when the game piece renders itself.</span></span> <span data-ttu-id="b6bf8-117">Par ailleurs, la propriété [GraphicsDevice](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.graphicsdevice.aspx) est utilisée pour créer l’objet [Texture](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.texture.aspx) associé à la pièce de jeu, mais aussi obtenir la taille du port d’affichage pour détecter quand la pièce de jeu rencontre une limite de fenêtre et la faire rebondir.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-117">In addition, the [GraphicsDevice](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.spritebatch.graphicsdevice.aspx) property is used to create the [Texture](http://msdn.microsoft.com/library/microsoft.xna.framework.graphics.texture.aspx) object associated with the game piece, and to obtain the size of the view port in order to detect when the game piece encounters a window boundary so that the piece can bounce.</span></span>  
  
-   <span data-ttu-id="b6bf8-118">Une chaîne qui spécifie le nom de fichier de l'image à utiliser pour la pièce de jeu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-118">A string that specifies the file name of the image to use for the game piece.</span></span>  
  
 <span data-ttu-id="b6bf8-119">Le constructeur crée également un objet <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> et un objet <xref:System.Windows.Input.Manipulations.InertiaProcessor2D>, et établit des gestionnaires d'événements pour leurs événements.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-119">The constructor also creates a <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> object and an <xref:System.Windows.Input.Manipulations.InertiaProcessor2D> object, and establishes event handlers for their events.</span></span>  
  
 <span data-ttu-id="b6bf8-120">Le code suivant montre le constructeur pour la classe **GamePiece**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-120">The following code shows the constructor for the **GamePiece** class.</span></span>  
  
 <span data-ttu-id="b6bf8-121">[!code-csharp[ManipulationXNA#_GamePiece_Constructor](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_constructor)]</span><span class="sxs-lookup"><span data-stu-id="b6bf8-121">[!code-csharp[ManipulationXNA#_GamePiece_Constructor](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_constructor)]</span></span>  
  
## <a name="capturing-mouse-input"></a><span data-ttu-id="b6bf8-122">Capture de l'entrée de la souris</span><span class="sxs-lookup"><span data-stu-id="b6bf8-122">Capturing Mouse Input</span></span>  
 <span data-ttu-id="b6bf8-123">La méthode **UpdateFromMouse** est chargée de détecter quand l’utilisateur appuie sur un bouton de la souris, tant que celle-ci se trouve dans les limites de la pièce de jeu, et quand l’utilisateur relâche le bouton de la souris.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-123">The **UpdateFromMouse** method is responsible for detecting when a mouse button is pressed while the mouse is within the boundaries of the game piece, and for detecting when the mouse button has been released.</span></span>  
  
 <span data-ttu-id="b6bf8-124">Quand l'utilisateur appuie sur le bouton gauche de la souris (celle-ci se trouvant dans les limites de la pièce), cette méthode définit un indicateur pour signaler que cette pièce de jeu a capturé la souris, et commence le traitement de la manipulation.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-124">When the left mouse button is pressed (while the mouse is inside the piece boundaries), this method sets a flag to indicate that this game piece has captured the mouse, and begins manipulation processing.</span></span>  
  
 <span data-ttu-id="b6bf8-125">Le traitement de la manipulation est démarré en créant un tableau d'objets <xref:System.Windows.Input.Manipulations.Manipulator2D> et en les passant à l'objet <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D>.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-125">Manipulation processing is started by creating an array of <xref:System.Windows.Input.Manipulations.Manipulator2D> objects and passing them to the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D> object.</span></span> <span data-ttu-id="b6bf8-126">Le processeur de manipulation évalue alors les manipulateurs (ici, un seul manipulateur) et déclenche des événements de manipulation.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-126">This causes the manipulation processor to evaluate the manipulators (in this case a single manipulator), and raise manipulation events.</span></span>  
  
 <span data-ttu-id="b6bf8-127">Par ailleurs, le point où se produit le glissement est enregistré.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-127">In addition, the point at which the drag is occurring is saved.</span></span> <span data-ttu-id="b6bf8-128">Cette opération est utilisée ultérieurement lors de l'événement <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> pour ajuster les valeurs de translation de delta afin que la pièce de jeu s'aligne derrière le point de glissement.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-128">This is used later during the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> event to adjust the delta translation values so that the game piece swings into line behind the drag point.</span></span>  
  
 <span data-ttu-id="b6bf8-129">Enfin, cette méthode retourne l'état de la capture de la souris.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-129">Finally, this method returns the state of the mouse capture.</span></span> <span data-ttu-id="b6bf8-130">Cela permet à l’objet [GamePieceCollection](../../../docs/framework/common-client-technologies/creating-the-gamepiececollection-class.md) de gérer la capture quand il existe plusieurs pièces de jeu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-130">This enables the [GamePieceCollection](../../../docs/framework/common-client-technologies/creating-the-gamepiececollection-class.md) object to manage capturing when there are multiple game pieces.</span></span>  
  
 <span data-ttu-id="b6bf8-131">Le code suivant montre la méthode **UpdateFromMouse**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-131">The following code shows the **UpdateFromMouse** method.</span></span>  
  
 <span data-ttu-id="b6bf8-132">[!code-csharp[ManipulationXNA#_GamePiece_UpdateFromMouse](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_updatefrommouse)]</span><span class="sxs-lookup"><span data-stu-id="b6bf8-132">[!code-csharp[ManipulationXNA#_GamePiece_UpdateFromMouse](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_updatefrommouse)]</span></span>  
  
## <a name="processing-manipulations"></a><span data-ttu-id="b6bf8-133">Traitement des manipulations</span><span class="sxs-lookup"><span data-stu-id="b6bf8-133">Processing Manipulations</span></span>  
 <span data-ttu-id="b6bf8-134">Au début d'une manipulation, l'événement <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Started> est déclenché.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-134">When manipulation begins, the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Started> event is raised.</span></span> <span data-ttu-id="b6bf8-135">Le gestionnaire de cet événement arrête le traitement de l’inertie, le cas échéant, et affecte à l’indicateur *processInertia* la valeur `false`.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-135">The handler for this event stops inertia processing if it is occurring, and sets the *processInertia* flag to `false`.</span></span>  
  
 <span data-ttu-id="b6bf8-136">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationStarted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationstarted)]</span><span class="sxs-lookup"><span data-stu-id="b6bf8-136">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationStarted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationstarted)]</span></span>  
  
 <span data-ttu-id="b6bf8-137">À mesure que les valeurs associées à la manipulation sont modifiées, l'événement <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> est déclenché.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-137">As the values associated with the manipulation change, the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Delta> event is raised.</span></span> <span data-ttu-id="b6bf8-138">Le gestionnaire de cet événement utilise les valeurs delta passées aux arguments de l’événement pour modifier les valeurs de rotation et de position de la pièce de jeu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-138">The handler for this event uses the delta values passed in the event arguments to make changes to the position and rotation values of the game piece.</span></span>  
  
 <span data-ttu-id="b6bf8-139">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationDelta](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationdelta)]</span><span class="sxs-lookup"><span data-stu-id="b6bf8-139">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationDelta](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationdelta)]</span></span>  
  
 <span data-ttu-id="b6bf8-140">Quand tous les manipulateurs (ici, un seul manipulateur) associés à une manipulation sont supprimés, le processeur de manipulation déclenche l'événement <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Completed>.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-140">When all of the manipulators (in this case, a single manipulator) that are associated with a manipulation are removed, the manipulation processor raises the <xref:System.Windows.Input.Manipulations.ManipulationProcessor2D.Completed> event.</span></span> <span data-ttu-id="b6bf8-141">Le gestionnaire de cet événement commence le traitement de l’inertie en attribuant les rapidités initiales indiquées par les arguments de l’événement à celles du processeur d’inertie et affecte à l’indicateur *processInertia* la valeur `true`.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-141">The handler for this event begins inertia processing by setting the initial velocities of the inertia processor to those reported by the event arguments, and sets the *processInertia* flag to `true`.</span></span>  
  
 <span data-ttu-id="b6bf8-142">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationCompleted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationcompleted)]</span><span class="sxs-lookup"><span data-stu-id="b6bf8-142">[!code-csharp[ManipulationXNA#_GamePiece_OnManipulationCompleted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_onmanipulationcompleted)]</span></span>  
  
## <a name="processing-inertia"></a><span data-ttu-id="b6bf8-143">Traitement de l'inertie</span><span class="sxs-lookup"><span data-stu-id="b6bf8-143">Processing Inertia</span></span>  
 <span data-ttu-id="b6bf8-144">À mesure que le traitement de l'inertie extrapole de nouvelles valeurs pour les rapidités angulaires et linéaires, les coordonnées de position (translation) et la rotation, l'événement <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> est déclenché.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-144">As inertia processing extrapolates new values for angular and linear velocities, position (translation) coordinates, and rotation, the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> event is raised.</span></span> <span data-ttu-id="b6bf8-145">Le gestionnaire de cet événement utilise les valeurs delta passées aux arguments de l'événement pour modifier les valeurs de rotation et de position de la pièce de jeu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-145">The handler for this event uses the delta values passed in the event arguments to modify the position and rotation of the game piece.</span></span>  
  
 <span data-ttu-id="b6bf8-146">Si la pièce de jeu sort des limites du port d'affichage en raison des nouvelles coordonnées, la rapidité du traitement de l'inertie est inversée.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-146">If the new coordinates result in the game piece moving beyond the view port boundaries, the velocity of the inertia processing is reversed.</span></span> <span data-ttu-id="b6bf8-147">Ainsi, la pièce de jeu rebondit sur la limite du port d'affichage qu'elle a rencontrée.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-147">This causes the game piece to bounce off the view port boundary that it has encountered.</span></span>  
  
 <span data-ttu-id="b6bf8-148">Vous ne pouvez pas modifier les propriétés d'un objet <xref:System.Windows.Input.Manipulations.InertiaProcessor2D> pendant qu'il exécute l'extrapolation.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-148">You cannot change the properties of an <xref:System.Windows.Input.Manipulations.InertiaProcessor2D> object while it is running extrapolation.</span></span> <span data-ttu-id="b6bf8-149">Par conséquent, lors de l'inversion de la rapidité X ou Y, le gestionnaire d'événements arrête d'abord l'inertie en appelant la méthode <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Complete%2A>.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-149">Therefore, when reversing the X or Y velocity, the event handler first stops inertia by calling the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Complete%2A> method.</span></span> <span data-ttu-id="b6bf8-150">Il assigne ensuite les nouvelles valeurs de rapidités initiales en tant que valeurs de rapidités actuelles (ajustées pour un comportement d’éponge) et affecte à l’indicateur *processInertia* la valeur `true`.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-150">It then assigns the new initial velocity values to be the current velocity values (adjusted for sponge behavior), and sets the *processInertia* flag to `true`.</span></span>  
  
 <span data-ttu-id="b6bf8-151">Le code suivant montre le gestionnaire d'événements pour l'événement <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta>.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-151">The following code shows the event handler for the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> event.</span></span>  
  
 <span data-ttu-id="b6bf8-152">[!code-csharp[ManipulationXNA#_GamePiece_OnInertiaDelta](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_oninertiadelta)]</span><span class="sxs-lookup"><span data-stu-id="b6bf8-152">[!code-csharp[ManipulationXNA#_GamePiece_OnInertiaDelta](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_oninertiadelta)]</span></span>  
  
 <span data-ttu-id="b6bf8-153">Une fois le traitement de l'inertie terminé, le processeur d'inertie déclenche l'événement <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Completed>.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-153">When inertia processing is complete, the inertia processor raises the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Completed> event.</span></span> <span data-ttu-id="b6bf8-154">Le gestionnaire de cet événement affecte à l’indicateur *processInertia* la valeur `false`.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-154">The handler for this event sets the *processInertia* flag to `false`.</span></span>  
  
 <span data-ttu-id="b6bf8-155">[!code-csharp[ManipulationXNA#_GamePiece_OnInertiaCompleted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_oninertiacompleted)]</span><span class="sxs-lookup"><span data-stu-id="b6bf8-155">[!code-csharp[ManipulationXNA#_GamePiece_OnInertiaCompleted](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_oninertiacompleted)]</span></span>  
  
 <span data-ttu-id="b6bf8-156">La logique présentée jusqu'à présent n'entraîne en aucun cas une extrapolation de l'inertie.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-156">None of the logic presented so far actually causes inertia extrapolation to occur.</span></span> <span data-ttu-id="b6bf8-157">Cette opération est accomplie dans la méthode **ProcessInertia**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-157">This is accomplished in the **ProcessInertia** method.</span></span> <span data-ttu-id="b6bf8-158">Cette méthode, qui est appelée plusieurs fois à partir de la boucle de mise à jour du jeu (méthode [Game.Update](http://msdn.microsoft.com/library/microsoft.xna.framework.game.update.aspx)), vérifie si l’indicateur *processInertia* a la valeur `true` et, le cas échéant, appelle la méthode <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Process%2A>.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-158">This method, which is called repeatedly from the game update loop (the [Game.Update](http://msdn.microsoft.com/library/microsoft.xna.framework.game.update.aspx) method) checks to see if the *processInertia* flag is set to `true`, and if so, calls the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Process%2A> method.</span></span> <span data-ttu-id="b6bf8-159">L'appel de cette méthode entraîne l'extrapolation et déclenche l'événement <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta>.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-159">Calling this method causes extrapolation to occur, and raises the <xref:System.Windows.Input.Manipulations.InertiaProcessor2D.Delta> event.</span></span>  
  
 <span data-ttu-id="b6bf8-160">[!code-csharp[ManipulationXNA#_GamePiece_ProcessInertia](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_processinertia)]</span><span class="sxs-lookup"><span data-stu-id="b6bf8-160">[!code-csharp[ManipulationXNA#_GamePiece_ProcessInertia](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_processinertia)]</span></span>  
  
 <span data-ttu-id="b6bf8-161">En réalité, la pièce de jeu n'est rendue qu'au moment de l'appel de l'une des surcharges de la méthode Draw.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-161">The game piece is not actually rendered until one of the Draw method overloads is called.</span></span> <span data-ttu-id="b6bf8-162">La première surcharge de cette méthode est appelée plusieurs fois à partir de la boucle de dessin du jeu (méthode [Game.Draw](http://msdn.microsoft.com/library/microsoft.xna.framework.game.draw.aspx)).</span><span class="sxs-lookup"><span data-stu-id="b6bf8-162">The first overload of this method is called repeatedly from the game draw loop (the [Game.Draw](http://msdn.microsoft.com/library/microsoft.xna.framework.game.draw.aspx) method).</span></span> <span data-ttu-id="b6bf8-163">Elle assure le rendu de la pièce de jeu avec les facteurs actuels de position, de rotation et d'échelle.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-163">This renders the game piece with the current position, rotation, and scale factors.</span></span>  
  
 <span data-ttu-id="b6bf8-164">[!code-csharp[ManipulationXNA#_GamePiece_Draw](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_draw)]</span><span class="sxs-lookup"><span data-stu-id="b6bf8-164">[!code-csharp[ManipulationXNA#_GamePiece_Draw](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_draw)]</span></span>  
  
## <a name="additional-properties"></a><span data-ttu-id="b6bf8-165">Autres propriétés</span><span class="sxs-lookup"><span data-stu-id="b6bf8-165">Additional Properties</span></span>  
 <span data-ttu-id="b6bf8-166">Trois propriétés privées sont utilisées par la classe **GamePiece**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-166">Three private properties are used by the **GamePiece** class.</span></span>  
  
1.  <span data-ttu-id="b6bf8-167">**Timestamp** : obtient une valeur d’horodatage utilisée par les processeurs d’inertie et de manipulation.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-167">**Timestamp** – Gets a timestamp value to be used by the manipulation and inertia processors.</span></span>  
  
2.  <span data-ttu-id="b6bf8-168">**X** : obtient ou définit la coordonnée X de la pièce de jeu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-168">**X** – Gets or sets the X coordinate of the game piece.</span></span> <span data-ttu-id="b6bf8-169">Lors de la configuration, règle les limites utilisées pour les tests de résultats et l'emplacement du pivot du processeur de manipulation.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-169">When setting, adjusts the bounds used for hit testing and the pivot location of the manipulation processor.</span></span>  
  
3.  <span data-ttu-id="b6bf8-170">**Y** : obtient ou définit la coordonnée Y de la pièce de jeu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-170">**Y** – Gets or sets the Y coordinate of the game piece.</span></span> <span data-ttu-id="b6bf8-171">Lors de la configuration, règle les limites utilisées pour les tests de résultats et l'emplacement du pivot du processeur de manipulation.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-171">When setting, adjusts the bounds used for hit testing and the pivot location of the manipulation processor.</span></span>  
  
 <span data-ttu-id="b6bf8-172">[!code-csharp[ManipulationXNA#_GamePiece_PrivateProperties](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_privateproperties)]</span><span class="sxs-lookup"><span data-stu-id="b6bf8-172">[!code-csharp[ManipulationXNA#_GamePiece_PrivateProperties](../../../samples/snippets/csharp/VS_Snippets_Misc/manipulationxna/cs/gamepiece.cs#_gamepiece_privateproperties)]</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b6bf8-173">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="b6bf8-173">See Also</span></span>  
 <span data-ttu-id="b6bf8-174">[Manipulations et inertie](../../../docs/framework/common-client-technologies/manipulations-and-inertia.md) </span><span class="sxs-lookup"><span data-stu-id="b6bf8-174">[Manipulations and Inertia](../../../docs/framework/common-client-technologies/manipulations-and-inertia.md) </span></span>  
 <span data-ttu-id="b6bf8-175">[Utilisation de manipulations et de l’inertie dans une application XNA](../../../docs/framework/common-client-technologies/use-manipulations-and-inertia-in-an-xna-application.md) </span><span class="sxs-lookup"><span data-stu-id="b6bf8-175">[Using Manipulations and Inertia in an XNA Application](../../../docs/framework/common-client-technologies/use-manipulations-and-inertia-in-an-xna-application.md) </span></span>  
 <span data-ttu-id="b6bf8-176">[Création de la classe GamePieceCollection](../../../docs/framework/common-client-technologies/creating-the-gamepiececollection-class.md) </span><span class="sxs-lookup"><span data-stu-id="b6bf8-176">[Creating the GamePieceCollection Class](../../../docs/framework/common-client-technologies/creating-the-gamepiececollection-class.md) </span></span>  
 [<span data-ttu-id="b6bf8-177">Création de la classe Game1</span><span class="sxs-lookup"><span data-stu-id="b6bf8-177">Creating the Game1 Class</span></span>](../../../docs/framework/common-client-technologies/creating-the-game1-class.md)

