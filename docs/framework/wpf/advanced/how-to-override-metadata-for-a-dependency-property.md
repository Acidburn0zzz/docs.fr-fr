---
title: "Procédure : Substituer les métadonnées d'une propriété de dépendance"
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- metadata [WPF], overriding for dependency properties
- dependency properties [WPF], overriding metadata for
- overriding metadata for dependency properties [WPF]
ms.assetid: f90f026e-60d8-428a-933d-edf0dba4441f
ms.openlocfilehash: ba2f98d262f5c43dbd0c07d356556cdc3ec4b8dc
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/23/2019
ms.locfileid: "54589751"
---
# <a name="how-to-override-metadata-for-a-dependency-property"></a><span data-ttu-id="e1071-102">Procédure : Substituer les métadonnées d'une propriété de dépendance</span><span class="sxs-lookup"><span data-stu-id="e1071-102">How to: Override Metadata for a Dependency Property</span></span>
<span data-ttu-id="e1071-103">Cet exemple montre comment substituer les métadonnées de propriété de dépendance par défaut héritées d’une classe, en appelant le <xref:System.Windows.DependencyProperty.OverrideMetadata%2A> (méthode) et en fournissant des métadonnées spécifiques au type.</span><span class="sxs-lookup"><span data-stu-id="e1071-103">This example shows how to override default dependency property metadata that comes from an inherited class, by calling the <xref:System.Windows.DependencyProperty.OverrideMetadata%2A> method and providing type-specific metadata.</span></span>  
  
## <a name="example"></a><span data-ttu-id="e1071-104">Exemple</span><span class="sxs-lookup"><span data-stu-id="e1071-104">Example</span></span>  
 <span data-ttu-id="e1071-105">En définissant son <xref:System.Windows.PropertyMetadata>, une classe peut définir les comportements de la propriété de dépendance, telles que ses rappels de système de valeur et la propriété par défaut.</span><span class="sxs-lookup"><span data-stu-id="e1071-105">By defining its <xref:System.Windows.PropertyMetadata>, a class can define the dependency property's behaviors, such as its default value and property system callbacks.</span></span> <span data-ttu-id="e1071-106">De nombreuses classes de propriétés de dépendance ont déjà des métadonnées par défaut définies dans le cadre de leur processus d’inscription.</span><span class="sxs-lookup"><span data-stu-id="e1071-106">Many dependency property classes already have default metadata established as part of their registration process.</span></span> <span data-ttu-id="e1071-107">Cela inclut les propriétés de dépendance qui font partie de l’[!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e1071-107">This includes the dependency properties that are part of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)].</span></span> <span data-ttu-id="e1071-108">Une classe qui hérite de la propriété de dépendance par l’intermédiaire de son héritage de classe peut substituer les métadonnées d’origine pour que les caractéristiques de la propriété qui peuvent être modifiées via des métadonnées respectent les exigences propres à la sous-classe.</span><span class="sxs-lookup"><span data-stu-id="e1071-108">A class that inherits the dependency property through its class inheritance can override the original metadata so that the characteristics of the property that can be altered through metadata will match any subclass-specific requirements.</span></span>  
  
 <span data-ttu-id="e1071-109">La substitution des métadonnées sur une propriété de dépendance doit être effectuée avant que celle-ci soit mise en cours d’utilisation par le système de propriétés (cela équivaut au moment où des instances spécifiques d’objets qui inscrivent la propriété sont instanciées).</span><span class="sxs-lookup"><span data-stu-id="e1071-109">Overriding metadata on a dependency property must be done prior to that property being placed in use by the property system (this equates to the time that specific instances of objects that register the property are instantiated).</span></span> <span data-ttu-id="e1071-110">Les appels à <xref:System.Windows.DependencyProperty.OverrideMetadata%2A> doivent être effectués dans les constructeurs statiques du type qui fournit lui-même comme le `forType` paramètre de <xref:System.Windows.DependencyProperty.OverrideMetadata%2A>.</span><span class="sxs-lookup"><span data-stu-id="e1071-110">Calls to <xref:System.Windows.DependencyProperty.OverrideMetadata%2A> must be performed within the static constructors of the type that provides itself as the `forType` parameter of <xref:System.Windows.DependencyProperty.OverrideMetadata%2A>.</span></span> <span data-ttu-id="e1071-111">Si vous tentez de changer des métadonnées une fois qu’il existe des instances du type propriétaire, cela ne déclenche pas d’exceptions mais provoque des comportements incohérents dans le système de propriétés.</span><span class="sxs-lookup"><span data-stu-id="e1071-111">If you attempt to change metadata once instances of the owner type exist, this will not raise exceptions, but will result in inconsistent behaviors in the property system.</span></span> <span data-ttu-id="e1071-112">En outre, les métadonnées ne peuvent être substituée qu’une seule fois par type.</span><span class="sxs-lookup"><span data-stu-id="e1071-112">Also, metadata can only be overridden once per type.</span></span> <span data-ttu-id="e1071-113">Toute tentative ultérieure de substitution des métadonnées sur le même type lève une exception.</span><span class="sxs-lookup"><span data-stu-id="e1071-113">Subsequent attempts to override metadata on the same type will raise an exception.</span></span>  
  
 <span data-ttu-id="e1071-114">Dans l’exemple suivant, la classe personnalisée `MyAdvancedStateControl` remplace les métadonnées fournies pour `StateProperty` par `MyAdvancedStateControl` par de nouvelles métadonnées de propriété.</span><span class="sxs-lookup"><span data-stu-id="e1071-114">In the following example, the custom class `MyAdvancedStateControl` overrides the metadata provided for `StateProperty` by `MyAdvancedStateControl` with new property metadata.</span></span> <span data-ttu-id="e1071-115">Par exemple, la valeur par défaut de `StateProperty` est désormais `true` quand la propriété est interrogée sur une instance de `MyAdvancedStateControl` nouvellement construite.</span><span class="sxs-lookup"><span data-stu-id="e1071-115">For instance, the default value of the `StateProperty` is now `true` when the property is queried on a newly constructed `MyAdvancedStateControl` instance.</span></span>  
  
 [!code-csharp[PropertySystemEsoterics#MyStateControl](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertySystemEsoterics/CSharp/SDKSampleLibrary/class1.cs#mystatecontrol)]
 [!code-vb[PropertySystemEsoterics#MyStateControl](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertySystemEsoterics/visualbasic/sdksamplelibrary/class1.vb#mystatecontrol)]  
[!code-csharp[PropertySystemEsoterics#MyAdvancedStateControl](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PropertySystemEsoterics/CSharp/SDKSampleLibrary/class1.cs#myadvancedstatecontrol)]
[!code-vb[PropertySystemEsoterics#MyAdvancedStateControl](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/PropertySystemEsoterics/visualbasic/sdksamplelibrary/class1.vb#myadvancedstatecontrol)]  
  
## <a name="see-also"></a><span data-ttu-id="e1071-116">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="e1071-116">See also</span></span>
- <xref:System.Windows.DependencyProperty>
- [<span data-ttu-id="e1071-117">Vue d’ensemble des propriétés de dépendance</span><span class="sxs-lookup"><span data-stu-id="e1071-117">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)
- [<span data-ttu-id="e1071-118">Propriétés de dépendance personnalisées</span><span class="sxs-lookup"><span data-stu-id="e1071-118">Custom Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)
- [<span data-ttu-id="e1071-119">Rubriques de guide pratique</span><span class="sxs-lookup"><span data-stu-id="e1071-119">How-to Topics</span></span>](../../../../docs/framework/wpf/advanced/properties-how-to-topics.md)
