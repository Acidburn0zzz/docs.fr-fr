---
title: "Comment : contrôler le remplissage d'une forme composite"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- shapes [WPF], composite [WPF], controlling fill
- composite shapes [WPF], controlling fill
- graphics [WPF], composite shapes
- fill [WPF], controlling
ms.assetid: c1c94575-9eca-48a5-a49a-2ec65259f229
caps.latest.revision: "11"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 5730b930a4f863ad01fcb6153d9bfd8f700fdb92
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/21/2017
---
# <a name="how-to-control-the-fill-of-a-composite-shape"></a><span data-ttu-id="212e5-102">Comment : contrôler le remplissage d'une forme composite</span><span class="sxs-lookup"><span data-stu-id="212e5-102">How to: Control the Fill of a Composite Shape</span></span>
<span data-ttu-id="212e5-103">Le <xref:System.Windows.Media.GeometryGroup.FillRule%2A> propriété d’un <xref:System.Windows.Media.GeometryGroup> ou un <xref:System.Windows.Media.PathGeometry>, spécifie une « règle » que la forme composite utilise pour déterminer si un point donné fait partie de la géométrie.</span><span class="sxs-lookup"><span data-stu-id="212e5-103">The <xref:System.Windows.Media.GeometryGroup.FillRule%2A> property of a <xref:System.Windows.Media.GeometryGroup> or a <xref:System.Windows.Media.PathGeometry>, specifies a "rule" which the composite shape uses to determine whether a given point is part of the geometry.</span></span> <span data-ttu-id="212e5-104">Il existe deux valeurs possibles pour <xref:System.Windows.Media.FillRule>: <xref:System.Windows.Media.FillRule.EvenOdd> et <xref:System.Windows.Media.FillRule.Nonzero>.</span><span class="sxs-lookup"><span data-stu-id="212e5-104">There are two possible values for <xref:System.Windows.Media.FillRule>: <xref:System.Windows.Media.FillRule.EvenOdd> and <xref:System.Windows.Media.FillRule.Nonzero>.</span></span> <span data-ttu-id="212e5-105">Les sections suivantes décrivent comment utiliser ces deux règles.</span><span class="sxs-lookup"><span data-stu-id="212e5-105">The following sections will describe how to use these two rules.</span></span>  
  
 <span data-ttu-id="212e5-106">**EvenOdd :** cette règle détermine si un point se trouve dans la région de remplissage en dessinant un rayon à partir de ce point vers l’infini dans n’importe quelle direction et en comptant le nombre de segments de tracé dans la forme donnée qui sont coupés par le rayon.</span><span class="sxs-lookup"><span data-stu-id="212e5-106">**EvenOdd:** This rule determines whether a point is in the fill region by drawing a ray from that point to infinity in any direction and counting the number of path segments within the given shape that the ray crosses.</span></span> <span data-ttu-id="212e5-107">Si ce nombre est impair, le point est à l’intérieur ; s’il est pair, le point est à l’extérieur.</span><span class="sxs-lookup"><span data-stu-id="212e5-107">If this number is odd, the point is inside; if even, the point is outside.</span></span>  
  
 <span data-ttu-id="212e5-108">Par exemple, le code XAML suivant crée une forme composite constituée d’une série d’anneaux concentriques (cible) avec une <xref:System.Windows.Media.GeometryGroup.FillRule%2A> la valeur <xref:System.Windows.Media.FillRule.EvenOdd>.</span><span class="sxs-lookup"><span data-stu-id="212e5-108">For example, the XAML below creates a composite shape made up of a series of concentric rings (target) with a <xref:System.Windows.Media.GeometryGroup.FillRule%2A> set to <xref:System.Windows.Media.FillRule.EvenOdd>.</span></span>  
  
 [!code-xaml[GeometriesMiscSnippets_snip#FillRuleEvenOddValue](../../../../samples/snippets/xaml/VS_Snippets_Wpf/GeometriesMiscSnippets_snip/XAML/FillRuleExample.xaml#fillruleevenoddvalue)]  
  
 <span data-ttu-id="212e5-109">L’illustration suivante montre la forme créée dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="212e5-109">The following illustration shows the shape created in the previous example.</span></span>  
  
 <span data-ttu-id="212e5-110">![Capture d'écran : propriété FillRule de EvenOdd](../../../../docs/framework/wpf/graphics-multimedia/media/fillruleevenoddfirstone.png "FillRuleEvenOddFirstOne")</span><span class="sxs-lookup"><span data-stu-id="212e5-110">![Screenshot: FillRule Property of EvenOdd](../../../../docs/framework/wpf/graphics-multimedia/media/fillruleevenoddfirstone.png "FillRuleEvenOddFirstOne")</span></span>  
  
 <span data-ttu-id="212e5-111">Dans l’illustration ci-dessus, notez que le centre et le 3e anneau ne sont pas remplis.</span><span class="sxs-lookup"><span data-stu-id="212e5-111">In the illustration above, notice that the center and 3rd ring are not filled.</span></span> <span data-ttu-id="212e5-112">En effet, un rayon dessiné à partir de n’importe quel point dans un de ces deux anneaux traverse un nombre pair de segments.</span><span class="sxs-lookup"><span data-stu-id="212e5-112">This is because a ray drawn from any point within either of those two rings passes through an even number of segments.</span></span> <span data-ttu-id="212e5-113">Voir l’illustration ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="212e5-113">See illustration below:</span></span>  
  
 <span data-ttu-id="212e5-114">![Diagramme : valeur de propriété FillRule de EvenOdd](../../../../docs/framework/wpf/graphics-multimedia/media/fillruleevenodd2.png "FillRuleEvenOdd2")</span><span class="sxs-lookup"><span data-stu-id="212e5-114">![Diagram: FillRule property value of EvenOdd](../../../../docs/framework/wpf/graphics-multimedia/media/fillruleevenodd2.png "FillRuleEvenOdd2")</span></span>  
  
 <span data-ttu-id="212e5-115">**NonZero :** cette règle détermine si un point se trouve dans la région de remplissage du tracé en dessinant un rayon à partir de ce point vers l’infini dans n’importe quelle direction, puis en examinant les emplacements où un segment de la forme coupe le rayon.</span><span class="sxs-lookup"><span data-stu-id="212e5-115">**NonZero:** This rule determines whether a point is in the fill region of the path by drawing a ray from that point to infinity in any direction and then examining the places where a segment of the shape crosses the ray.</span></span> <span data-ttu-id="212e5-116">En commençant à zéro, comptez un point chaque fois qu’un segment coupe le rayon de gauche à droite, et soustrayez un point chaque fois qu’un segment de tracé traverse le rayon de droite à gauche.</span><span class="sxs-lookup"><span data-stu-id="212e5-116">Starting with a count of zero, add one each time a Segment crosses the ray from left to right and subtract one each time a path segment crosses the ray from right to left.</span></span> <span data-ttu-id="212e5-117">Comptez ensuite le nombre d’intersections : si le résultat est égal à zéro, le point est à l’extérieur du tracé.</span><span class="sxs-lookup"><span data-stu-id="212e5-117">After counting the crossings, if the result is zero then the point is outside the path.</span></span> <span data-ttu-id="212e5-118">Sinon, il est à l’intérieur.</span><span class="sxs-lookup"><span data-stu-id="212e5-118">Otherwise, it is inside.</span></span>  
  
 [!code-xaml[GeometriesMiscSnippets_snip#FillRuleNonZeroValueEllipseGeometry](../../../../samples/snippets/xaml/VS_Snippets_Wpf/GeometriesMiscSnippets_snip/XAML/FillRuleExample.xaml#fillrulenonzerovalueellipsegeometry)]  
  
 <span data-ttu-id="212e5-119">À l’aide de l’exemple ci-dessus, la valeur <xref:System.Windows.Media.FillRule.Nonzero> pour <xref:System.Windows.Media.GeometryGroup.FillRule%2A> permet ainsi de l’illustration suivante :</span><span class="sxs-lookup"><span data-stu-id="212e5-119">Using the example above, a value of <xref:System.Windows.Media.FillRule.Nonzero> for <xref:System.Windows.Media.GeometryGroup.FillRule%2A> gives the following illustration as a result:</span></span>  
  
 <span data-ttu-id="212e5-120">![Capture d'écran : valeur FillRule de NonZero](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero1.png "FillRuleNonZero1")</span><span class="sxs-lookup"><span data-stu-id="212e5-120">![Screenshot: FillRule value of NonZero](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero1.png "FillRuleNonZero1")</span></span>  
  
 <span data-ttu-id="212e5-121">Comme vous pouvez le voir, tous les anneaux sont remplis.</span><span class="sxs-lookup"><span data-stu-id="212e5-121">As you can see, all the rings are filled.</span></span> <span data-ttu-id="212e5-122">En effet, tous les segments s’étendent dans la même direction, ce qui signifie qu’un rayon dessiné à partir de n’importe quel point traversera un ou plusieurs segments et que la somme des intersections ne sera pas égale à zéro.</span><span class="sxs-lookup"><span data-stu-id="212e5-122">This is because all the segments are running in the same direction and so a ray drawn from any point will cross one or more segments and the sum of the crossings will not equal zero.</span></span> <span data-ttu-id="212e5-123">Par exemple, dans l’illustration ci-dessous, les flèches rouges représentent la direction et les flèches blanches représentent un rayon arbitraire à partir d’un point situé dans l’anneau intérieur.</span><span class="sxs-lookup"><span data-stu-id="212e5-123">For example, in the illustration below, the red arrows represent the direction the segments are drawn and the white arrow represents an arbitrary ray running from a point in the innermost ring.</span></span> <span data-ttu-id="212e5-124">En commençant par une valeur égale à zéro, pour chaque segment que le rayon traverse, une valeur de un est ajoutée car le segment traverse le rayon de gauche à droite.</span><span class="sxs-lookup"><span data-stu-id="212e5-124">Starting with a value of zero, for each segment that the ray crosses, a value of one is added because the segment crosses the ray from left to right.</span></span>  
  
 <span data-ttu-id="212e5-125">![Diagramme : valeur de propriété FillRule égale à NonZero](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero2.png "FillRuleNonZero2")</span><span class="sxs-lookup"><span data-stu-id="212e5-125">![Diagram: FillRule property value equal to NonZero](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero2.png "FillRuleNonZero2")</span></span>  
  
 <span data-ttu-id="212e5-126">Pour mieux illustrer le comportement de <xref:System.Windows.Media.FillRule.Nonzero> une forme plus complexe avec des segments en cours d’exécution dans différentes directions de règle est requise.</span><span class="sxs-lookup"><span data-stu-id="212e5-126">To better demonstrate the behavior of <xref:System.Windows.Media.FillRule.Nonzero> rule a more complex shape with segments running in different directions is required.</span></span> <span data-ttu-id="212e5-127">Le code XAML suivant crée une forme semblable que l’exemple précédent, sauf qu’il est créé avec un <xref:System.Windows.Media.PathGeometry> plutôt qu’un <xref:System.Windows.Media.EllipseGeometry> cercles concentriques plutôt que ce qui crée quatre arcs concentriques complètement fermés.</span><span class="sxs-lookup"><span data-stu-id="212e5-127">The XAML code below creates a similar shape as the previous example except that it is created with a <xref:System.Windows.Media.PathGeometry> rather then a <xref:System.Windows.Media.EllipseGeometry> which creates four concentric arcs rather then fully closed concentric circles.</span></span>  
  
 [!code-xaml[GeometriesMiscSnippets_snip#FillRuleNonZeroValuePathGeometry](../../../../samples/snippets/xaml/VS_Snippets_Wpf/GeometriesMiscSnippets_snip/XAML/FillRuleExample.xaml#fillrulenonzerovaluepathgeometry)]  
  
 <span data-ttu-id="212e5-128">L’illustration suivante montre la forme créée dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="212e5-128">The following illustration shows the shape created in the previous example.</span></span>  
  
 <span data-ttu-id="212e5-129">![Capture d'écran : valeur de propriété FillRule de NonZero](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero3.png "FillRuleNonZero3")</span><span class="sxs-lookup"><span data-stu-id="212e5-129">![Screenshot: FillRule property value of NonZero](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero3.png "FillRuleNonZero3")</span></span>  
  
 <span data-ttu-id="212e5-130">Notez que le troisième arc partant du centre n’est pas rempli.</span><span class="sxs-lookup"><span data-stu-id="212e5-130">Notice that the third arc from the center is not filled.</span></span> <span data-ttu-id="212e5-131">L’illustration ci-dessous en explique les raisons.</span><span class="sxs-lookup"><span data-stu-id="212e5-131">The illustration below shows why this is.</span></span> <span data-ttu-id="212e5-132">Dans l’illustration, les flèches rouges représentent la direction dans laquelle les segments sont dessinés.</span><span class="sxs-lookup"><span data-stu-id="212e5-132">In the illustration, the red arrows represent the direction the segments are drawn.</span></span> <span data-ttu-id="212e5-133">Les deux flèches blanches représentent deux rayons arbitraires qui partent d’un point dans la région « non remplie ».</span><span class="sxs-lookup"><span data-stu-id="212e5-133">The two white arrows represent two arbitrary rays that move out from a point in the "non-filled" region.</span></span> <span data-ttu-id="212e5-134">Comme le montre l’illustration, la somme des valeurs d’un rayon donné qui traverse les segments dans son tracé est égale à zéro.</span><span class="sxs-lookup"><span data-stu-id="212e5-134">As can be seen from the illustration, the sum of the values from a given ray crossing the segments in its path is zero.</span></span> <span data-ttu-id="212e5-135">Comme indiqué ci-dessus, une somme égale à zéro signifie que le point ne fait pas partie de la géométrie (il ne fait pas partie du remplissage) tandis qu’une somme qui n’est *pas* égale à zéro, y compris une valeur négative, fait partie de la géométrie.</span><span class="sxs-lookup"><span data-stu-id="212e5-135">As defined above, a sum of zero means that the point is not part of the geometry (not part of the fill) while a sum that is *not* zero, including a negative value, is part of the geometry.</span></span>  
  
 <span data-ttu-id="212e5-136">![Diagramme : valeur de propriété FillRule de NonZero](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero4.png "FillRuleNonZero4")</span><span class="sxs-lookup"><span data-stu-id="212e5-136">![Diagram: FillRule property value of NonZero](../../../../docs/framework/wpf/graphics-multimedia/media/fillrulenonzero4.png "FillRuleNonZero4")</span></span>  
  
 <span data-ttu-id="212e5-137">**Remarque :** dans le cadre de <xref:System.Windows.Media.FillRule>, toutes les formes sont considérées comme fermées.</span><span class="sxs-lookup"><span data-stu-id="212e5-137">**Note:** For the purposes of <xref:System.Windows.Media.FillRule>, all shapes are considered closed.</span></span> <span data-ttu-id="212e5-138">S’il y a un écart dans un segment, dessinez une ligne imaginaire pour le fermer.</span><span class="sxs-lookup"><span data-stu-id="212e5-138">If there is a gap in a segment, draw an imaginary line to close it.</span></span> <span data-ttu-id="212e5-139">Dans l’exemple ci-dessus, on observe existe de petits écarts au niveau des anneaux.</span><span class="sxs-lookup"><span data-stu-id="212e5-139">In the example above, there are small gaps in the rings.</span></span> <span data-ttu-id="212e5-140">On peut donc s’attendre à ce qu’un rayon qui traverse cet écart produise un résultat différent de celui d’un rayon qui s’étend dans une autre direction.</span><span class="sxs-lookup"><span data-stu-id="212e5-140">Given this, one might expect a ray that runs through the gap to give a different result then a ray running in another direction.</span></span> <span data-ttu-id="212e5-141">Voici une illustration agrandie d’une de ces intervalles et la « segment imaginaire » (segment dessiné à des fins de l’application de la <xref:System.Windows.Media.FillRule>) qui le ferme.</span><span class="sxs-lookup"><span data-stu-id="212e5-141">Below is an enlarged illustration of one of these gaps and the "imaginary segment" (segment that is drawn for purposes of applying the <xref:System.Windows.Media.FillRule>) that closes it.</span></span>  
  
 <span data-ttu-id="212e5-142">![Diagramme : pour FillRule, les segments sont toujours fermés](../../../../docs/framework/wpf/graphics-multimedia/media/fillruleclosedshapes.png "FillRuleClosedShapes")</span><span class="sxs-lookup"><span data-stu-id="212e5-142">![Diagram: For FillRule, segments are always closed](../../../../docs/framework/wpf/graphics-multimedia/media/fillruleclosedshapes.png "FillRuleClosedShapes")</span></span>  
  
## <a name="example"></a><span data-ttu-id="212e5-143">Exemple</span><span class="sxs-lookup"><span data-stu-id="212e5-143">Example</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="212e5-144">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="212e5-144">See Also</span></span>  
 [<span data-ttu-id="212e5-145">Créer une forme composite</span><span class="sxs-lookup"><span data-stu-id="212e5-145">Create a Composite Shape</span></span>](../../../../docs/framework/wpf/graphics-multimedia/how-to-create-a-composite-shape.md)  
 [<span data-ttu-id="212e5-146">Vue d’ensemble de Geometry</span><span class="sxs-lookup"><span data-stu-id="212e5-146">Geometry Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/geometry-overview.md)
