---
title: '&lt;federationConfiguration&gt;'
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 8b14054c-6d07-46ab-ab58-03f14beac0f2
caps.latest.revision: "9"
author: BrucePerlerMS
ms.author: bruceper
manager: mbaldwin
ms.workload: dotnet
ms.openlocfilehash: 0014e0224221cd5143709ba0a5b38f10e457b494
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/22/2017
---
# <a name="ltfederationconfigurationgt"></a><span data-ttu-id="22390-102">&lt;federationConfiguration&gt;</span><span class="sxs-lookup"><span data-stu-id="22390-102">&lt;federationConfiguration&gt;</span></span>
<span data-ttu-id="22390-103">Configure le <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> (WSFAM) et le <xref:System.IdentityModel.Services.SessionAuthenticationModule> (SAM) lors de l’utilisation fédéré d’authentification via le protocole WS-Federation.</span><span class="sxs-lookup"><span data-stu-id="22390-103">Configures the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> (WSFAM) and the <xref:System.IdentityModel.Services.SessionAuthenticationModule> (SAM) when using federated authentication through the WS-Federation protocol.</span></span> <span data-ttu-id="22390-104">Configure le <xref:System.Security.Claims.ClaimsAuthorizationManager> lorsque vous utilisez la <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> ou <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> classe pour fournir un contrôle d’accès basé sur les revendications.</span><span class="sxs-lookup"><span data-stu-id="22390-104">Configures the <xref:System.Security.Claims.ClaimsAuthorizationManager> when using the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> or the <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> class to provide claims-based access control.</span></span>  
  
 <span data-ttu-id="22390-105">\<system.identityModel.services ></span><span class="sxs-lookup"><span data-stu-id="22390-105">\<system.identityModel.services></span></span>  
<span data-ttu-id="22390-106">\<federationConfiguration ></span><span class="sxs-lookup"><span data-stu-id="22390-106">\<federationConfiguration></span></span>  
  
## <a name="syntax"></a><span data-ttu-id="22390-107">Syntaxe</span><span class="sxs-lookup"><span data-stu-id="22390-107">Syntax</span></span>  
  
```xml  
<system.identityModel.services>  
  <federationConfiguration name=xs:string identityConfigurationName=xs:string>  
  </federationConfiguration>  
</system.identityModel.services>  
```  
  
## <a name="attributes-and-elements"></a><span data-ttu-id="22390-108">Attributs et éléments</span><span class="sxs-lookup"><span data-stu-id="22390-108">Attributes and Elements</span></span>  
 <span data-ttu-id="22390-109">Les sections suivantes décrivent des attributs, des éléments enfants et des éléments parents.</span><span class="sxs-lookup"><span data-stu-id="22390-109">The following sections describe attributes, child elements, and parent elements.</span></span>  
  
### <a name="attributes"></a><span data-ttu-id="22390-110">Attributs</span><span class="sxs-lookup"><span data-stu-id="22390-110">Attributes</span></span>  
  
|<span data-ttu-id="22390-111">Attribut</span><span class="sxs-lookup"><span data-stu-id="22390-111">Attribute</span></span>|<span data-ttu-id="22390-112">Description</span><span class="sxs-lookup"><span data-stu-id="22390-112">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="22390-113">name</span><span class="sxs-lookup"><span data-stu-id="22390-113">name</span></span>|<span data-ttu-id="22390-114">Le nom de cet élément de configuration de fédération.</span><span class="sxs-lookup"><span data-stu-id="22390-114">The name of this federation configuration element.</span></span> <span data-ttu-id="22390-115">Cet attribut fournit principalement un point d’extensibilité pour les protocoles à venir.</span><span class="sxs-lookup"><span data-stu-id="22390-115">This attribute primarily provides an extensibility point for future protocols.</span></span> <span data-ttu-id="22390-116">Facultatif.</span><span class="sxs-lookup"><span data-stu-id="22390-116">Optional.</span></span>|  
|<span data-ttu-id="22390-117">identityConfigurationName</span><span class="sxs-lookup"><span data-stu-id="22390-117">identityConfigurationName</span></span>|<span data-ttu-id="22390-118">Le nom de la section de configuration d’identité tel que spécifié dans un [ \<identityConfiguration >](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) élément à utiliser.</span><span class="sxs-lookup"><span data-stu-id="22390-118">The name of the identity configuration section as specified in an [\<identityConfiguration>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element to use.</span></span> <span data-ttu-id="22390-119">Si cet attribut n’est pas spécifié, la section de configuration d’identité par défaut est utilisée.</span><span class="sxs-lookup"><span data-stu-id="22390-119">If this attribute is not specified, the default identity configuration section is used.</span></span> <span data-ttu-id="22390-120">Facultatif.</span><span class="sxs-lookup"><span data-stu-id="22390-120">Optional.</span></span>|  
  
### <a name="child-elements"></a><span data-ttu-id="22390-121">Éléments enfants</span><span class="sxs-lookup"><span data-stu-id="22390-121">Child Elements</span></span>  
  
|<span data-ttu-id="22390-122">Élément</span><span class="sxs-lookup"><span data-stu-id="22390-122">Element</span></span>|<span data-ttu-id="22390-123">Description</span><span class="sxs-lookup"><span data-stu-id="22390-123">Description</span></span>|  
|-------------|-----------------|  
|[<span data-ttu-id="22390-124">\<cookieHandler ></span><span class="sxs-lookup"><span data-stu-id="22390-124">\<cookieHandler></span></span>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/cookiehandler.md)|<span data-ttu-id="22390-125">Configure le Gestionnaire de cookie utilisé par le SAM.</span><span class="sxs-lookup"><span data-stu-id="22390-125">Configures the cookie handler used by the SAM.</span></span> <span data-ttu-id="22390-126">Facultatif.</span><span class="sxs-lookup"><span data-stu-id="22390-126">Optional.</span></span>|  
|[<span data-ttu-id="22390-127">\<serviceCertificate ></span><span class="sxs-lookup"><span data-stu-id="22390-127">\<serviceCertificate></span></span>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/servicecertificate.md)|<span data-ttu-id="22390-128">Configure le certificat qui est utilisé pour chiffrer et déchiffrer les jetons.</span><span class="sxs-lookup"><span data-stu-id="22390-128">Configures the certificate that is used to encrypt and decrypt tokens.</span></span> <span data-ttu-id="22390-129">Facultatif.</span><span class="sxs-lookup"><span data-stu-id="22390-129">Optional.</span></span>|  
|[<span data-ttu-id="22390-130">\<wsFederation ></span><span class="sxs-lookup"><span data-stu-id="22390-130">\<wsFederation></span></span>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/wsfederation.md)|<span data-ttu-id="22390-131">Configure le Module d’authentification WS-Federation (WSFAM).</span><span class="sxs-lookup"><span data-stu-id="22390-131">Configures the WS-Federation Authentication Module (WSFAM).</span></span> <span data-ttu-id="22390-132">Facultatif.</span><span class="sxs-lookup"><span data-stu-id="22390-132">Optional.</span></span>|  
  
### <a name="parent-elements"></a><span data-ttu-id="22390-133">Éléments parents</span><span class="sxs-lookup"><span data-stu-id="22390-133">Parent Elements</span></span>  
  
|<span data-ttu-id="22390-134">Élément</span><span class="sxs-lookup"><span data-stu-id="22390-134">Element</span></span>|<span data-ttu-id="22390-135">Description</span><span class="sxs-lookup"><span data-stu-id="22390-135">Description</span></span>|  
|-------------|-----------------|  
|[<span data-ttu-id="22390-136">\<system.identityModel.services></span><span class="sxs-lookup"><span data-stu-id="22390-136">\<system.identityModel.services></span></span>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/system-identitymodel-services.md)|<span data-ttu-id="22390-137">Section de configuration pour l’authentification à l’aide du protocole WS-Federation.</span><span class="sxs-lookup"><span data-stu-id="22390-137">Configuration section for authentication using the WS-Federation protocol.</span></span>|  
  
## <a name="remarks"></a><span data-ttu-id="22390-138">Notes</span><span class="sxs-lookup"><span data-stu-id="22390-138">Remarks</span></span>  
 <span data-ttu-id="22390-139">Le \<federationConfiguration > élément fournit des paramètres dans deux scénarios différents :</span><span class="sxs-lookup"><span data-stu-id="22390-139">The \<federationConfiguration> element provides settings in two different scenarios:</span></span>  
  
-   <span data-ttu-id="22390-140">Lorsque vous utilisez WS-Federation dans une application Web passive, l’élément contient des paramètres permettant de configurer le <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> (WSFAM) et le <xref:System.IdentityModel.Services.SessionAuthenticationModule> (SAM).</span><span class="sxs-lookup"><span data-stu-id="22390-140">When using WS-Federation in a passive Web application, the element contains settings that configure the <xref:System.IdentityModel.Services.WSFederationAuthenticationModule> (WSFAM) and the <xref:System.IdentityModel.Services.SessionAuthenticationModule> (SAM).</span></span> <span data-ttu-id="22390-141">Il fait également référence à la configuration de l’identité à utiliser pour configurer les gestionnaires de jetons de sécurité et des certificats et des composants tels que le Gestionnaire d’autorisations de revendications et le Gestionnaire d’authentification de revendications.</span><span class="sxs-lookup"><span data-stu-id="22390-141">It also references the identity configuration to be used to configure security token handlers and certificates, and components like the claims authorization manager and the claims authentication manager.</span></span>  
  
-   <span data-ttu-id="22390-142">Lorsque vous utilisez la <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> ou le <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> de classe pour fournir un contrôle d’accès basé sur les revendications dans votre code, l’élément fait référence à la configuration qui configure la stratégie qui est utilisé pour rendre l’autorisation et le Gestionnaire d’autorisations de revendications d’identité décisions.</span><span class="sxs-lookup"><span data-stu-id="22390-142">When using the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> or the <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> class to provide claims-based access control in your code, the element references the identity configuration that configures the claims authorization manager and policy that is used to make authorization decisions.</span></span> <span data-ttu-id="22390-143">Cela est vrai, même dans les scénarios qui ne sont pas des scénarios Web passifs. par exemple, les applications Windows Communication Foundation (WCF) ou une application qui n’est pas basée sur le Web.</span><span class="sxs-lookup"><span data-stu-id="22390-143">This is true, even in scenarios that are not passive Web scenarios; for example, Windows Communication Foundation (WCF) applications or an application that is not Web-based.</span></span> <span data-ttu-id="22390-144">Si l’application n’est pas une application Web passive, le [ \<claimsAuthorizationManager >](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) élément (et ses éléments de stratégie enfants, le cas échéant) de la configuration de l’identité référencée par la `<federationConfiguration>` élément les seuls paramètres sont appliqués.</span><span class="sxs-lookup"><span data-stu-id="22390-144">If the application is not a passive Web application, the [\<claimsAuthorizationManager>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) element (and its child policy elements, if present) of the identity configuration referenced by the `<federationConfiguration>` element are the only settings applied.</span></span> <span data-ttu-id="22390-145">Tous les autres sont ignorés.</span><span class="sxs-lookup"><span data-stu-id="22390-145">All others are ignored.</span></span>  
  
 <span data-ttu-id="22390-146">Quel que soit le scénario, le runtime charge la configuration de la fédération par défaut.</span><span class="sxs-lookup"><span data-stu-id="22390-146">Regardless of the scenario, the runtime loads the default federation configuration.</span></span> <span data-ttu-id="22390-147">Le comportement est défini comme suit :</span><span class="sxs-lookup"><span data-stu-id="22390-147">The behavior is defined as follows:</span></span>  
  
1.  <span data-ttu-id="22390-148">S’il existe aucune `<federationConfiguration>` élément présent, le runtime crée une configuration de la fédération et la remplit avec les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="22390-148">If there is no `<federationConfiguration>` element present, the runtime creates a federation configuration and populates it with default values.</span></span> <span data-ttu-id="22390-149">Cette configuration de la fédération par défaut fait référence à la configuration d’identité par défaut.</span><span class="sxs-lookup"><span data-stu-id="22390-149">This default federation configuration will reference the default identity configuration.</span></span>  
  
2.  <span data-ttu-id="22390-150">Si un seul `<federationConfiguration>` élément est présent, il s’agit de la configuration de la fédération par défaut qu’il soit nommé ou sans nom.</span><span class="sxs-lookup"><span data-stu-id="22390-150">If a single `<federationConfiguration>` element is present, it is the default federation configuration regardless of whether it is named or unnamed.</span></span> <span data-ttu-id="22390-151">Si son `identityConfiguration` attribut est spécifié, la configuration d’identité nommée est référencée ; sinon, la configuration d’identité par défaut est référencée.</span><span class="sxs-lookup"><span data-stu-id="22390-151">If its `identityConfiguration` attribute is specified, the named identity configuration is referenced; otherwise, the default identity configuration is referenced.</span></span>  
  
3.  <span data-ttu-id="22390-152">Si elle est sans nom `<federationConfiguration>` élément est présent, il s’agit de la configuration de la fédération par défaut.</span><span class="sxs-lookup"><span data-stu-id="22390-152">If an unnamed `<federationConfiguration>` element is present, it is the default federation configuration.</span></span> <span data-ttu-id="22390-153">Si son `identityConfiguration` attribut est spécifié, la configuration d’identité nommée est référencée ; sinon, la configuration d’identité par défaut est référencée.</span><span class="sxs-lookup"><span data-stu-id="22390-153">If its `identityConfiguration` attribute is specified, the named identity configuration is referenced; otherwise, the default identity configuration is referenced.</span></span>  
  
4.  <span data-ttu-id="22390-154">Si plusieurs nommé `<federationConfiguration>` éléments sont présents et sans aucun nom `<federationConfiguration>` élément est présent, une exception est levée.</span><span class="sxs-lookup"><span data-stu-id="22390-154">If multiple named `<federationConfiguration>` elements are present and no unnamed `<federationConfiguration>` element is present, an exception is thrown.</span></span>  
  
 <span data-ttu-id="22390-155">En règle générale, un seul `<federationConfiguration>` section est définie.</span><span class="sxs-lookup"><span data-stu-id="22390-155">Typically, only a single `<federationConfiguration>` section is defined.</span></span> <span data-ttu-id="22390-156">Cette section est la configuration de la fédération par défaut.</span><span class="sxs-lookup"><span data-stu-id="22390-156">This section is the default federation configuration.</span></span> <span data-ttu-id="22390-157">Vous pouvez spécifier plusieurs nommés de manière unique `<federationConfiguration>` éléments ; Toutefois, dans ce cas, si vous souhaitez charger une configuration de la fédération autre que celui sans nom, vous devez fournir un gestionnaire pour le.</span><span class="sxs-lookup"><span data-stu-id="22390-157">You may specify multiple, uniquely-named `<federationConfiguration>` elements; however, in this case, if you want to load a federation configuration other than the unnamed one, you must provide a handler for the.</span></span> <span data-ttu-id="22390-158"><xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfigurationCreated>événement et définissez la <xref:System.IdentityModel.Services.Configuration.FederationConfigurationCreatedEventArgs.FederationConfiguration%2A?displayProperty=nameWithType> propriété dans le gestionnaire pour un <xref:System.IdentityModel.Services.Configuration.FederationConfiguration> objet initialisé avec les valeurs de la `<federationConfiguration>` élément dans le fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="22390-158"><xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfigurationCreated> event and set the <xref:System.IdentityModel.Services.Configuration.FederationConfigurationCreatedEventArgs.FederationConfiguration%2A?displayProperty=nameWithType> property inside the handler to a <xref:System.IdentityModel.Services.Configuration.FederationConfiguration> object initialized with values from the appropriate `<federationConfiguration>` element in the configuration file.</span></span>  
  
 <span data-ttu-id="22390-159">Le `<federationConfiguration>` élément est représenté par la <xref:System.IdentityModel.Services.Configuration.FederationConfigurationElement> classe.</span><span class="sxs-lookup"><span data-stu-id="22390-159">The `<federationConfiguration>` element is represented by the <xref:System.IdentityModel.Services.Configuration.FederationConfigurationElement> class.</span></span> <span data-ttu-id="22390-160">L’objet de configuration lui-même est représenté par la <xref:System.IdentityModel.Services.Configuration.FederationConfiguration> classe.</span><span class="sxs-lookup"><span data-stu-id="22390-160">The configuration object itself is represented by the <xref:System.IdentityModel.Services.Configuration.FederationConfiguration> class.</span></span> <span data-ttu-id="22390-161">Un seul <xref:System.IdentityModel.Services.Configuration.FederationConfiguration> instance est définie sur le <xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfiguration%2A?displayProperty=nameWithType> propriété et fournit une configuration fédérée pour l’application.</span><span class="sxs-lookup"><span data-stu-id="22390-161">A single <xref:System.IdentityModel.Services.Configuration.FederationConfiguration> instance is set on the <xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfiguration%2A?displayProperty=nameWithType> property and provides federated configuration for the application.</span></span>  
  
## <a name="example"></a><span data-ttu-id="22390-162">Exemple</span><span class="sxs-lookup"><span data-stu-id="22390-162">Example</span></span>  
 <span data-ttu-id="22390-163">Le code XML suivant montre un `<federationConfiguration>` élément qui spécifie les paramètres pour la WSFAM et spécifie que le Gestionnaire de cookie par défaut (une instance de la <xref:System.IdentityModel.Services.ChunkedCookieHandler> classe) est utilisé par le SAM.</span><span class="sxs-lookup"><span data-stu-id="22390-163">The following XML shows a `<federationConfiguration>` element that specifies settings for the WSFAM and specifies that the default cookie handler (an instance of the <xref:System.IdentityModel.Services.ChunkedCookieHandler> class) be used by the SAM.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="22390-164">Dans cet exemple, ni le Gestionnaire de cookie ni WSFAM sont requis pour utiliser HTTPS.</span><span class="sxs-lookup"><span data-stu-id="22390-164">In this example, neither the cookie handler nor WSFAM are required to use HTTPS.</span></span> <span data-ttu-id="22390-165">C’est parce que le `requireHttps` de l’attribut le `<wsFederation>` élément et la `requireSsl` de l’attribut le `<cookieHandlerElement>` sont `false`.</span><span class="sxs-lookup"><span data-stu-id="22390-165">This is because the `requireHttps` attribute on the `<wsFederation>` element and the `requireSsl` attribute on the `<cookieHandlerElement>` are `false`.</span></span> <span data-ttu-id="22390-166">Ces paramètres ne sont pas recommandés pour la plupart des environnements de production car ils peuvent présenter un risque de sécurité.</span><span class="sxs-lookup"><span data-stu-id="22390-166">These settings are not recommended for most production environments as they may present a security risk.</span></span>  
  
```xml  
<system.identityModel.services>  
  <federationConfiguration>  
    <wsFederation passiveRedirectEnabled="true"   
      issuer="http://localhost:15839/wsFederationSTS/Issue"   
      realm="http://localhost:50969/" reply="http://localhost:50969/"   
      requireHttps="false"   
      signOutReply="http://localhost:50969/SignedOutPage.html"   
      signOutQueryString="Param1=value2&Param2=value2"   
      persistentCookiesOnPassiveRedirects="true" />  
    <cookieHandler requireSsl="false" />  
  </federationConfiguration>  
</system.identityModel.services>  
```  
  
## <a name="see-also"></a><span data-ttu-id="22390-167">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="22390-167">See Also</span></span>  
 <xref:System.IdentityModel.Services.WSFederationAuthenticationModule>  
 <xref:System.IdentityModel.Services.SessionAuthenticationModule>  
 <xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfiguration%2A?displayProperty=nameWithType>  
 [<span data-ttu-id="22390-168">\<identityConfiguration ></span><span class="sxs-lookup"><span data-stu-id="22390-168">\<identityConfiguration></span></span>](../../../../../docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md)
