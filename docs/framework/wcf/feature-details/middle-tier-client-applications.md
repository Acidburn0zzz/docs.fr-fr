---
title: "Applications clientes de niveau intermédiaire"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f9714a64-d0ae-4a98-bca0-5d370fdbd631
caps.latest.revision: "11"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: b73641fcbc881e57465f722d3a0f647938a5e12e
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/02/2017
---
# <a name="middle-tier-client-applications"></a><span data-ttu-id="022c1-102">Applications clientes de niveau intermédiaire</span><span class="sxs-lookup"><span data-stu-id="022c1-102">Middle-Tier Client Applications</span></span>
<span data-ttu-id="022c1-103">Cette rubrique traite des différents problèmes spécifiques aux applications clientes de niveau intermédiaire qui utilisent [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="022c1-103">This topic discusses various issues specific to middle-tier client applications that use [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].</span></span>  
  
## <a name="increasing-middle-tier-client-performance"></a><span data-ttu-id="022c1-104">Augmenter les performances du client de niveau intermédiaire</span><span class="sxs-lookup"><span data-stu-id="022c1-104">Increasing Middle-Tier Client Performance</span></span>  
 <span data-ttu-id="022c1-105">Comparée aux technologies de communications précédentes, telles que les services Web qui utilisent [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], la création d'une instance cliente [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] peut être plus complexe en raison du grand nombre de fonctionnalités [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="022c1-105">Compared to previous communications technologies, such as Web services using [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], the creation of a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client instance can be more complex due to the rich feature set of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span></span> <span data-ttu-id="022c1-106">Par exemple, lorsqu'un objet <xref:System.ServiceModel.ChannelFactory%601> est ouvert, il peut établir une session sécurisée avec le service, procédure qui augmente le temps de démarrage pour l'instance cliente.</span><span class="sxs-lookup"><span data-stu-id="022c1-106">For example, when a <xref:System.ServiceModel.ChannelFactory%601> object is opened it can establish a secure session with the service, a procedure that increases the startup time for the client instance.</span></span> <span data-ttu-id="022c1-107">En général, ces fonctionnalités supplémentaires affectent peu les applications clientes étant donné que le client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] effectue plusieurs appels, puis se ferme.</span><span class="sxs-lookup"><span data-stu-id="022c1-107">Typically, these additional feature capabilities do not affect client applications greatly since the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client makes several calls, and then closes.</span></span>  
  
 <span data-ttu-id="022c1-108">Cependant, les applications clientes de niveau intermédiaire peuvent créer rapidement de nombreux objets clients [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] et, en conséquence, nécessitent des spécifications d'initialisation plus nombreuses.</span><span class="sxs-lookup"><span data-stu-id="022c1-108">Middle-tier client applications, however, can create many [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client objects quickly and, as a result, experience increased initialization requirements.</span></span> <span data-ttu-id="022c1-109">Il existe deux approches principales pour accroître les performances des applications de niveau intermédiaire lors d'un appel des services :</span><span class="sxs-lookup"><span data-stu-id="022c1-109">There are two main approaches to increasing the performance of middle-tier applications when calling services:</span></span>  
  
-   <span data-ttu-id="022c1-110">Mettre en cache l'objet client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] et le réutiliser pour les appels suivants le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="022c1-110">Cache the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client object and reuse it for subsequent calls where possible.</span></span>  
  
-   <span data-ttu-id="022c1-111">Créer un objet <xref:System.ServiceModel.ChannelFactory%601> puis l'utiliser pour créer des nouveaux objets de canal de client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] pour chaque appel.</span><span class="sxs-lookup"><span data-stu-id="022c1-111">Create a <xref:System.ServiceModel.ChannelFactory%601> object and then use that object to create new [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channel objects for each call.</span></span>  
  
 <span data-ttu-id="022c1-112">Les problèmes à prendre en compte lors de l'utilisation de ces approches sont les suivants :</span><span class="sxs-lookup"><span data-stu-id="022c1-112">Issues to consider when using these approaches include:</span></span>  
  
-   <span data-ttu-id="022c1-113">Si le service maintient un état spécifique au client en utilisant une session, vous ne pouvez pas réutiliser le client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] de niveau intermédiaire avec des demandes au niveau de plusieurs clients parce que l'état du service est lié à celui du client de niveau intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="022c1-113">If the service is maintaining a client-specific state by using a session, then you cannot reuse the middle-tier [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client with multiple-client tier requests because the service's state is tied to that of the middle-tier client.</span></span>  
  
-   <span data-ttu-id="022c1-114">Si le service doit exécuter l'authentification sur la base de chaque client, vous devez créer un client pour chaque requête entrante sur le niveau intermédiaire au lieu de réutiliser le client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] de niveau intermédiaire (ou l'objet de canal de client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]) parce que les informations d'identification du client du niveau intermédiaire ne peuvent pas être modifiées après la création du client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] (ou de <xref:System.ServiceModel.ChannelFactory%601>).</span><span class="sxs-lookup"><span data-stu-id="022c1-114">If the service must perform authentication on a per-client basis, you must create a new client for each incoming request on the middle tier instead of reusing the middle-tier [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client (or [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client channel object) because the client credentials of the middle tier cannot be modified after the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client (or <xref:System.ServiceModel.ChannelFactory%601>) has been created.</span></span>  
  
-   <span data-ttu-id="022c1-115">Si les canaux et les clients créés par les canaux sont thread-safe, ils peuvent ne pas prendre en charge l'écriture simultanée de plusieurs messages sur la transmission.</span><span class="sxs-lookup"><span data-stu-id="022c1-115">While channels and clients created by the channels are thread-safe, they might not support writing more than one message to the wire concurrently.</span></span> <span data-ttu-id="022c1-116">Si vous envoyez des messages volumineux, notamment pour la diffusion en continu, l'opération d'envoi peut bloquer l'exécution d'une autre opération d'envoi.</span><span class="sxs-lookup"><span data-stu-id="022c1-116">If you are sending large messages, particularly if streaming, the send operation might block waiting for another send to complete.</span></span> <span data-ttu-id="022c1-117">Cette situation entraîne deux types de problèmes : un manque d'accès concurrentiel et le risque d'interblocage si le flux de contrôle retourne au service par l'intermédiaire du canal (autrement dit, le client partagé appelle un service dont le chemin d'accès au code entraîne un rappel au client partagé).</span><span class="sxs-lookup"><span data-stu-id="022c1-117">This causes two sorts of problems: a lack of concurrency and the possibility of deadlock if the flow of control returns to the service reusing the channel (that is, the shared client calls a service whose code path results in a callback to the shared client).</span></span> <span data-ttu-id="022c1-118">Cela est vrai indépendamment du type de client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] que vous réutilisez.</span><span class="sxs-lookup"><span data-stu-id="022c1-118">This is true regardless of the type of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client you reuse.</span></span>  
  
-   <span data-ttu-id="022c1-119">Vous devez traiter les canaux défaillants, que vous partagiez ou non le canal.</span><span class="sxs-lookup"><span data-stu-id="022c1-119">You must handle faulted channels regardless of whether you share the channel.</span></span> <span data-ttu-id="022c1-120">Toutefois, lorsque les canaux sont réutilisés, un canal défaillant peut faire échouer plusieurs opérations de demande ou d'envoi en attente.</span><span class="sxs-lookup"><span data-stu-id="022c1-120">When channels are reused, however, a faulting channel can take down more than one pending request or send.</span></span>  
  
 <span data-ttu-id="022c1-121">Pour obtenir un exemple qui illustre les meilleures pratiques pour la réutilisation d’un client pour plusieurs requêtes, consultez [une liaison de données dans un Client ASP.NET](../../../../docs/framework/wcf/samples/data-binding-in-an-aspnet-client.md).</span><span class="sxs-lookup"><span data-stu-id="022c1-121">For an example that demonstrates best practices for reusing a client for multiple requests, see [Data Binding in an ASP.NET Client](../../../../docs/framework/wcf/samples/data-binding-in-an-aspnet-client.md).</span></span>  
  
 <span data-ttu-id="022c1-122">De plus, vous pouvez augmenter les performances de démarrage pour les clients qui utilisent des types de données sérialisables à l'aide de <xref:System.Xml.Serialization.XmlSerializer> pour générer et compiler le code de sérialisation pour ces types de données au moment de l'exécution qui peuvent ralentir les performances de démarrage.</span><span class="sxs-lookup"><span data-stu-id="022c1-122">In addition, you can increase the startup performance for those clients that use data types that are serializable using the <xref:System.Xml.Serialization.XmlSerializer> generate and compile serialization code for those data types at runtime, which can result in slow start-up performance.</span></span> <span data-ttu-id="022c1-123">Le [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) peut améliorer les performances de démarrage de ces applications en générant le code de sérialisation nécessaires à partir des assemblys compilés pour l’application.</span><span class="sxs-lookup"><span data-stu-id="022c1-123">The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) can improve start-up performance for these applications by generating the necessary serialization code from the compiled assemblies for the application.</span></span> <span data-ttu-id="022c1-124">Pour plus d’informations, consultez [Comment : améliorer le démarrage du temps des Applications clientes WCF à l’aide de XmlSerializer](../../../../docs/framework/wcf/feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span><span class="sxs-lookup"><span data-stu-id="022c1-124">For more information, see [How to: Improve the Startup Time of WCF Client Applications using the XmlSerializer](../../../../docs/framework/wcf/feature-details/startup-time-of-wcf-client-applications-using-the-xmlserializer.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="022c1-125">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="022c1-125">See Also</span></span>  
 [<span data-ttu-id="022c1-126">Accès aux services à l’aide d’un client WCF</span><span class="sxs-lookup"><span data-stu-id="022c1-126">Accessing Services Using a WCF Client</span></span>](../../../../docs/framework/wcf/feature-details/accessing-services-using-a-client.md)
