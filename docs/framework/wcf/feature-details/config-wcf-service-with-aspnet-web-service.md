---
title: "Comment : configurer le service WCF pour interagir avec des clients du service Web ASP.NET"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
ms.assetid: 48e1cd90-de80-4d6c-846e-631878955762
caps.latest.revision: "11"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 7ed4bf8e86e727505d48e85bb55a88452217c76b
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/02/2017
---
# <a name="how-to-configure-wcf-service-to-interoperate-with-aspnet-web-service-clients"></a><span data-ttu-id="1c788-102">Comment : configurer le service WCF pour interagir avec des clients du service Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="1c788-102">How to: Configure WCF Service to Interoperate with ASP.NET Web Service Clients</span></span>
<span data-ttu-id="1c788-103">Pour configurer un point de terminaison de service [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] de manière à interagir avec les clients du service Web [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)], utilisez le type <xref:System.ServiceModel.BasicHttpBinding?displayProperty=nameWithType> comme type de liaison pour votre point de terminaison de service.</span><span class="sxs-lookup"><span data-stu-id="1c788-103">To configure a [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] service endpoint to be interoperable with [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web service clients, use the <xref:System.ServiceModel.BasicHttpBinding?displayProperty=nameWithType> type as the binding type for your service endpoint.</span></span>  
  
 <span data-ttu-id="1c788-104">Vous pouvez éventuellement activer la prise en charge du protocole HTTPS et de l'authentification du client au niveau du transport sur la liaison.</span><span class="sxs-lookup"><span data-stu-id="1c788-104">You can optionally enable support for HTTPS and transport-level client authentication on the binding.</span></span> <span data-ttu-id="1c788-105">Les clients du service Web [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] ne prennent pas en charge l'encodage de messages MTOM, donc la propriété <xref:System.ServiceModel.BasicHttpBinding.MessageEncoding%2A?displayProperty=nameWithType> doit conserver sa valeur par défaut, soit <xref:System.ServiceModel.WSMessageEncoding.Text?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1c788-105">[!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web service clients do not support MTOM message encoding, so the <xref:System.ServiceModel.BasicHttpBinding.MessageEncoding%2A?displayProperty=nameWithType> property should be left as its default value, which is <xref:System.ServiceModel.WSMessageEncoding.Text?displayProperty=nameWithType>.</span></span> <span data-ttu-id="1c788-106">Les clients du service Web ASP.NET ne prennent pas en charge la spécification WS-Security, donc <xref:System.ServiceModel.BasicHttpBinding.Security%2A?displayProperty=nameWithType> doit avoir la valeur <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span><span class="sxs-lookup"><span data-stu-id="1c788-106">ASP.Net Web Service clients do not support WS-Security, so the <xref:System.ServiceModel.BasicHttpBinding.Security%2A?displayProperty=nameWithType> should be set to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span></span>  
  
 <span data-ttu-id="1c788-107">Pour rendre les métadonnées un [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service disponible pour [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web des outils de génération de proxy de service (autrement dit, [Web Services Description Language Tool (Wsdl.exe)](http://go.microsoft.com/fwlink/?LinkId=73833), [Web Services Discovery Tool () Disco.exe)](http://go.microsoft.com/fwlink/?LinkId=73834)et la fonctionnalité Ajouter une référence Web dans Visual Studio), vous devez exposer un point de terminaison de métadonnées HTTP/GET.</span><span class="sxs-lookup"><span data-stu-id="1c788-107">To make the metadata for a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service available to [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web service proxy generation tools (that is, [Web Services Description Language Tool (Wsdl.exe)](http://go.microsoft.com/fwlink/?LinkId=73833), [Web Services Discovery Tool (Disco.exe)](http://go.microsoft.com/fwlink/?LinkId=73834), and the Add Web Reference feature in Visual Studio), you should expose an HTTP/GET metadata endpoint.</span></span>  
  
### <a name="to-add-a-wcf-endpoint-that-is-compatible-with-aspnet-web-service-clients-in-code"></a><span data-ttu-id="1c788-108">Pour ajouter un point de terminaison WCF compatible avec les clients du service Web ASP.NET dans du code</span><span class="sxs-lookup"><span data-stu-id="1c788-108">To add a WCF endpoint that is compatible with ASP.NET Web service clients in code</span></span>  
  
1.  <span data-ttu-id="1c788-109">Créez une nouvelle instance <xref:System.ServiceModel.BasicHttpBinding>.</span><span class="sxs-lookup"><span data-stu-id="1c788-109">Create a new <xref:System.ServiceModel.BasicHttpBinding> instance</span></span>  
  
2.  <span data-ttu-id="1c788-110">Vous pouvez éventuellement activer la sécurité de transport pour cette liaison de point de terminaison de service en affectant au mode de sécurité de la liaison la valeur <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span><span class="sxs-lookup"><span data-stu-id="1c788-110">Optionally enable transport security for this service endpoint binding by setting the security mode for the binding to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span></span> <span data-ttu-id="1c788-111">Pour plus d’informations, consultez [sécurité du Transport](../../../../docs/framework/wcf/feature-details/transport-security.md).</span><span class="sxs-lookup"><span data-stu-id="1c788-111">For details, please see [Transport Security](../../../../docs/framework/wcf/feature-details/transport-security.md).</span></span>  
  
3.  <span data-ttu-id="1c788-112">Ajoutez un nouveau point de terminaison d’application à votre hôte de service à l’aide de l’instance de liaison que vous venez de créer.</span><span class="sxs-lookup"><span data-stu-id="1c788-112">Add a new application endpoint to your service host using the binding instance that you just created.</span></span> <span data-ttu-id="1c788-113">Pour plus d’informations sur l’ajout d’un point de terminaison de service dans le code, consultez la [Comment : créer un point de terminaison de Service dans le Code](../../../../docs/framework/wcf/feature-details/how-to-create-a-service-endpoint-in-code.md).</span><span class="sxs-lookup"><span data-stu-id="1c788-113">For details about how to add a service endpoint in code, see the [How to: Create a Service Endpoint in Code](../../../../docs/framework/wcf/feature-details/how-to-create-a-service-endpoint-in-code.md).</span></span>  
  
4.  <span data-ttu-id="1c788-114">Activez un point de terminaison de métadonnées HTTP/GET pour votre service.</span><span class="sxs-lookup"><span data-stu-id="1c788-114">Enable an HTTP/GET metadata endpoint for your service.</span></span> <span data-ttu-id="1c788-115">Pour plus d’informations, consultez [Comment : publier des métadonnées pour un Code à l’aide du Service](../../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-code.md).</span><span class="sxs-lookup"><span data-stu-id="1c788-115">For details see [How to: Publish Metadata for a Service Using Code](../../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-code.md).</span></span>  
  
### <a name="to-add-a-wcf-endpoint-that-is-compatible-with-aspnet-web-service-clients-in-a-configuration-file"></a><span data-ttu-id="1c788-116">Pour ajouter un point de terminaison WCF compatible avec les clients du service Web ASP.NET dans un fichier de configuration</span><span class="sxs-lookup"><span data-stu-id="1c788-116">To add a WCF endpoint that is compatible with ASP.NET Web service clients in a configuration file</span></span>  
  
1.  <span data-ttu-id="1c788-117">Créez une configuration de liaison <xref:System.ServiceModel.BasicHttpBinding>.</span><span class="sxs-lookup"><span data-stu-id="1c788-117">Create a new <xref:System.ServiceModel.BasicHttpBinding> binding configuration.</span></span> <span data-ttu-id="1c788-118">Pour plus d’informations, consultez la [Comment : spécifier une liaison de Service dans la Configuration](../../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="1c788-118">For details, see the [How to: Specify a Service Binding in Configuration](../../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md).</span></span>  
  
2.  <span data-ttu-id="1c788-119">Vous pouvez éventuellement activer la sécurité de transport pour la configuration de cette liaison de point de terminaison de service en affectant au mode de sécurité de la liaison la valeur <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span><span class="sxs-lookup"><span data-stu-id="1c788-119">Optionally enable transport security for this service endpoint binding configuration by setting the security mode for the binding to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span></span> <span data-ttu-id="1c788-120">Pour plus d’informations, consultez [sécurité du Transport](../../../../docs/framework/wcf/feature-details/transport-security.md).</span><span class="sxs-lookup"><span data-stu-id="1c788-120">For details, see [Transport Security](../../../../docs/framework/wcf/feature-details/transport-security.md).</span></span>  
  
3.  <span data-ttu-id="1c788-121">Configurez un nouveau point de terminaison d’application pour votre service à l’aide de la configuration de liaison que vous venez de créer.</span><span class="sxs-lookup"><span data-stu-id="1c788-121">Configure a new application endpoint for your service using the binding configuration that you just created.</span></span> <span data-ttu-id="1c788-122">Pour plus d’informations sur l’ajout d’un point de terminaison de service dans un fichier de configuration, consultez le [Comment : créer un point de terminaison de Service dans la Configuration](../../../../docs/framework/wcf/feature-details/how-to-create-a-service-endpoint-in-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="1c788-122">For details about how to add a service endpoint in a configuration file, see the [How to: Create a Service Endpoint in Configuration](../../../../docs/framework/wcf/feature-details/how-to-create-a-service-endpoint-in-configuration.md).</span></span>  
  
4.  <span data-ttu-id="1c788-123">Activez un point de terminaison de métadonnées HTTP/GET pour votre service.</span><span class="sxs-lookup"><span data-stu-id="1c788-123">Enable an HTTP/GET metadata endpoint for your service.</span></span> <span data-ttu-id="1c788-124">Pour plus d’informations, consultez la [Comment : publier les métadonnées pour un Service à l’aide d’un fichier de Configuration](../../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="1c788-124">For details see the [How to: Publish Metadata for a Service Using a Configuration File](../../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md).</span></span>  
  
## <a name="example"></a><span data-ttu-id="1c788-125">Exemple</span><span class="sxs-lookup"><span data-stu-id="1c788-125">Example</span></span>  
 <span data-ttu-id="1c788-126">L'exemple de code ci-dessous montre comment ajouter un point de terminaison [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] qui est compatible avec les clients du service Web [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] dans du code, ainsi que dans des fichiers de configuration.</span><span class="sxs-lookup"><span data-stu-id="1c788-126">The following example code demonstrates how to add a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] endpoint that is compatible with [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] Web service clients in code and alternatively in configuration files.</span></span>  
  
 [!code-csharp[C_HowTo-WCFServiceAndASMXClient#0](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto-wcfserviceandasmxclient/cs/program.cs#0)] 
 [!code-vb[C_HowTo-WCFServiceAndASMXClient#0](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_howto-wcfserviceandasmxclient/vb/program.vb#0)] 
 [!code-xml[C_HowTo-WCFServiceAndASMXClient#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_howto-wcfserviceandasmxclient/common/app.config#1)]     
  
## <a name="see-also"></a><span data-ttu-id="1c788-127">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="1c788-127">See Also</span></span>  
 [<span data-ttu-id="1c788-128">Comment : créer un point de terminaison de Service dans le Code</span><span class="sxs-lookup"><span data-stu-id="1c788-128">How to: Create a Service Endpoint in Code</span></span>](../../../../docs/framework/wcf/feature-details/how-to-create-a-service-endpoint-in-code.md)  
 [<span data-ttu-id="1c788-129">Comment : publier les métadonnées d’un Service à l’aide de Code</span><span class="sxs-lookup"><span data-stu-id="1c788-129">How to: Publish Metadata for a Service Using Code</span></span>](../../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-code.md)  
 [<span data-ttu-id="1c788-130">Guide pratique pour spécifier une liaison de service dans la configuration</span><span class="sxs-lookup"><span data-stu-id="1c788-130">How to: Specify a Service Binding in Configuration</span></span>](../../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md)  
 [<span data-ttu-id="1c788-131">Comment : créer un point de terminaison de Service dans la Configuration</span><span class="sxs-lookup"><span data-stu-id="1c788-131">How to: Create a Service Endpoint in Configuration</span></span>](../../../../docs/framework/wcf/feature-details/how-to-create-a-service-endpoint-in-configuration.md)  
 [<span data-ttu-id="1c788-132">Comment : publier des métadonnées pour un Service à l’aide d’un fichier de Configuration</span><span class="sxs-lookup"><span data-stu-id="1c788-132">How to: Publish Metadata for a Service Using a Configuration File</span></span>](../../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md)  
 [<span data-ttu-id="1c788-133">Sécurité de transport</span><span class="sxs-lookup"><span data-stu-id="1c788-133">Transport Security</span></span>](../../../../docs/framework/wcf/feature-details/transport-security.md)  
 [<span data-ttu-id="1c788-134">À l’aide de métadonnées</span><span class="sxs-lookup"><span data-stu-id="1c788-134">Using Metadata</span></span>](../../../../docs/framework/wcf/feature-details/using-metadata.md)
