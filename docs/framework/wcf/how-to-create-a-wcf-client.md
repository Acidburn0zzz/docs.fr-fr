---
title: 'Comment : créer un client Windows Communication Foundation'
ms.date: 09/14/2018
helpviewer_keywords:
- clients [WCF], running
- WCF clients [WCF], running
ms.assetid: a67884cc-1c4b-416b-8c96-5c954099f19f
ms.openlocfilehash: 1eadb5008575a1a53d685db14d68e42d0dce1360
ms.sourcegitcommit: 2350a091ef6459f0fcfd894301242400374d8558
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 09/21/2018
ms.locfileid: "46539705"
---
# <a name="how-to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="6363c-102">Comment : créer un client Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="6363c-102">How to: Create a Windows Communication Foundation Client</span></span>

<span data-ttu-id="6363c-103">Il s’agit de la quatrième des six tâches requises pour créer une application Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="6363c-103">This is the fourth of six tasks required to create a Windows Communication Foundation (WCF) application.</span></span> <span data-ttu-id="6363c-104">Pour une vue d’ensemble des six tâches, consultez la rubrique [Tutoriel Bien démarrer](../../../docs/framework/wcf/getting-started-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="6363c-104">For an overview of all six of the tasks, see the [Getting Started Tutorial](../../../docs/framework/wcf/getting-started-tutorial.md) topic.</span></span>

<span data-ttu-id="6363c-105">Cette rubrique décrit comment récupérer les métadonnées d’un service WCF et l’utiliser pour créer un proxy WCF qui peut accéder au service.</span><span class="sxs-lookup"><span data-stu-id="6363c-105">This topic describes how to retrieve metadata from a WCF service and use it to create a WCF proxy that can access the service.</span></span> <span data-ttu-id="6363c-106">Cette tâche est effectuée à l’aide de la **ajouter une référence de Service** fonctionnalités fournies par Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6363c-106">This task is completed by using the **Add Service Reference** functionality provided by Visual Studio.</span></span> <span data-ttu-id="6363c-107">Cet outil obtient les métadonnées du point de terminaison MEX du service et génère un fichier de code source managé pour un proxy client dans le langage que vous avez choisi (C# par défaut).</span><span class="sxs-lookup"><span data-stu-id="6363c-107">This tool obtains the metadata from the service’s MEX endpoint and generates a managed source code file for a client proxy in the language you have chosen (C# by default).</span></span> <span data-ttu-id="6363c-108">L'outil crée non seulement le proxy client, mais également le fichier de configuration (ou le met à jour) pour le client qui permet à l'application cliente de se connecter au service au niveau de l'un de ses points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="6363c-108">In addition to creating the client proxy, the tool also creates or updates the client configuration file which enables the client application to connect to the service at one of its endpoints.</span></span>

> [!NOTE]
> <span data-ttu-id="6363c-109">Vous pouvez également utiliser le [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) outil pour générer la classe proxy et la configuration au lieu d’utiliser **ajouter une référence de Service** dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6363c-109">You can also use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool to generate the proxy class and configuration instead of using **Add Service Reference** in Visual Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="6363c-110">Lorsque vous appelez un service WCF à partir d’un projet de bibliothèque de classes dans Visual Studio, vous pouvez utiliser la **ajouter une référence de Service** fonctionnalité pour générer automatiquement un proxy et un fichier de configuration associé.</span><span class="sxs-lookup"><span data-stu-id="6363c-110">When calling a WCF service from a class library project in Visual Studio, you can use the **Add Service Reference** feature to automatically generate a proxy and associated configuration file.</span></span> <span data-ttu-id="6363c-111">Le fichier de configuration ne sera pas utilisé par le projet de bibliothèque de classes.</span><span class="sxs-lookup"><span data-stu-id="6363c-111">The configuration file will not be used by the class library project.</span></span> <span data-ttu-id="6363c-112">Vous devez ajouter les paramètres dans le fichier de configuration généré dans le fichier app.config pour le fichier exécutable qui appelle la bibliothèque de classes.</span><span class="sxs-lookup"><span data-stu-id="6363c-112">You need to add the settings in the generated configuration file to the app.config file for the executable that calls the class library.</span></span>

<span data-ttu-id="6363c-113">L'application cliente utilise la classe proxy générée pour communiquer avec le service.</span><span class="sxs-lookup"><span data-stu-id="6363c-113">The client application uses the generated proxy class to communicate with the service.</span></span> <span data-ttu-id="6363c-114">Cette procédure est décrite dans [Comment : utiliser un Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span><span class="sxs-lookup"><span data-stu-id="6363c-114">This procedure is described in [How to: Use a Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span></span>

## <a name="to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="6363c-115">Pour créer un client Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="6363c-115">To create a Windows Communication Foundation client</span></span>

1. <span data-ttu-id="6363c-116">Créer un nouveau projet d’application console dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6363c-116">Create a new console application project in Visual Studio.</span></span> <span data-ttu-id="6363c-117">Avec le bouton droit sur la solution de mise en route dans **l’Explorateur de solutions** et sélectionnez **ajouter** > **nouveau projet**.</span><span class="sxs-lookup"><span data-stu-id="6363c-117">Right-click on the Getting Started solution in **Solution Explorer** and select **Add** > **New Project**.</span></span> <span data-ttu-id="6363c-118">Dans le **ajouter un nouveau projet** boîte de dialogue, sur le côté gauche, sélectionnez le **Windows Desktop** catégorie sous **Visual C#** ou **Visual Basic**.</span><span class="sxs-lookup"><span data-stu-id="6363c-118">In the **Add New Project** dialog, on the left-hand side, select the **Windows Desktop** category under **Visual C#** or **Visual Basic**.</span></span> <span data-ttu-id="6363c-119">Sélectionnez le **application Console (.NET Framework)** modèle, puis nommez le projet **GettingStartedClient**.</span><span class="sxs-lookup"><span data-stu-id="6363c-119">Select the **Console App (.NET Framework)** template, and then name the project **GettingStartedClient**.</span></span>

2. <span data-ttu-id="6363c-120">Ajoutez une référence à System.ServiceModel dans le projet GettingStartedClient.</span><span class="sxs-lookup"><span data-stu-id="6363c-120">Add a reference to System.ServiceModel to the GettingStartedClient project.</span></span> <span data-ttu-id="6363c-121">Avec le bouton droit sur le **références** dossier sous le projet GettingStartedClient dans **l’Explorateur de solutions**, puis sélectionnez **ajouter une référence**.</span><span class="sxs-lookup"><span data-stu-id="6363c-121">Right-click on the **References** folder under the GettingStartedClient project in **Solution Explorer**, and then select **Add Reference**.</span></span> <span data-ttu-id="6363c-122">Dans le **ajouter une référence** boîte de dialogue, sélectionnez **Framework** sur le côté gauche de la boîte de dialogue **assemblys**.</span><span class="sxs-lookup"><span data-stu-id="6363c-122">In the **Add Reference** dialog, select **Framework** on the left-hand side of the dialog under **Assemblies**.</span></span> <span data-ttu-id="6363c-123">Recherchez et sélectionnez **System.ServiceModel**, puis choisissez **OK**.</span><span class="sxs-lookup"><span data-stu-id="6363c-123">Find and select **System.ServiceModel**, and then choose **OK**.</span></span> <span data-ttu-id="6363c-124">Enregistrez la solution en sélectionnant **fichier** > **Enregistrer tout**.</span><span class="sxs-lookup"><span data-stu-id="6363c-124">Save the solution by selecting **File** > **Save All**.</span></span>

3. <span data-ttu-id="6363c-125">Ajouter une référence de service pour le Service de calculatrice.</span><span class="sxs-lookup"><span data-stu-id="6363c-125">Add a service reference to the Calculator Service.</span></span>

   1. <span data-ttu-id="6363c-126">Tout d’abord, démarrez l’application de console GettingStartedHost.</span><span class="sxs-lookup"><span data-stu-id="6363c-126">First, start up the GettingStartedHost console application.</span></span>

   2. <span data-ttu-id="6363c-127">Une fois que l’hôte est en cours d’exécution, cliquez sur le **références** dossier sous le projet GettingStartedClient dans **l’Explorateur de solutions** et sélectionnez **ajouter**  >   **Référence de service**.</span><span class="sxs-lookup"><span data-stu-id="6363c-127">Once the host is running, right-click the **References** folder under the GettingStartedClient project in **Solution Explorer** and select **Add** > **Service Reference**.</span></span>

   3. <span data-ttu-id="6363c-128">Entrez l’URL suivante dans la zone Adresse de la **ajouter une référence de Service** boîte de dialogue : [http://localhost:8000/GettingStartedClient/Service](http://localhost:8000/GettingStartedClient/Service)</span><span class="sxs-lookup"><span data-stu-id="6363c-128">Enter the following URL in the address box of the **Add Service Reference** dialog: [http://localhost:8000/GettingStartedClient/Service](http://localhost:8000/GettingStartedClient/Service)</span></span>

   4. <span data-ttu-id="6363c-129">Choisissez **accédez**.</span><span class="sxs-lookup"><span data-stu-id="6363c-129">Choose **Go**.</span></span>

   <span data-ttu-id="6363c-130">Le CalculatorService s’affiche dans le **Services** zone de liste.</span><span class="sxs-lookup"><span data-stu-id="6363c-130">The CalculatorService is displayed in the **Services** list box.</span></span> <span data-ttu-id="6363c-131">Double-cliquez sur CalculatorService pour développer et afficher les contrats de service implémentés par le service.</span><span class="sxs-lookup"><span data-stu-id="6363c-131">Double-click CalculatorService to expand it and show the service contracts implemented by the service.</span></span> <span data-ttu-id="6363c-132">Laissez l’espace de noms par défaut en tant que-est et choisissez **OK**.</span><span class="sxs-lookup"><span data-stu-id="6363c-132">Leave the default namespace as-is and choose **OK**.</span></span>

    <span data-ttu-id="6363c-133">Lorsque vous ajoutez une référence à un service à l’aide de Visual Studio, un nouvel élément apparaît dans **l’Explorateur de solutions** sous le **références de Service** dossier sous le projet GettingStartedClient.</span><span class="sxs-lookup"><span data-stu-id="6363c-133">When you add a reference to a service using Visual Studio, a new item appears in **Solution Explorer** under the **Service References** folder under the GettingStartedClient project.</span></span> <span data-ttu-id="6363c-134">Si vous utilisez le [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) outil, un fichier de code source et le fichier app.config sont générés.</span><span class="sxs-lookup"><span data-stu-id="6363c-134">If you use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool, a source code file and app.config file are generated.</span></span>

    <span data-ttu-id="6363c-135">Vous pouvez également utiliser l’outil de ligne de commande [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) avec les commutateurs appropriés pour créer le code client.</span><span class="sxs-lookup"><span data-stu-id="6363c-135">You can also use the command-line tool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) with the appropriate switches to create the client code.</span></span> <span data-ttu-id="6363c-136">L'exemple suivant génère un fichier de code et un fichier de configuration pour le service.</span><span class="sxs-lookup"><span data-stu-id="6363c-136">The following example generates a code file and a configuration file for the service.</span></span> <span data-ttu-id="6363c-137">Le premier exemple montre comment générer le proxy en VB, et le second montre comment générer le proxy en c# :</span><span class="sxs-lookup"><span data-stu-id="6363c-137">The first example shows how to generate the proxy in VB, and the second shows how to generate the proxy in C#:</span></span>

    ```shell
    svcutil.exe /language:vb /out:generatedProxy.vb /config:app.config http://localhost:8000/GettingStartedClient/service
    ```

    ```shell
    svcutil.exe /language:cs /out:generatedProxy.cs /config:app.config http://localhost:8000/GettingStartedClient/service
    ```

## <a name="next-steps"></a><span data-ttu-id="6363c-138">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="6363c-138">Next steps</span></span>

<span data-ttu-id="6363c-139">Vous avez créé le proxy utilisera l’application cliente pour appeler le service de calculatrice.</span><span class="sxs-lookup"><span data-stu-id="6363c-139">You've created the proxy that the client application will use to call the calculator service.</span></span> <span data-ttu-id="6363c-140">Passez à la rubrique suivante de la série.</span><span class="sxs-lookup"><span data-stu-id="6363c-140">Proceed to the next topic in the series.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="6363c-141">Guide pratique pour configurer un client</span><span class="sxs-lookup"><span data-stu-id="6363c-141">How to: Configure a Client</span></span>](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)

## <a name="see-also"></a><span data-ttu-id="6363c-142">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="6363c-142">See also</span></span>

- [<span data-ttu-id="6363c-143">Outil ServiceModel Metadata Utility (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="6363c-143">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)
- [<span data-ttu-id="6363c-144">Prise en main</span><span class="sxs-lookup"><span data-stu-id="6363c-144">Getting Started</span></span>](../../../docs/framework/wcf/samples/getting-started-sample.md)
- [<span data-ttu-id="6363c-145">Auto-hébergement</span><span class="sxs-lookup"><span data-stu-id="6363c-145">Self-Host</span></span>](../../../docs/framework/wcf/samples/self-host.md)
- [<span data-ttu-id="6363c-146">Guide pratique pour publier les métadonnées d’un service à l’aide d’un fichier de configuration</span><span class="sxs-lookup"><span data-stu-id="6363c-146">How to: Publish Metadata for a Service Using a Configuration File</span></span>](../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md)
- [<span data-ttu-id="6363c-147">Guide pratique pour utiliser Svcutil.exe pour télécharger des documents de métadonnées</span><span class="sxs-lookup"><span data-stu-id="6363c-147">How to: Use Svcutil.exe to Download Metadata Documents</span></span>](../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-download-metadata-documents.md)
