---
title: "Comment : créer un client Windows Communication Foundation"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- clients [WCF], running
- WCF clients [WCF], running
ms.assetid: a67884cc-1c4b-416b-8c96-5c954099f19f
caps.latest.revision: "64"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: cd2740cfef2a618e4ab220f7db84fc78a10e0980
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/02/2017
---
# <a name="how-to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="24796-102">Comment : créer un client Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="24796-102">How to: Create a Windows Communication Foundation Client</span></span>
<span data-ttu-id="24796-103">Il s'agit de la quatrième des six tâches requises pour créer une application [!INCLUDE[indigo1](../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="24796-103">This is the fourth of six tasks required to create a [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] application.</span></span> <span data-ttu-id="24796-104">Pour une vue d’ensemble des six tâches, consultez la [Getting Started Tutorial](../../../docs/framework/wcf/getting-started-tutorial.md) rubrique.</span><span class="sxs-lookup"><span data-stu-id="24796-104">For an overview of all six of the tasks, see the [Getting Started Tutorial](../../../docs/framework/wcf/getting-started-tutorial.md) topic.</span></span>  
  
 <span data-ttu-id="24796-105">Cette rubrique décrit comment extraire les métadonnées d'un service [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] et les utiliser pour créer un proxy [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] qui peut accéder au service.</span><span class="sxs-lookup"><span data-stu-id="24796-105">This topic describes how to retrieve metadata from a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service and use it to create a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] proxy that can access the service.</span></span> <span data-ttu-id="24796-106">Cette tâche prend fin en utilisant la fonctionnalité Ajouter une référence de service fournie par Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="24796-106">This task is completed by using the Add Service Reference functionality provided by Visual Studio .</span></span> <span data-ttu-id="24796-107">Cet outil obtient les métadonnées du point de terminaison MEX du service et génère un fichier de code source managé pour un proxy client dans le langage que vous avez choisi (C# par défaut).</span><span class="sxs-lookup"><span data-stu-id="24796-107">This tool obtains the metadata from the service’s MEX endpoint and generates a managed source code file for a client proxy in the language you have chosen (C# by default).</span></span> <span data-ttu-id="24796-108">L'outil crée non seulement le proxy client, mais également le fichier de configuration (ou le met à jour) pour le client qui permet à l'application cliente de se connecter au service au niveau de l'un de ses points de terminaison.</span><span class="sxs-lookup"><span data-stu-id="24796-108">In addition to creating the client proxy, the tool also creates or updates the client configuration file which enables the client application to connect to the service at one of its endpoints.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="24796-109">Vous pouvez également utiliser le [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) outil pour générer la classe de proxy et la configuration au lieu d’utiliser Ajouter une référence de Service à l’intérieur de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="24796-109">You can also use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool to generate the proxy class and configuration instead of using Add Service Reference inside of Visual Studio.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="24796-110">Lors de l'appel d'un service [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] à partir d'un projet de bibliothèque de classes dans [!INCLUDE[vs_current_long](../../../includes/vs-current-long-md.md)], vous pouvez utiliser la fonctionnalité Ajouter une référence de service pour générer automatiquement un proxy et le fichier de configuration associé.</span><span class="sxs-lookup"><span data-stu-id="24796-110">When calling a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service from a class library project in [!INCLUDE[vs_current_long](../../../includes/vs-current-long-md.md)] you can use the Add Service Reference feature to automatically generate a proxy and associated configuration file.</span></span>  <span data-ttu-id="24796-111">Le fichier de configuration ne sera pas utilisé par le projet de bibliothèque de classes.</span><span class="sxs-lookup"><span data-stu-id="24796-111">The configuration file will not be used by the class library project.</span></span> <span data-ttu-id="24796-112">Vous devez ajouter les paramètres dans le fichier de configuration généré dans le fichier app.config pour le fichier exécutable qui appelle la bibliothèque de classes.</span><span class="sxs-lookup"><span data-stu-id="24796-112">You will need to add the settings in the generated configuration file to the app.config file for the executable that will call the class library.</span></span>  
  
 <span data-ttu-id="24796-113">L'application cliente utilise la classe proxy générée pour communiquer avec le service.</span><span class="sxs-lookup"><span data-stu-id="24796-113">The client application uses the generated proxy class to communicate with the service.</span></span> <span data-ttu-id="24796-114">Cette procédure est décrite dans [Comment : utiliser un Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span><span class="sxs-lookup"><span data-stu-id="24796-114">This procedure is described in [How to: Use a Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span></span>  
  
### <a name="to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="24796-115">Pour créer un client Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="24796-115">To create a Windows Communication Foundation client</span></span>  
  
1.  <span data-ttu-id="24796-116">Créer un nouveau projet d’application console en cliquant sur la solution de mise en route, sélectionnez **ajouter**, **nouveau projet**.</span><span class="sxs-lookup"><span data-stu-id="24796-116">Create a new console application project by right-clicking on the Getting Started solution, selecting, **Add**, **New Project**.</span></span> <span data-ttu-id="24796-117">Dans le **ajouter un nouveau projet** boîte de dialogue sur le côté gauche de la boîte de dialogue, sélectionnez **Windows** sous **c#** ou **VB**.</span><span class="sxs-lookup"><span data-stu-id="24796-117">In the **Add New Project** dialog on the left hand side of the dialog select **Windows** under **C#** or **VB**.</span></span> <span data-ttu-id="24796-118">Dans la section centrale de la boîte de dialogue Sélectionnez **Application Console**.</span><span class="sxs-lookup"><span data-stu-id="24796-118">In the center section of the dialog select **Console Application**.</span></span> <span data-ttu-id="24796-119">Attribuez un nom au projet `GettingStartedClient`.</span><span class="sxs-lookup"><span data-stu-id="24796-119">Name the project `GettingStartedClient`.</span></span>  
  
2.  <span data-ttu-id="24796-120">Définir le framework cible du projet GettingStartedClient à .NET Framework 4.5 en cliquant avec le bouton droit sur **GettingStartedClient** dans l’Explorateur de solutions et en sélectionnant **propriétés**.</span><span class="sxs-lookup"><span data-stu-id="24796-120">Set the target framework of the GettingStartedClient project to .NET Framework 4.5 by right clicking on **GettingStartedClient** in the Solution Explorer and selecting **Properties**.</span></span> <span data-ttu-id="24796-121">Dans la zone de liste déroulante **Framework cible** sélectionnez **.NET Framework 4.5**.</span><span class="sxs-lookup"><span data-stu-id="24796-121">In the dropdown box labeled **Target Framework** select **.NET Framework 4.5**.</span></span> <span data-ttu-id="24796-122">Paramètre du framework cible pour un projet VB est un peu différent, dans la boîte de dialogue Propriétés du projet GettingStartedClient, cliquez sur le **compiler** onglet sur le côté gauche de l’écran, puis cliquez sur le **avancé Options de compilation** bouton dans le coin inférieur gauche de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="24796-122">Setting the target framework for a VB project is a little different, in the GettingStartedClient project properties dialog, click the **Compile** tab on the left-hand side of the screen, and then click the **Advanced Compile Options** button at the lower left-hand corner of the dialog.</span></span> <span data-ttu-id="24796-123">Puis sélectionnez **.NET Framework 4.5** dans la zone de liste déroulante **Framework cible**.</span><span class="sxs-lookup"><span data-stu-id="24796-123">Then select **.NET Framework 4.5** in the dropdown box labeled **Target Framework**.</span></span>  
  
     <span data-ttu-id="24796-124">La définition de l’infrastructure cible provoque Visual Studio 2011 recharger la solution, appuyez sur **OK** lorsque vous y êtes invité.</span><span class="sxs-lookup"><span data-stu-id="24796-124">Setting the target framework will cause Visual Studio 2011 to reload the solution, press **OK** when prompted.</span></span>  
  
3.  <span data-ttu-id="24796-125">Ajouter une référence à System.ServiceModel dans le projet GettingStartedClient en cliquant sur le **référence** dossier sous le projet GettingStartedClient dans l’Explorateur de solutions, puis sélectionnez **ajouter** Référence.</span><span class="sxs-lookup"><span data-stu-id="24796-125">Add a reference to System.ServiceModel to the GettingStartedClient project by right-clicking the **Reference** folder under the GettingStartedClient project in Solution Explorer and select **Add** Reference.</span></span> <span data-ttu-id="24796-126">Dans le **ajouter une référence** boîte de dialogue Sélectionnez **Framework** sur le côté gauche de la boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="24796-126">In the **Add Reference** dialog select **Framework** on the left-hand side of the dialog.</span></span> <span data-ttu-id="24796-127">Dans la zone de texte Rechercher des assemblys, tapez `System.ServiceModel`.</span><span class="sxs-lookup"><span data-stu-id="24796-127">In the Search Assemblies textbox, type in `System.ServiceModel`.</span></span> <span data-ttu-id="24796-128">Dans la section centrale de la boîte de dialogue Sélectionnez **System.ServiceModel**, cliquez sur le **ajouter** , puis cliquez sur le **fermer** bouton.</span><span class="sxs-lookup"><span data-stu-id="24796-128">In the center section of the dialog select **System.ServiceModel**, click the **Add** button, and click the **Close** button.</span></span> <span data-ttu-id="24796-129">Enregistrez la solution en cliquant sur le **Enregistrer tout** situé sous le menu principal.</span><span class="sxs-lookup"><span data-stu-id="24796-129">Save the solution by clicking the **Save All** button below the main menu.</span></span>  
  
4.  <span data-ttu-id="24796-130">Ensuite vous ajouterez une référence de service au service Calculator.</span><span class="sxs-lookup"><span data-stu-id="24796-130">Next you wlll add a service reference to the Calculator Service.</span></span> <span data-ttu-id="24796-131">Pour ce faire, vous devez d'abord démarrer l'application console GettingStartedHost.</span><span class="sxs-lookup"><span data-stu-id="24796-131">Before you can do that, you must start up the GettingStartedHost console application.</span></span> <span data-ttu-id="24796-132">Une fois que l’ordinateur hôte est en cours d’exécution. vous pouvez cliquez avec le bouton droit sur le dossier références sous le projet GettingStartedClient dans l’Explorateur de solutions et sélectionnez Ajouter une référence de Service et tapez l’URL suivante dans la zone Adresse de la boîte de dialogue Ajouter une référence de Service : lien hypertexte « http:/ / localhost:8000/ServiceModelSamples/Service « http://localhost : 8000/ServiceModelSamples/Service et cliquez sur le **accédez** bouton.</span><span class="sxs-lookup"><span data-stu-id="24796-132">Once the host is running you can right click the References folder under the GettingStartedClient project in the Solution Explorer and select Add Service Reference and type in the following URL in the address box of the Add Service Reference dialog:  HYPERLINK "http://localhost:8000/ServiceModelSamples/Service" http://localhost:8000/ServiceModelSamples/Service and   click the **Go** button.</span></span> <span data-ttu-id="24796-133">Le CalculatorService doit ensuite être affiché dans la zone de liste de services. Double-cliquez sur CalculatorService pour développer et afficher les contrats de service implémentés par le service.</span><span class="sxs-lookup"><span data-stu-id="24796-133">The CalculatorService should then be displayed in the Services list box, Double click CalculatorService and it will expand and show the service contracts implemented by the service.</span></span> <span data-ttu-id="24796-134">Laissez l’espace de noms par défaut et cliquez sur le **OK** bouton.</span><span class="sxs-lookup"><span data-stu-id="24796-134">Leave the default namespace as is and click the **OK** button.</span></span>  
  
     <span data-ttu-id="24796-135">Lorsque vous ajoutez une référence à un service à l’aide de Visual Studio, un nouvel élément s’affiche dans l’Explorateur de solutions sous le dossier Références de service sous le projet GettingStartedClient.</span><span class="sxs-lookup"><span data-stu-id="24796-135">When you add a reference to a service using Visual Studio a new item will appear in the Solution Explorer under the Service References folder under the GettingStartedClient project.</span></span>  <span data-ttu-id="24796-136">Si vous utilisez la [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) outil seront générés un fichier de code source et le fichier app.config.</span><span class="sxs-lookup"><span data-stu-id="24796-136">If you use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool a source code file and app.config file will be generated.</span></span>  
  
     <span data-ttu-id="24796-137">Vous pouvez également utiliser l’outil de ligne de commande [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) avec les commutateurs appropriés pour créer le code client.</span><span class="sxs-lookup"><span data-stu-id="24796-137">You can also use the command-line tool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) with the appropriate switches to create the client code.</span></span> <span data-ttu-id="24796-138">L'exemple suivant génère un fichier de code et un fichier de configuration pour le service.</span><span class="sxs-lookup"><span data-stu-id="24796-138">The following example generates a code file and a configuration file for the service.</span></span> <span data-ttu-id="24796-139">Le premier exemple montre comment générer le proxy en VB et le deuxième montre comment générer le proxy en C# :</span><span class="sxs-lookup"><span data-stu-id="24796-139">The first example shows how to generate the proxy in VB and the second shows how to generated the proxy in C#:</span></span>  
  
    ```  
    svcutil.exe /language:vb /out:generatedProxy.vb /config:app.config http://localhost:8000/ServiceModelSamples/service  
    ```  
  
    ```csharp  
    svcutil.exe /language:cs /out:generatedProxy.cs /config:app.config http://localhost:8000/ServiceModelSamples/service  
    ```  
  
 <span data-ttu-id="24796-140">Vous avez créé le proxy que l'application cliente utilisera pour appeler le service de calculatrice.</span><span class="sxs-lookup"><span data-stu-id="24796-140">You have now created the proxy that the client application will use to call the calculator service.</span></span> <span data-ttu-id="24796-141">Passez à la rubrique suivante de la série : [Comment : configurer un Client](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)</span><span class="sxs-lookup"><span data-stu-id="24796-141">Proceed to the next topic in the series: [How to: Configure a Client](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="24796-142">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="24796-142">See Also</span></span>  
 [<span data-ttu-id="24796-143">Outil ServiceModel Metadata Utility (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="24796-143">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)  
 [<span data-ttu-id="24796-144">Prise en main</span><span class="sxs-lookup"><span data-stu-id="24796-144">Getting Started</span></span>](../../../docs/framework/wcf/samples/getting-started-sample.md)  
 [<span data-ttu-id="24796-145">L’auto-hébergement</span><span class="sxs-lookup"><span data-stu-id="24796-145">Self-Host</span></span>](../../../docs/framework/wcf/samples/self-host.md)  
 [<span data-ttu-id="24796-146">Comment : publier des métadonnées pour un Service à l’aide d’un fichier de Configuration</span><span class="sxs-lookup"><span data-stu-id="24796-146">How to: Publish Metadata for a Service Using a Configuration File</span></span>](../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md)  
 [<span data-ttu-id="24796-147">Comment : utiliser Svcutil.exe pour télécharger des Documents de métadonnées</span><span class="sxs-lookup"><span data-stu-id="24796-147">How to: Use Svcutil.exe to Download Metadata Documents</span></span>](../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-download-metadata-documents.md)
