---
title: Basic Resource Service
ms.date: 03/30/2017
ms.assetid: 4360063e-cc8c-4648-846e-c05a5af51a7a
ms.openlocfilehash: 62b2b863f38647e81468065fd69fc4933afc5b16
ms.sourcegitcommit: 15109844229ade1c6449f48f3834db1b26907824
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/07/2018
---
# <a name="basic-resource-service"></a><span data-ttu-id="fb2d6-102">Basic Resource Service</span><span class="sxs-lookup"><span data-stu-id="fb2d6-102">Basic Resource Service</span></span>
<span data-ttu-id="fb2d6-103">Cet exemple montre comment implémenter un service basé sur HTTP, l’utilisation du modèle de programmation de Windows Communication Foundation (WCF) REST qui expose une collection de clients prenant en charge la récupération, ajouter, supprimer et remplacer des opérations.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-103">This sample demonstrates how to implement a HTTP-based service using the Windows Communication Foundation (WCF) REST Programming model that exposes a collection of customers that supports the retrieve, add, delete and replace operations.</span></span> <span data-ttu-id="fb2d6-104">Cet exemple se compose de 2 composants : un service HTTP WCF auto-hébergé (Service.cs) et une application de console (program.cs) qui crée le service et effectue des appels à ce dernier.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-104">This sample consists of 2 components - a self-hosted WCF HTTP service (Service.cs) and a console application (program.cs) that creates the service and makes calls to it.</span></span>  
  
## <a name="sample-details"></a><span data-ttu-id="fb2d6-105">Détails de l'exemple</span><span class="sxs-lookup"><span data-stu-id="fb2d6-105">Sample Details</span></span>  
 <span data-ttu-id="fb2d6-106">Le service WCF expose une collection de clients d’une manière orientée ressources/REST.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-106">The WCF service exposes a collection of customers in a resource-oriented/REST manner.</span></span> <span data-ttu-id="fb2d6-107">En résumé, cela implique de disposer d’URI uniques pour la collection de clients et chaque client de la collection.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-107">In short, this involves having unique URIs for the collection of customers and every customer in the collection.</span></span> <span data-ttu-id="fb2d6-108">Le service prend en charge l'envoi d'un HTTP `GET` à l'URI de la collection pour récupérer la collection entière et d'un HTTP `POST` à l'URI de la collection pour ajouter un nouveau client à la collection.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-108">The service supports sending an HTTP `GET` at the collection URI to retrieve the entire collection and HTTP `POST` at the collection URI to add a new customer to the collection.</span></span> <span data-ttu-id="fb2d6-109">Il prend aussi en charge, à l'URI d'un client individuel, HTTP `GET` pour obtenir les informations du client, HTTP `PUT` pour remplacer les informations du client et HTTP `DELETE` pour supprimer le client de la collection.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-109">Also at the URI for an individual customer, it supports HTTP `GET` to get the customer details, HTTP `PUT` to replace the details of the customer and HTTP `DELETE` to remove the customer from the collection.</span></span> <span data-ttu-id="fb2d6-110">Lorsqu’un nouveau client est ajouté à la collection, le service lui assigne un URI unique et stocke l’URI avec les informations du client.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-110">When a new customer is added to the collection, the service assigns it a unique URI and stores the URI as part of the customer’s details.</span></span> <span data-ttu-id="fb2d6-111">Il communique aussi l'URI au client à l'aide de l'en-tête HTTP Location de la réponse.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-111">Also, it communicates the URI to the client using the Location HTTP header of the response.</span></span>  
  
 <span data-ttu-id="fb2d6-112">Le fichier App.config configure le service WCF avec un <xref:System.ServiceModel.Description.WebHttpEndpoint> par défaut dont la propriété <xref:System.ServiceModel.Description.WebHttpEndpoint.HelpEnabled%2A> a la valeur `true`.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-112">The App.config file configures the WCF service with a default <xref:System.ServiceModel.Description.WebHttpEndpoint> that has the <xref:System.ServiceModel.Description.WebHttpEndpoint.HelpEnabled%2A> property set to `true`.</span></span> <span data-ttu-id="fb2d6-113">Par conséquent, WCF crée une page d’aide HTML automatique sous `http://localhost:8000/Customers/help` qui fournit des informations sur la construction HTTP requêtes adressées au service et comment accéder à la réponse du service HTTP, par exemple, un exemple de la façon dont les détails du client est représenté dans JSON et XML.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-113">As a result, the WCF creates an automatic HTML-based help page at `http://localhost:8000/Customers/help` that provides information about how to construct HTTP requests to the service and how to access the service’s HTTP response – for instance, an example of how the customer details is represented in XML and JSON.</span></span>  
  
 <span data-ttu-id="fb2d6-114">Exposer ainsi la collection customer (et plus généralement, n'importe quelle ressource) permet au client d'interagir avec elle de façon uniforme en utilisant des URI et HTTP `GET`, `PUT`, `DELETE` et `POST`.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-114">Exposing the customer collection (and more generally, any resource) in this manner allows the client to interact with it in a uniform way using URIs and HTTP `GET`, `PUT`, `DELETE` and `POST`.</span></span> <span data-ttu-id="fb2d6-115">Program.cs montre comment un tel client peut être créé à l'aide de <xref:System.Net.HttpWebRequest>.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-115">Program.cs demonstrates how such a client can be authored using <xref:System.Net.HttpWebRequest>.</span></span> <span data-ttu-id="fb2d6-116">Notez qu’il s’agit tout simplement un moyen d’accéder à un service WCF REST.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-116">Note that this is just one way to access a WCF REST service.</span></span> <span data-ttu-id="fb2d6-117">Il est également possible d'accéder au service à l'aide d'autres classes .NET Framework, comme <xref:System.ServiceModel.ChannelFactory> et <xref:System.Net.WebClient>.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-117">It is also possible to access the service using other .NET Framework classes like the <xref:System.ServiceModel.ChannelFactory> and <xref:System.Net.WebClient>.</span></span> <span data-ttu-id="fb2d6-118">Autres exemples du SDK (telles que la [Service HTTP de base](../../../../docs/framework/wcf/samples/basic-http-service.md) exemple et [la sélection automatique du Format](../../../../docs/framework/wcf/samples/automatic-format-selection.md) exemple) montrent comment utiliser ces classes pour communiquer avec un service WCF.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-118">Other samples in the SDK (such as the [Basic HTTP Service](../../../../docs/framework/wcf/samples/basic-http-service.md) sample and the [Automatic Format Selection](../../../../docs/framework/wcf/samples/automatic-format-selection.md) sample) show how to use these classes to communicate with a WCF service.</span></span>  
  
 <span data-ttu-id="fb2d6-119">L'exemple est constitué d'un service auto-hébergé et d'un client qui s'exécutent tous deux dans une application console.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-119">The sample consists a self-hosted service and a client that both run within a console application.</span></span> <span data-ttu-id="fb2d6-120">Lorsque l'application console s'exécute, le client adresse des requêtes au service et affiche les informations pertinentes des réponses dans la fenêtre de console.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-120">As the console application runs, the client makes requests to the service and writes the pertinent information from the responses to the console window.</span></span>  
  
#### <a name="to-use-this-sample"></a><span data-ttu-id="fb2d6-121">Pour utiliser cet exemple</span><span class="sxs-lookup"><span data-stu-id="fb2d6-121">To use this sample</span></span>  
  
1.  <span data-ttu-id="fb2d6-122">Ouvrez la solution de l'exemple Basic Resource Service.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-122">Open the solution for the Basic Resource Service Sample.</span></span> <span data-ttu-id="fb2d6-123">Pour que l'exemple fonctionne correctement, vous devez exécuter [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] en tant qu'administrateur.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-123">When launching [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], you must run as an administrator for the sample to execute successfully.</span></span> <span data-ttu-id="fb2d6-124">Cela en double-cliquant sur le [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] icône et en sélectionnant **exécuter en tant qu’administrateur** dans le menu contextuel.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-124">Do this by right-clicking the [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] icon and selecting **Run as Administrator** from the context menu.</span></span>  
  
2.  <span data-ttu-id="fb2d6-125">Appuyez sur CTRL+MAJ+B pour générer la solution, puis appuyez sur Ctrl+F5 pour exécuter l'application console.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-125">Press CTRL+SHIFT+B to build the solution and then press Ctrl+F5 to run the console application.</span></span> <span data-ttu-id="fb2d6-126">La fenêtre de console apparaît et fournit l'URI du service en cours d'exécution, ainsi que l'URI de sa page d'aide HTML.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-126">The console window appears and provides the URI of the running service and the URI of the HTML help page for the running service.</span></span> <span data-ttu-id="fb2d6-127">Vous pouvez à tout moment consulter la page d'aide HTML en tapant son URI dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-127">At any point in time you can view the HTML help page by typing the URI of the help page in a browser.</span></span> <span data-ttu-id="fb2d6-128">Lorsque l'exemple s'exécute, le client écrit l'état de l'activité actuelle.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-128">As the sample runs, the client writes the status of the current activity.</span></span>  
  
3.  <span data-ttu-id="fb2d6-129">Appuyez sur une touche quelconque pour arrêter l'exemple.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-129">Press any key to terminate the sample.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="fb2d6-130">Les exemples peuvent déjà être installés sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-130">The samples may already be installed on your machine.</span></span> <span data-ttu-id="fb2d6-131">Recherchez le répertoire (par défaut) suivant avant de continuer.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-131">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="fb2d6-132">Si ce répertoire n’existe pas, accédez à [Windows Communication Foundation (WCF) et des exemples Windows Workflow Foundation (WF) pour .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) pour télécharger tous les Windows Communication Foundation (WCF) et [!INCLUDE[wf1](../../../../includes/wf1-md.md)] exemples.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-132">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="fb2d6-133">Cet exemple se trouve dans le répertoire suivant.</span><span class="sxs-lookup"><span data-stu-id="fb2d6-133">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WCF\Basic\Web\BasicResourceService`  
  
## <a name="see-also"></a><span data-ttu-id="fb2d6-134">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="fb2d6-134">See Also</span></span>  
 [<span data-ttu-id="fb2d6-135">Service HTTP de base</span><span class="sxs-lookup"><span data-stu-id="fb2d6-135">Basic HTTP Service</span></span>](../../../../docs/framework/wcf/samples/basic-http-service.md)  
 [<span data-ttu-id="fb2d6-136">Sélection automatique du format</span><span class="sxs-lookup"><span data-stu-id="fb2d6-136">Automatic Format Selection</span></span>](../../../../docs/framework/wcf/samples/automatic-format-selection.md)
