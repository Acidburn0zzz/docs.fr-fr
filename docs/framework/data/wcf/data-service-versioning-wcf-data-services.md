---
title: Contrôle de version d'un service de données (WCF Data Services)
ms.date: 03/30/2017
helpviewer_keywords:
- versioning, WCF Data Services
- versioning [WCF Data Services]
- WCF Data Services, versioning
ms.assetid: e3e899cc-7f25-4f67-958f-063f01f79766
ms.openlocfilehash: 0d77f54b5ef20db81c3c20f486ac7314f73aece8
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 05/04/2018
ms.locfileid: "33365616"
---
# <a name="data-service-versioning-wcf-data-services"></a><span data-ttu-id="82f9b-102">Contrôle de version d'un service de données (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="82f9b-102">Data Service Versioning (WCF Data Services)</span></span>
<span data-ttu-id="82f9b-103">Le [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] vous permet de créer des services de données afin que les clients peuvent accéder aux données en tant que ressources à l’aide d’URI qui sont basés sur un modèle de données.</span><span class="sxs-lookup"><span data-stu-id="82f9b-103">The [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] enables you to create data services so that clients can access data as resources using URIs that are based on a data model.</span></span> [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="82f9b-104"> prend également en charge la définition des opérations de service.</span><span class="sxs-lookup"><span data-stu-id="82f9b-104"> also supports the definition of service operations.</span></span> <span data-ttu-id="82f9b-105">Après leur déploiement initial, et potentiellement plusieurs fois pendant leur durée de vie, il peut s'avérer nécessaire de modifier ces services de données pour diverses raisons, telles que l'évolution des besoins de l'entreprise, des spécifications informatiques, ou pour résoudre d'autres problèmes.</span><span class="sxs-lookup"><span data-stu-id="82f9b-105">After initial deployment, and potentially several times during their lifetime, these data services may need to be changed for a variety of reasons, such as changing business needs, information technology requirements, or to address other issues.</span></span> <span data-ttu-id="82f9b-106">Lorsque vous apportez des modifications à un service de données existant, vous devez choisir de définir une nouvelle version de votre service de données et comment mieux réduire l'impact sur les applications clientes existantes.</span><span class="sxs-lookup"><span data-stu-id="82f9b-106">When you make changes to an existing data service, you must consider whether to define a new version of your data service and how best to minimize the impact on existing client applications.</span></span> <span data-ttu-id="82f9b-107">Cette rubrique fournit des conseils sur le moment et la façon de créer une nouvelle version d'un service de données.</span><span class="sxs-lookup"><span data-stu-id="82f9b-107">This topic provides guidance on when and how to create a new version of a data service.</span></span> <span data-ttu-id="82f9b-108">Elle décrit aussi comment [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] gère l'échange entre les clients et les services de données qui prennent en charge différentes versions du protocole [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82f9b-108">It also describes how [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] handles an exchange between clients and data services that support different versions of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol.</span></span>  
  
## <a name="versioning-a-wcf-data-service"></a><span data-ttu-id="82f9b-109">Contrôle de version d'un service de données WCF</span><span class="sxs-lookup"><span data-stu-id="82f9b-109">Versioning a WCF Data Service</span></span>  
 <span data-ttu-id="82f9b-110">Lorsqu'un service de données est déployé et que les données sont en cours de consommation, le service de données peut provoquer des problèmes de compatibilité avec les applications clientes existantes.</span><span class="sxs-lookup"><span data-stu-id="82f9b-110">Once a data service is deployed and the data is being consumed, changes to the data service have the potential to cause compatibility issues with existing client applications.</span></span> <span data-ttu-id="82f9b-111">Toutefois, étant donné que les modifications sont souvent requises par les exigences opérationnelles globales du service, vous devez déterminer quand et comment créer une nouvelle version de votre service de données avec le moins d'impact possible sur les applications clientes.</span><span class="sxs-lookup"><span data-stu-id="82f9b-111">However, because changes are often required by the overall business needs of the service, you must consider when and how to create a new version of your data service with the least impact on client applications.</span></span>  
  
### <a name="data-model-changes-that-recommend-a-new-data-service-version"></a><span data-ttu-id="82f9b-112">Modifications du modèle de données qui recommandent une nouvelle version de service de données</span><span class="sxs-lookup"><span data-stu-id="82f9b-112">Data Model Changes that Recommend a New Data Service Version</span></span>  
 <span data-ttu-id="82f9b-113">Au moment de choisir de publier ou non une nouvelle version d'un service de données, il est important de comprendre comment les différents types de modifications peuvent affecter les applications clientes.</span><span class="sxs-lookup"><span data-stu-id="82f9b-113">When considering whether to publish a new version of a data service, it is important to understand how the different kinds of changes may affect client applications.</span></span> <span data-ttu-id="82f9b-114">Les modifications apportées à un service de données pouvant nécessiter la création d'une nouvelle version de service de données, appartiennent aux deux catégories suivantes :</span><span class="sxs-lookup"><span data-stu-id="82f9b-114">Changes to a data service that might require you to create a new version of a data service can be divided into the following two categories:</span></span>  
  
-   <span data-ttu-id="82f9b-115">Modifications apportées au contrat de service, incluant les mises à jour des opérations de service, les modifications de l'accessibilité des jeux d'entités (flux), les modifications de version et d'autres modifications apportées aux comportements de service.</span><span class="sxs-lookup"><span data-stu-id="82f9b-115">Changes to the service contract—which include updates to service operations, changes to the accessibility of entity sets (feeds), version changes, and other changes to service behaviors.</span></span>  
  
-   <span data-ttu-id="82f9b-116">Modifications apportées au contrat de données, incluant les modifications apportées au modèle de données, aux formats de flux ou aux personnalisations de flux.</span><span class="sxs-lookup"><span data-stu-id="82f9b-116">Changes to the data contract—which include changes to the data model, feed formats, or feed customizations.</span></span>  
  
 <span data-ttu-id="82f9b-117">Le tableau suivant contient les types de modifications pour lesquelles vous devez envisager de publier une nouvelle version du service de données :</span><span class="sxs-lookup"><span data-stu-id="82f9b-117">The following table details for which kinds of changes you should consider publishing a new version of the data service:</span></span>  
  
|<span data-ttu-id="82f9b-118">Type de modification</span><span class="sxs-lookup"><span data-stu-id="82f9b-118">Type of Change</span></span>|<span data-ttu-id="82f9b-119">Requiert une nouvelle version</span><span class="sxs-lookup"><span data-stu-id="82f9b-119">Requires a new version</span></span>|<span data-ttu-id="82f9b-120">Nouvelle version inutile</span><span class="sxs-lookup"><span data-stu-id="82f9b-120">New version not needed</span></span>|  
|--------------------|----------------------------|----------------------------|  
|<span data-ttu-id="82f9b-121">Opérations de service</span><span class="sxs-lookup"><span data-stu-id="82f9b-121">Service operations</span></span>|<span data-ttu-id="82f9b-122">-Ajouter un nouveau paramètre</span><span class="sxs-lookup"><span data-stu-id="82f9b-122">-   Add new parameter</span></span><br /><span data-ttu-id="82f9b-123">-Modifier le type de retour</span><span class="sxs-lookup"><span data-stu-id="82f9b-123">-   Change return type</span></span><br /><span data-ttu-id="82f9b-124">-Opération de suppression de service</span><span class="sxs-lookup"><span data-stu-id="82f9b-124">-   Remove service operation</span></span>|<span data-ttu-id="82f9b-125">-Paramètre de suppression existant</span><span class="sxs-lookup"><span data-stu-id="82f9b-125">-   Delete existing parameter</span></span><br /><span data-ttu-id="82f9b-126">-Ajouter une nouvelle opération de service</span><span class="sxs-lookup"><span data-stu-id="82f9b-126">-   Add new service operation</span></span>|  
|<span data-ttu-id="82f9b-127">Comportements de service</span><span class="sxs-lookup"><span data-stu-id="82f9b-127">Service behaviors</span></span>|<span data-ttu-id="82f9b-128">-Désactiver les demandes de nombre</span><span class="sxs-lookup"><span data-stu-id="82f9b-128">-   Disable count requests</span></span><br /><span data-ttu-id="82f9b-129">-Désactiver la prise en charge de projection</span><span class="sxs-lookup"><span data-stu-id="82f9b-129">-   Disable projection support</span></span><br /><span data-ttu-id="82f9b-130">-Augmentation de la version de service de données requis</span><span class="sxs-lookup"><span data-stu-id="82f9b-130">-   Increase the required data service version</span></span>|<span data-ttu-id="82f9b-131">-Activer les demandes de nombre</span><span class="sxs-lookup"><span data-stu-id="82f9b-131">-   Enable count requests</span></span><br /><span data-ttu-id="82f9b-132">-Activer la prise en charge de projection</span><span class="sxs-lookup"><span data-stu-id="82f9b-132">-   Enable projection support</span></span><br /><span data-ttu-id="82f9b-133">-Diminuer la version de service de données requis</span><span class="sxs-lookup"><span data-stu-id="82f9b-133">-   Decrease the required data service version</span></span>|  
|<span data-ttu-id="82f9b-134">Autorisations du jeu d'entités</span><span class="sxs-lookup"><span data-stu-id="82f9b-134">Entity set permissions</span></span>|<span data-ttu-id="82f9b-135">-Restreindre les autorisations du jeu d’entités</span><span class="sxs-lookup"><span data-stu-id="82f9b-135">-   Restrict entity set permissions</span></span><br /><span data-ttu-id="82f9b-136">-Modifier le code de réponse (nouvelle première valeur de chiffres) <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="82f9b-136">-   Change response code (new first digit value) <sup>1</sup></span></span>|<span data-ttu-id="82f9b-137">-Assouplir les autorisations du jeu d’entités</span><span class="sxs-lookup"><span data-stu-id="82f9b-137">-   Relax entity set permissions</span></span><br /><span data-ttu-id="82f9b-138">-Modifier le code de réponse (même première valeur de chiffres)</span><span class="sxs-lookup"><span data-stu-id="82f9b-138">-   Change response code (same first digit value)</span></span>|  
|<span data-ttu-id="82f9b-139">Propriétés d'entité</span><span class="sxs-lookup"><span data-stu-id="82f9b-139">Entity properties</span></span>|<span data-ttu-id="82f9b-140">-Supprimer de la propriété ou relation existante</span><span class="sxs-lookup"><span data-stu-id="82f9b-140">-   Remove existing property or relationship</span></span><br /><span data-ttu-id="82f9b-141">-Ajouter une propriété non nullable</span><span class="sxs-lookup"><span data-stu-id="82f9b-141">-   Add non-nullable property</span></span><br /><span data-ttu-id="82f9b-142">-Modifier la propriété existante</span><span class="sxs-lookup"><span data-stu-id="82f9b-142">-   Change existing property</span></span>|<span data-ttu-id="82f9b-143">-Ajouter une propriété nullable<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="82f9b-143">-   Add nullable property<sup>2</sup></span></span>|  
|<span data-ttu-id="82f9b-144">Jeux d'entités</span><span class="sxs-lookup"><span data-stu-id="82f9b-144">Entity sets</span></span>|<span data-ttu-id="82f9b-145">-Supprimer le jeu d’entités</span><span class="sxs-lookup"><span data-stu-id="82f9b-145">-   Remove entity set</span></span>|<span data-ttu-id="82f9b-146">-Ajouter un type dérivé</span><span class="sxs-lookup"><span data-stu-id="82f9b-146">-   Add derived type</span></span><br /><span data-ttu-id="82f9b-147">-Modifier le type de base</span><span class="sxs-lookup"><span data-stu-id="82f9b-147">-   Change base type</span></span><br /><span data-ttu-id="82f9b-148">-Ajouter le jeu d’entités</span><span class="sxs-lookup"><span data-stu-id="82f9b-148">-   Add entity set</span></span>|  
|<span data-ttu-id="82f9b-149">Personnalisation de flux</span><span class="sxs-lookup"><span data-stu-id="82f9b-149">Feed customization</span></span>|<span data-ttu-id="82f9b-150">-Modifier le mappage de propriété d’entité</span><span class="sxs-lookup"><span data-stu-id="82f9b-150">-   Change entity-property mapping</span></span>||  
  
 <span data-ttu-id="82f9b-151"><sup>1</sup> cela peut dépendre de la rigueur avec laquelle une application cliente s’appuie sur la réception d’un code d’erreur spécifique.</span><span class="sxs-lookup"><span data-stu-id="82f9b-151"><sup>1</sup> This may depend on how strictly a client application relies on receiving a specific error code.</span></span>  
  
 <span data-ttu-id="82f9b-152"><sup>2</sup> que vous pouvez définir le <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> propriété `true` pour que le client ignore toutes les nouvelles propriétés envoyées par le service de données qui ne sont pas définies sur le client.</span><span class="sxs-lookup"><span data-stu-id="82f9b-152"><sup>2</sup> You can set the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property to `true` to have the client ignore any new properties sent by the data service that are not defined on the client.</span></span> <span data-ttu-id="82f9b-153">Toutefois, lorsque des insertions sont réalisées, les propriétés non incluses par le client dans la demande POST sont définies sur leurs valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="82f9b-153">However, when inserts are made, the properties not included by the client in the POST request are set to their default values.</span></span> <span data-ttu-id="82f9b-154">Pour les mises à jour, toutes les données existantes dans une propriété inconnue du client peuvent être remplacées par les valeurs par défaut.</span><span class="sxs-lookup"><span data-stu-id="82f9b-154">For updates, any existing data in a property unknown to the client might be overwritten with default values.</span></span> <span data-ttu-id="82f9b-155">Dans ce cas, vous devez envoyer la mise à jour sous la forme d’une demande MERGE, qui est la valeur par défaut.</span><span class="sxs-lookup"><span data-stu-id="82f9b-155">In this case, you should send the update as a MERGE request, which is the default.</span></span> <span data-ttu-id="82f9b-156">Pour plus d’informations, consultez [gérer le contexte de Service de données](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="82f9b-156">For more information, see [Managing the Data Service Context](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span></span>  
  
### <a name="how-to-version-a-data-service"></a><span data-ttu-id="82f9b-157">Procédure de versionnage d'un service de données</span><span class="sxs-lookup"><span data-stu-id="82f9b-157">How to Version a Data Service</span></span>  
 <span data-ttu-id="82f9b-158">Si nécessaire, une nouvelle version de service de données est définie en créant une nouvelle instance du service avec un contrat de service ou un modèle de données mis à jour.</span><span class="sxs-lookup"><span data-stu-id="82f9b-158">When required, a new data service version is defined by creating a new instance of the service with an updated service contract or data model.</span></span> <span data-ttu-id="82f9b-159">Ce nouveau service est alors exposé à l'aide d'un nouveau point de terminaison d'URI, qui le distingue de la version antérieure.</span><span class="sxs-lookup"><span data-stu-id="82f9b-159">This new service is then exposed by using a new URI endpoint, which differentiates it from the previous version.</span></span> <span data-ttu-id="82f9b-160">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="82f9b-160">For example:</span></span>  
  
-   <span data-ttu-id="82f9b-161">Ancienne version : `http://services.odata.org/Northwind/v1/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="82f9b-161">Old version: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span></span>  
  
-   <span data-ttu-id="82f9b-162">Nouvelle version : `http://services.odata.org/Northwind/v2/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="82f9b-162">New version: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span></span>  
  
 <span data-ttu-id="82f9b-163">Lors de la mise à niveau d'un service de données, les clients doivent également être mis à jour en fonction des nouvelles métadonnées de service de données et utiliser le nouveau URI racine.</span><span class="sxs-lookup"><span data-stu-id="82f9b-163">When upgrading a data service, clients will need to also be updated based on the new data service metadata and to use the new root URI.</span></span> <span data-ttu-id="82f9b-164">Si possible, vous devez maintenir la version antérieure du service de données pour prendre en charge les clients qui n'ont pas encore été mis à niveau pour utiliser la nouvelle version.</span><span class="sxs-lookup"><span data-stu-id="82f9b-164">When possible, you should maintain the previous version of the data service to support clients that have not yet been upgraded to use the new version.</span></span> <span data-ttu-id="82f9b-165">Les versions antérieures d'un service de données peuvent être supprimées lorsqu'elles sont devenues inutiles.</span><span class="sxs-lookup"><span data-stu-id="82f9b-165">Older versions of a data service can be removed when they are no longer needed.</span></span> <span data-ttu-id="82f9b-166">Vous devez envisager de conserver l'URI de point de terminaison de service de données dans un fichier de configuration externe.</span><span class="sxs-lookup"><span data-stu-id="82f9b-166">You should consider maintaining the data service endpoint URI in an external configuration file.</span></span>  
  
## <a name="odata-protocol-versions"></a><span data-ttu-id="82f9b-167">Versions du protocole OData</span><span class="sxs-lookup"><span data-stu-id="82f9b-167">OData Protocol Versions</span></span>  
 <span data-ttu-id="82f9b-168">En tant que de nouvelles versions de [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] sont publiées, les applications clientes ne peuvent pas être à l’aide de la même version de le [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocole qui est pris en charge par le service de données.</span><span class="sxs-lookup"><span data-stu-id="82f9b-168">As new versions of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] are released, client applications may not be using the same version of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol that is supported by the data service.</span></span> <span data-ttu-id="82f9b-169">Une application cliente plus ancienne peut accéder à un service de données qui prend en charge une version plus récente de [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82f9b-169">An older client application may access a data service that supports a newer version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span></span> <span data-ttu-id="82f9b-170">Une application cliente peut également utiliser une version plus récente de la [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] bibliothèque cliente, qui prend en charge une version plus récente de [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] que le service de données est accessible.</span><span class="sxs-lookup"><span data-stu-id="82f9b-170">A client application may also be using a newer version of the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library, which supports a newer version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] than does the data service that is being accessed.</span></span>  
  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="82f9b-171"> tire parti de la prise en charge fournie par [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] pour gérer ces scénarios de contrôle de version.</span><span class="sxs-lookup"><span data-stu-id="82f9b-171"> leverages the support provided by [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] to handle such versioning scenarios.</span></span> <span data-ttu-id="82f9b-172">Il est également prise en charge pour la création et à l’aide de métadonnées de modèle de données pour créer des classes de service de données client lorsque le client utilise une version différente de [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] que le service de données utilise.</span><span class="sxs-lookup"><span data-stu-id="82f9b-172">There is also support for generating and using data model metadata to create client data service classes when the client uses a different version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] than the data service uses.</span></span> <span data-ttu-id="82f9b-173">Pour plus d’informations, consultez [OData : le protocole de contrôle de version](http://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="82f9b-173">For more information, see [OData: Protocol Versioning](http://go.microsoft.com/fwlink/?LinkId=186071).</span></span>  
  
### <a name="version-negotiation"></a><span data-ttu-id="82f9b-174">Négociation de version</span><span class="sxs-lookup"><span data-stu-id="82f9b-174">Version Negotiation</span></span>  
 <span data-ttu-id="82f9b-175">Le service de données peut être configuré pour définir la version la plus élevée de la [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocole qui sera utilisé par le service, quelle que soit la version demandée par le client.</span><span class="sxs-lookup"><span data-stu-id="82f9b-175">The data service can be configured to define the highest version of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol that will be used by the service, regardless of the version requested by the client.</span></span> <span data-ttu-id="82f9b-176">Vous pouvez faire cela en spécifiant un <xref:System.Data.Services.Common.DataServiceProtocolVersion> la valeur pour le <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> propriété de la <xref:System.Data.Services.DataServiceBehavior> utilisé par le service de données.</span><span class="sxs-lookup"><span data-stu-id="82f9b-176">You can do this by specifying a <xref:System.Data.Services.Common.DataServiceProtocolVersion> value for the <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> property of the <xref:System.Data.Services.DataServiceBehavior> used by the data service.</span></span> <span data-ttu-id="82f9b-177">Pour plus d’informations, consultez [configuration du Service de données](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="82f9b-177">For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="82f9b-178">Lorsqu'une application utilise les bibliothèques clientes [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] pour accéder à un service de données, les bibliothèques définissent automatiquement ces en-têtes pour qu'ils aient les valeurs correctes, en fonction de la version d'[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] et des fonctionnalités utilisées pour votre application.</span><span class="sxs-lookup"><span data-stu-id="82f9b-178">When an application uses the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client libraries to access a data service, the libraries automatically set these headers to the correct values, depending on the version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] and the features that are used in your application.</span></span> <span data-ttu-id="82f9b-179">Par défaut, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] utilise la version du protocole le plus bas qui prend en charge l’opération demandée.</span><span class="sxs-lookup"><span data-stu-id="82f9b-179">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] uses the lowest protocol version that supports the requested operation.</span></span>  
  
 <span data-ttu-id="82f9b-180">Le tableau suivant fournit des détails sur les versions de [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] et [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] qui incluent la prise en charge [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] des versions spécifiques du protocole [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82f9b-180">The following table details the versions of [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] and [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] that include [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] support for specific versions of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol.</span></span>  
  
|<span data-ttu-id="82f9b-181">Version de protocole [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]</span><span class="sxs-lookup"><span data-stu-id="82f9b-181">[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] Protocol Version</span></span>|<span data-ttu-id="82f9b-182">Prise en charge depuis...</span><span class="sxs-lookup"><span data-stu-id="82f9b-182">Support introduced in…</span></span>|  
|-----------------------------------------------------------------------------------|----------------------------|  
|<span data-ttu-id="82f9b-183">Version 1</span><span class="sxs-lookup"><span data-stu-id="82f9b-183">Version 1</span></span>|<span data-ttu-id="82f9b-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] Service Pack 1 (SP1)</span><span class="sxs-lookup"><span data-stu-id="82f9b-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] Service Pack 1 (SP1)</span></span><br /><span data-ttu-id="82f9b-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 3</span><span class="sxs-lookup"><span data-stu-id="82f9b-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 3</span></span>|  
|<span data-ttu-id="82f9b-186">Version 2</span><span class="sxs-lookup"><span data-stu-id="82f9b-186">Version 2</span></span>|-   [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)]<br /><span data-ttu-id="82f9b-187">-Une mise à jour [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] SP1.</span><span class="sxs-lookup"><span data-stu-id="82f9b-187">-   An update to [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] SP1.</span></span> <span data-ttu-id="82f9b-188">Vous pouvez télécharger et installer la mise à jour à partir de la [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=158125).</span><span class="sxs-lookup"><span data-stu-id="82f9b-188">You can download and install the update from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=158125).</span></span><br /><span data-ttu-id="82f9b-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 4</span><span class="sxs-lookup"><span data-stu-id="82f9b-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 4</span></span>|  
|<span data-ttu-id="82f9b-190">Version 3</span><span class="sxs-lookup"><span data-stu-id="82f9b-190">Version 3</span></span>|<span data-ttu-id="82f9b-191">-Vous pouvez télécharger et installer une version préliminaire qui prend en charge [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] version 3 à partir de la [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=203885).</span><span class="sxs-lookup"><span data-stu-id="82f9b-191">-   You can download and install a pre-release version that supports [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] version 3 from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=203885).</span></span>|  
  
### <a name="metadata-versions"></a><span data-ttu-id="82f9b-192">Versions de métadonnées</span><span class="sxs-lookup"><span data-stu-id="82f9b-192">Metadata Versions</span></span>  
 <span data-ttu-id="82f9b-193">Par défaut, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] utilise la version 1.1 de CSDL pour représenter un modèle de données.</span><span class="sxs-lookup"><span data-stu-id="82f9b-193">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] uses version 1.1 of CSDL to represent a data model.</span></span> <span data-ttu-id="82f9b-194">C'est toujours le cas pour les modèles de données basés sur un fournisseur de réflexion ou un fournisseur de services de données personnalisé.</span><span class="sxs-lookup"><span data-stu-id="82f9b-194">This is always the case for data models that are based on either a reflection provider or a custom data service provider.</span></span> <span data-ttu-id="82f9b-195">Toutefois, lorsque le modèle de données est défini à l'aide d'[!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], la version de CSDL retournée est la même que celle utilisée par l'[!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82f9b-195">However, when the data model is defined by using the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], the version of CSDL returned is the same as the version that is used by the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span></span> <span data-ttu-id="82f9b-196">La version du langage CSDL est déterminée par l’espace de noms de la [élément de schéma](http://msdn.microsoft.com/library/396074d8-f99c-4f50-a073-68bce848224f).</span><span class="sxs-lookup"><span data-stu-id="82f9b-196">The version of the CSDL is determined by the namespace of the [Schema element](http://msdn.microsoft.com/library/396074d8-f99c-4f50-a073-68bce848224f).</span></span> <span data-ttu-id="82f9b-197">Pour plus d’informations, consultez la spécification [ \[MC-CSDL\]: Format de fichier de définition de schéma conceptuel](http://go.microsoft.com/fwlink/?LinkId=159072).</span><span class="sxs-lookup"><span data-stu-id="82f9b-197">For more information, see the specification [\[MC-CSDL\]: Conceptual Schema Definition File Format](http://go.microsoft.com/fwlink/?LinkId=159072).</span></span>  
  
 <span data-ttu-id="82f9b-198">L'élément `DataServices` des métadonnées retournées contient également un attribut `DataServiceVersion`, qui est la même valeur que l'en-tête `DataServiceVersion` du message de réponse.</span><span class="sxs-lookup"><span data-stu-id="82f9b-198">The `DataServices` element of the returned metadata also contains a `DataServiceVersion` attribute, which is the same value as the `DataServiceVersion` header in the response message.</span></span> <span data-ttu-id="82f9b-199">Les applications clientes, telles que la **ajouter une référence de Service** boîte de dialogue dans Visual Studio, utilisez ces informations pour générer le service de données client classes qui fonctionnent correctement avec la version de [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] qui hébergent le service de données.</span><span class="sxs-lookup"><span data-stu-id="82f9b-199">Client applications, such as the **Add Service Reference** dialog box in Visual Studio, use this information to generate client data service classes that work correctly with the version of [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] that host the data service.</span></span> <span data-ttu-id="82f9b-200">Pour plus d’informations, consultez [OData : le protocole de contrôle de version](http://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="82f9b-200">For more information, see [OData: Protocol Versioning](http://go.microsoft.com/fwlink/?LinkId=186071).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="82f9b-201">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="82f9b-201">See Also</span></span>  
 [<span data-ttu-id="82f9b-202">Fournisseurs de services de données</span><span class="sxs-lookup"><span data-stu-id="82f9b-202">Data Services Providers</span></span>](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md)  
 [<span data-ttu-id="82f9b-203">Définition de WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="82f9b-203">Defining WCF Data Services</span></span>](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)
