---
title: "Considérations sur la sécurité XAML"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- security [XAML Services], .NET XAML services
- XAML security [XAML Services]
ms.assetid: 544296d4-f38e-4498-af49-c9f4dad28964
caps.latest.revision: "7"
author: wadepickett
ms.author: wpickett
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: b58719f36cd911497c5cd892610330688221e7ef
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/22/2017
---
# <a name="xaml-security-considerations"></a><span data-ttu-id="f5d2c-102">Considérations sur la sécurité XAML</span><span class="sxs-lookup"><span data-stu-id="f5d2c-102">XAML Security Considerations</span></span>
<span data-ttu-id="f5d2c-103">Cette rubrique décrit les meilleures pratiques pour la sécurité dans les applications lorsque vous utilisez XAML et l’API des Services XAML .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-103">This topic describes best practices for security in applications when you use XAML and .NET Framework XAML Services API.</span></span>  
  
## <a name="untrusted-xaml-in-applications"></a><span data-ttu-id="f5d2c-104">XAML non fiable dans les Applications</span><span class="sxs-lookup"><span data-stu-id="f5d2c-104">Untrusted XAML in Applications</span></span>  
 <span data-ttu-id="f5d2c-105">Dans le sens de la plus général, XAML non fiable est n’importe quelle source XAML que votre application ne pas spécifiquement inclure ou émettre des.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-105">In the most general sense, untrusted XAML is any XAML source that your application did not specifically include or emit.</span></span>  
  
 <span data-ttu-id="f5d2c-106">XAML compilé ou stocké en tant qu’un `resx`-ressource de type dans un assembly approuvé et signé n’est pas fondamentalement non fiable.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-106">XAML that is compiled into or stored as a `resx`-type resource within a trusted and signed assembly is not inherently untrusted.</span></span> <span data-ttu-id="f5d2c-107">Vous pouvez approuver le code XAML que vous faites confiance à l’assembly dans son ensemble.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-107">You can trust the XAML as much as you trust the assembly as a whole.</span></span> <span data-ttu-id="f5d2c-108">Dans la plupart des cas, vous ne sont concernés par les aspects d’approbation du XAML libre, qui est une source XAML que vous chargez à partir d’un flux de données ou autres e/s.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-108">In most cases, you are only concerned with the trust aspects of loose XAML, which is a XAML source that you load from a stream or other IO.</span></span> <span data-ttu-id="f5d2c-109">XAML libre n’est pas un composant spécifique ou une fonctionnalité d’un modèle d’application avec une infrastructure de l’empaquetage et le déploiement.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-109">Loose XAML is not a specific component or feature of an application model with a deployment and packaging infrastructure.</span></span> <span data-ttu-id="f5d2c-110">Toutefois, un assembly peut implémenter un comportement impliquant le chargement de XAML libre.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-110">However, an assembly might implement a behavior that involves loading loose XAML.</span></span>  
  
 <span data-ttu-id="f5d2c-111">Pour XAML non approuvé, vous devez le traiter généralement le même comme s’il s’agissait de code non fiable.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-111">For untrusted XAML, you should treat it generally the same as if it were untrusted code.</span></span> <span data-ttu-id="f5d2c-112">Utilisez le sandboxing ou autres métaphores pour empêcher des XAML non fiable d’accéder à votre code de confiance.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-112">Use sandboxing or other metaphors to prevent possibly untrusted XAML from accessing your trusted code.</span></span>  
  
 <span data-ttu-id="f5d2c-113">La nature des fonctions XAML permet le code XAML pour construire des objets et définir leurs propriétés.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-113">The nature of XAML capabilities gives the XAML the right to construct objects and set their properties.</span></span> <span data-ttu-id="f5d2c-114">Ces fonctions incluent également l’accès aux convertisseurs de type, le mappage et l’accès aux assemblys dans le domaine d’application, à l’aide des extensions de balisage, `x:Code` blocs et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-114">These capabilities also include accessing type converters, mapping and accessing assemblies in the application domain, using markup extensions, `x:Code` blocks, and so on.</span></span>  
  
 <span data-ttu-id="f5d2c-115">Outre ses fonctionnalités au niveau du langage, XAML est utilisé pour la définition de l’interface utilisateur dans de nombreuses technologies.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-115">In addition to its language-level capabilities, XAML is used for UI definition in many technologies.</span></span> <span data-ttu-id="f5d2c-116">Chargement de XAML non fiable peut signifier que le chargement d’une interface d’utilisateur d’usurpation de contenu malveillant.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-116">Loading untrusted XAML might mean loading a malicious spoofing UI.</span></span>  
  
## <a name="sharing-context-between-readers-and-writers"></a><span data-ttu-id="f5d2c-117">Partage du contexte entre les lecteurs et Writers</span><span class="sxs-lookup"><span data-stu-id="f5d2c-117">Sharing Context Between Readers and Writers</span></span>  
 <span data-ttu-id="f5d2c-118">L’architecture de Services XAML .NET Framework pour les lecteurs et writers XAML requiert souvent le partage d’un lecteur XAML et un writer XAML, ou un contexte de schéma XAML partagé.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-118">The .NET Framework XAML Services architecture for XAML readers and XAML writers often requires sharing a XAML reader to a XAML writer, or a shared XAML schema context.</span></span> <span data-ttu-id="f5d2c-119">Partage d’objets ou contextes peut être nécessaire si vous écrivez la logique de boucle de nœud XAML, ou en fournissant une personnalisée de chemin d’enregistrement.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-119">Sharing objects or contexts might be required if you are writing XAML node loop logic, or providing a custom save path.</span></span> <span data-ttu-id="f5d2c-120">Ne partagez pas les instances de lecteur XAML, le contexte de schéma XAML par défaut ou les paramètres pour les classes de lecteur/writer XAML entre le code et non approuvé.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-120">You should not share XAML reader instances, nondefault XAML schema context, or settings for XAML reader/writer classes between trusted and untrusted code.</span></span>  
  
 <span data-ttu-id="f5d2c-121">La plupart des scénarios et des opérations impliquant l’écriture d’un stockage basé sur CLR de type d’objet XAML peuvent simplement utiliser de contexte de schéma XAML par défaut.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-121">Most scenarios and operations involving XAML object writing for a CLR-based type backing can just use default XAML schema context.</span></span> <span data-ttu-id="f5d2c-122">Le contexte de schéma XAML par défaut n’inclut pas explicitement les paramètres qui pourraient compromettre la confiance totale.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-122">The default XAML schema context does not explicitly include settings that could compromise full trust.</span></span> <span data-ttu-id="f5d2c-123">Il est donc possible de partager le contexte entre les composants de lecteur/writer XAML approuvés et non approuvés.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-123">It is thus safe to share context between trusted and untrusted XAML reader/writer components.</span></span> <span data-ttu-id="f5d2c-124">Toutefois, si vous faites cela, il est toujours recommandé de conserver ces lecteurs et writers dans distinct <xref:System.AppDomain> étendues, avec un d’eux spécifiquement prévu/bac à sable pour la confiance partielle.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-124">However, if you do this, it is still a best practice to keep such readers and writers in separate <xref:System.AppDomain> scopes, with one of them specifically intended/sandboxed for partial trust.</span></span>  
  
## <a name="xaml-namespaces-and-assembly-trust"></a><span data-ttu-id="f5d2c-125">Espaces de noms XAML et l’approbation de l’Assembly</span><span class="sxs-lookup"><span data-stu-id="f5d2c-125">XAML Namespaces and Assembly Trust</span></span>  
 <span data-ttu-id="f5d2c-126">La syntaxe non qualifié de base et la définition de la façon dont XAML interprète un mappage d’espace de noms XAML personnalisé à un assembly ne fait pas la distinction entre un assembly approuvé et non approuvés chargés dans le domaine d’application.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-126">The basic unqualified syntax and definition for how XAML interprets a custom XAML namespace mapping to an assembly does not distinguish between a trusted and untrusted assembly as loaded into the application domain.</span></span> <span data-ttu-id="f5d2c-127">Par conséquent, il est techniquement possible pour un assembly non fiable d’usurper le mappage d’espace de noms XAML prévu d’un assembly de confiance et de capturer les objet déclaré d’une source XAML et les informations sur les propriétés.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-127">Thus, it is technically possible for an untrusted assembly to spoof a trusted assembly's intended XAML namespace mapping and capture a XAML source's declared object and property information.</span></span> <span data-ttu-id="f5d2c-128">Si vous avez des exigences de sécurité pour éviter cette situation, votre mappage d’espace de noms XAML souhaité doit être créée à l’aide d’une des techniques suivantes :</span><span class="sxs-lookup"><span data-stu-id="f5d2c-128">If you have security requirements to avoid this situation, your intended XAML namespace mapping should be made using one of the following techniques:</span></span>  
  
-   <span data-ttu-id="f5d2c-129">Utilisez un nom complet d’assembly avec nom fort dans tout mappage d’espace de noms XAML par le code XAML de votre application.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-129">Use a fully qualified assembly name with strong name in any XAML namespace mapping made by your application's XAML.</span></span>  
  
-   <span data-ttu-id="f5d2c-130">Limiter le mappage à un ensemble fixe d’assemblys de référence, en créant un spécifique de l’assembly <xref:System.Xaml.XamlSchemaContext> pour vos lecteurs XAML et les writers d’objet.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-130">Restrict assembly mapping to a fixed set of reference assemblies, by constructing a specific <xref:System.Xaml.XamlSchemaContext> for your XAML readers and XAML object writers.</span></span> <span data-ttu-id="f5d2c-131">Consultez <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-131">See <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.</span></span>  
  
## <a name="xaml-type-mapping-and-type-system-access"></a><span data-ttu-id="f5d2c-132">Mappage de Type XAML et l’accès au système de Type</span><span class="sxs-lookup"><span data-stu-id="f5d2c-132">XAML Type Mapping and Type System Access</span></span>  
 <span data-ttu-id="f5d2c-133">XAML prend en charge son propre système de type, qui est un homologue de la manière dont le CLR implémente le système de type CLR base de nombreuses manières.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-133">XAML supports its own type system, which in many ways is a peer to how CLR implements the basic CLR type system.</span></span> <span data-ttu-id="f5d2c-134">Toutefois, pour certains aspects de la reconnaissance de type dans lesquels vous prenez des décisions d’approbation sur un type en fonction de ses informations de type, vous devez vous référer aux informations de type dans le CLR, types de stockage.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-134">However, for certain aspects of type awareness where you are making trust decisions about a type based on its type information, you should defer to the type information in the CLR backing types.</span></span> <span data-ttu-id="f5d2c-135">Il s’agit, puisque les fonctions de rapport spécifiques du système de type XAML sont laissés ouverts en tant que méthodes virtuelles et ne sont donc pas entièrement sous le contrôle des implémentations de Services XAML .NET Framework d’origine.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-135">This is because some of the specific reporting capabilities of the XAML type system are left open as virtual methods and are therefore, not fully under the control of the original .NET Framework XAML Services implementations.</span></span> <span data-ttu-id="f5d2c-136">Ces points d’extensibilité existent car le système de type XAML est extensible, pour correspondre à l’extensibilité du langage XAML lui-même et ses stratégies de mappage de type alternatives possible par rapport à l’implémentation de CLR par défaut et le contexte de schéma XAML par défaut.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-136">These extensibility points exist because the XAML type system is extensible, to match the extensibility of XAML itself and its possible alternative type-mapping strategies versus the default CLR-backed implementation and default XAML schema context.</span></span> <span data-ttu-id="f5d2c-137">Pour plus d’informations, consultez les notes spécifiques sur les différentes propriétés de <xref:System.Xaml.XamlType> et <xref:System.Xaml.XamlMember>.</span><span class="sxs-lookup"><span data-stu-id="f5d2c-137">For more information, see the specific notes on several of the properties of <xref:System.Xaml.XamlType> and <xref:System.Xaml.XamlMember>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f5d2c-138">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="f5d2c-138">See Also</span></span>  
 <xref:System.Xaml.Permissions.XamlAccessLevel>
