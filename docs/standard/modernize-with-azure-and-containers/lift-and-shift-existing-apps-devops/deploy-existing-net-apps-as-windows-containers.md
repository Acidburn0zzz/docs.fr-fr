---
title: "Déployer des applications .NET existantes en tant que conteneurs Windows"
description: "Architecture de Microservices .NET pour les Applications .NET en conteneur | Déployer des applications .NET existantes en tant que conteneurs Windows"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 10/26/2017
ms.prod: .net
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: bab6e275c93d2cedddf010ab20f98cb8392fa9fa
ms.sourcegitcommit: d3cfda0943364aaf6ccd574f55f584576c8a4fee
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/08/2018
---
# <a name="deploy-existing-net-apps-as-windows-containers"></a><span data-ttu-id="9e709-103">Déployer des applications .NET existantes en tant que conteneurs Windows</span><span class="sxs-lookup"><span data-stu-id="9e709-103">Deploy existing .NET apps as Windows containers</span></span>

<span data-ttu-id="9e709-104">Déploiements basés sur les conteneurs Windows sont applicables aux optimisée pour le Cloud des applications, les applications cloud en mode natif et DevOps prête pour le Cloud.</span><span class="sxs-lookup"><span data-stu-id="9e709-104">Deployments that are based on Windows Containers are applicable to Cloud-Optimized applications, cloud-native applications, and Cloud DevOps-Ready applications.</span></span>

<span data-ttu-id="9e709-105">Dans ce guide et dans les sections suivantes est activé à l’aide de conteneurs Windows pour *DevOps prête pour le Cloud* applications, lorsque vous porter des applications de .NET existantes.</span><span class="sxs-lookup"><span data-stu-id="9e709-105">The focus in this guide and in the following sections is on using Windows Containers for *Cloud DevOps-Ready* applications, when you lift and shift existing .NET applications.</span></span>

## <a name="what-are-containers-linux-or-windows"></a><span data-ttu-id="9e709-106">Présentation des conteneurs</span><span class="sxs-lookup"><span data-stu-id="9e709-106">What are containers?</span></span> <span data-ttu-id="9e709-107">(Windows ou Linux)</span><span class="sxs-lookup"><span data-stu-id="9e709-107">(Linux or Windows)</span></span>

<span data-ttu-id="9e709-108">Les conteneurs sont un moyen d’encapsuler une application dans son propre package isolé.</span><span class="sxs-lookup"><span data-stu-id="9e709-108">Containers are a way to wrap up an application into its own isolated package.</span></span> <span data-ttu-id="9e709-109">Dans son conteneur, l’application n’est pas affectée par les applications ou les processus qui existent en dehors du conteneur.</span><span class="sxs-lookup"><span data-stu-id="9e709-109">In its container, the application is not affected by applications or processes that exist outside of the container.</span></span> <span data-ttu-id="9e709-110">Tout ce dont l’application varie à exécuter avec succès comme un processus est à l’intérieur du conteneur.</span><span class="sxs-lookup"><span data-stu-id="9e709-110">Everything the application depends on to run successfully as a process is inside the container.</span></span> <span data-ttu-id="9e709-111">Chaque fois que le conteneur peut déplacer, la configuration requise de l’application sera toujours être remplie, en termes de dépendances directes, car il est fourni avec tous les éléments qu’il doit s’exécuter (dépendances de bibliothèque de runtimes et ainsi de suite).</span><span class="sxs-lookup"><span data-stu-id="9e709-111">Wherever the container might move, the requirements of the application will always be met, in terms of direct dependencies, because it is bundled with everything that it needs to run (library dependencies, runtimes, and so on).</span></span>

<span data-ttu-id="9e709-112">La principale caractéristique d’un conteneur est qu’elle rend l’environnement le même dans des environnements différents, car le conteneur lui-même est fourni avec toutes les dépendances dont il a besoin.</span><span class="sxs-lookup"><span data-stu-id="9e709-112">The main characteristic of a container is that it makes the environment the same across different deployments because the container itself comes with all the dependencies it needs.</span></span> <span data-ttu-id="9e709-113">Cela signifie que vous pouvez déboguer l’application sur votre ordinateur et ensuite le déployer dans un autre ordinateur, avec le même environnement garanti.</span><span class="sxs-lookup"><span data-stu-id="9e709-113">This means that you can debug the application on your machine, and then deploy it to another machine, with the same environment guaranteed.</span></span>

<span data-ttu-id="9e709-114">Un conteneur est une instance d’une image de conteneur.</span><span class="sxs-lookup"><span data-stu-id="9e709-114">A container is an instance of a container image.</span></span> <span data-ttu-id="9e709-115">Une image de conteneur est un moyen d’empaqueter une application ou un service (par exemple, une capture instantanée), puis le déployer de manière fiable et reproductible.</span><span class="sxs-lookup"><span data-stu-id="9e709-115">A container image is a way to package an app or service (like a snapshot), and then deploy it in a reliable and reproducible way.</span></span> <span data-ttu-id="9e709-116">Vous pouvez dire que Docker n’est pas une technologie uniquement-it d’également une philosophie et un processus.</span><span class="sxs-lookup"><span data-stu-id="9e709-116">You could say that Docker is not only a technology-it's also a philosophy and a process.</span></span>

<span data-ttu-id="9e709-117">Comme tous les jours, les conteneurs deviennent plus courants, ils deviennent un secteur d’activité à l’échelle de « unité de déploiement ».</span><span class="sxs-lookup"><span data-stu-id="9e709-117">As containers daily become more common, they are becoming an industry-wide "unit of deployment."</span></span>

## <a name="benefits-of-containers-docker-engine-on-linux-or-windows"></a><span data-ttu-id="9e709-118">Avantages des conteneurs (moteur Docker sur Windows ou Linux)</span><span class="sxs-lookup"><span data-stu-id="9e709-118">Benefits of containers (Docker Engine on Linux or Windows)</span></span>

<span data-ttu-id="9e709-119">Création d’applications à l’aide de conteneurs et qui peut-être également être défini en tant que blocs de construction léger-offre une augmentation significative de souplesse pour la création, la copie et l’exécution de n’importe quelle application, sur n’importe quelle infrastructure.</span><span class="sxs-lookup"><span data-stu-id="9e709-119">Building applications by using containers-which also might be defined as lightweight building blocks-offers a significant increase in agility for building, shipping, and running any application, across any infrastructure.</span></span>

<span data-ttu-id="9e709-120">Avec des conteneurs, vous pouvez prendre n’importe quelle application de développement en production avec peu ou aucune modification de code, grâce à une intégration Docker sur le cloud, les systèmes d’exploitation et outils de développement Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9e709-120">With containers, you can take any app from development to production with little or no code change, thanks to Docker integration across Microsoft developer tools, operating systems, and cloud.</span></span>

<span data-ttu-id="9e709-121">Lorsque vous déployez sur les machines virtuelles ordinaires, vous disposez probablement déjà une méthode en place pour le déploiement d’applications ASP.NET sur vos machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="9e709-121">When you deploy to plain VMs, you probably already have a method in place for deploying ASP.NET apps to your VMs.</span></span> <span data-ttu-id="9e709-122">Cependant, il est probable que votre méthode implique plusieurs étapes manuelles ou automatisées des processus complexes à l’aide d’un outil de déploiement comme Puppet ou un outil similaire.</span><span class="sxs-lookup"><span data-stu-id="9e709-122">It's likely, though, that your method involves multiple manual steps or complex automated processes by using a deployment tool like Puppet, or a similar tool.</span></span> <span data-ttu-id="9e709-123">Vous devrez peut-être effectuer des tâches telles que la modification des éléments de configuration, copie le contenu de l’application entre les serveurs et l’exécution des programmes le programme d’installation interactif basés sur les installations .msi, suivies de test.</span><span class="sxs-lookup"><span data-stu-id="9e709-123">You might need to perform tasks like modifying configuration items, copying application content between servers, and running interactive setup programs based on .msi setups, followed by testing.</span></span> <span data-ttu-id="9e709-124">Toutes ces étapes dans le déploiement ajoutent des délais et les risques aux déploiements.</span><span class="sxs-lookup"><span data-stu-id="9e709-124">All those steps in the deployment add time and risk to deployments.</span></span> <span data-ttu-id="9e709-125">Vous obtiendrez des erreurs chaque fois qu’une dépendance n’est pas présente dans l’environnement cible.</span><span class="sxs-lookup"><span data-stu-id="9e709-125">You will get failures whenever a dependency is not present in the target environment.</span></span>

<span data-ttu-id="9e709-126">Dans les conteneurs Windows, le processus d’empaquetage d’applications est entièrement automatisé.</span><span class="sxs-lookup"><span data-stu-id="9e709-126">In Windows Containers, the process of packaging applications is fully automated.</span></span> <span data-ttu-id="9e709-127">Les conteneurs Windows est basée sur la plateforme Docker, qui offre des mises à jour automatiques et les restaurations pour les déploiements de conteneur.</span><span class="sxs-lookup"><span data-stu-id="9e709-127">Windows Containers is based on the Docker platform, which offers automatic updates and rollbacks for container deployments.</span></span> <span data-ttu-id="9e709-128">La principale amélioration que vous obtenez à partir de l’utilisation du moteur Docker est que vous créez des images, telles que des instantanés de votre application, avec toutes ses dépendances.</span><span class="sxs-lookup"><span data-stu-id="9e709-128">The main improvement you get from using the Docker engine is that you create images, which are like snapshots of your application, with all its dependencies.</span></span> <span data-ttu-id="9e709-129">Les images sont Docker images (images de conteneur Windows, dans ce cas).</span><span class="sxs-lookup"><span data-stu-id="9e709-129">The images are Docker images (a Windows container image, in this case).</span></span> <span data-ttu-id="9e709-130">Les images d’exécuter des applications ASP.NET dans des conteneurs, sans retourner au code source.</span><span class="sxs-lookup"><span data-stu-id="9e709-130">The images run ASP.NET apps in containers, without going back to source code.</span></span> <span data-ttu-id="9e709-131">L’instantané du conteneur devient l’unité de déploiement.</span><span class="sxs-lookup"><span data-stu-id="9e709-131">The container snapshot becomes the unit of deployment.</span></span>

<span data-ttu-id="9e709-132">Un grand nombre d’organisations est containerizing applications monolithiques existantes pour les raisons suivantes :</span><span class="sxs-lookup"><span data-stu-id="9e709-132">A large number of organizations are containerizing existing monolithic applications for the following reasons:</span></span>

-   <span data-ttu-id="9e709-133">**Agilité via l’optimisation du déploiement de la version**.</span><span class="sxs-lookup"><span data-stu-id="9e709-133">**Release agility through improved deployment**.</span></span> <span data-ttu-id="9e709-134">Les conteneurs présentent un contrat d’un déploiement cohérent entre le développement et les opérations.</span><span class="sxs-lookup"><span data-stu-id="9e709-134">Containers offer a consistent deployment contract between development and operations.</span></span> <span data-ttu-id="9e709-135">Lorsque vous utilisez des conteneurs, les développeurs ne sont pas entendu dire, « Il fonctionne sur mon ordinateur, pourquoi ne pas en production ? »</span><span class="sxs-lookup"><span data-stu-id="9e709-135">When you use containers, you won't hear developers say, "It works on my machine, why not in production?"</span></span> <span data-ttu-id="9e709-136">Ils peuvent simplement le dire, « Il s’exécute sous un conteneur, donc il s’exécutera en production. »</span><span class="sxs-lookup"><span data-stu-id="9e709-136">They can simply say, "It runs as a container, so it will run in production."</span></span> <span data-ttu-id="9e709-137">L’application empaquetée, avec toutes ses dépendances, peut être exécutée dans n’importe quel environnement conteneur pris en charge.</span><span class="sxs-lookup"><span data-stu-id="9e709-137">The packaged application, with all its dependencies, can be executed in any supported container-based environment.</span></span> <span data-ttu-id="9e709-138">Il s’exécutera la manière qu’il a été conçu pour s’exécuter dans toutes les cibles de déploiement (développement, assurance qualité, de mise en lots, production).</span><span class="sxs-lookup"><span data-stu-id="9e709-138">It will run the way it was intended to run in all deployment targets (dev, QA, staging, production).</span></span> <span data-ttu-id="9e709-139">Conteneurs éliminer la plupart des frictions lorsqu’ils passent d’une étape à l’autre, ce qui améliore considérablement le déploiement, et vous pouvez expédier plus rapidement.</span><span class="sxs-lookup"><span data-stu-id="9e709-139">Containers eliminate most frictions when they move from one stage to the next, which greatly improves deployment, and you can ship faster.</span></span>

-   <span data-ttu-id="9e709-140">**Réduction des coûts**.</span><span class="sxs-lookup"><span data-stu-id="9e709-140">**Cost reductions**.</span></span> <span data-ttu-id="9e709-141">Conteneurs de contribuer à réduire les coûts, soit par la consolidation et la suppression du matériel existant, ou d’exécuter des applications à une densité plus élevée par unité du matériel.</span><span class="sxs-lookup"><span data-stu-id="9e709-141">Containers lead to lower costs, either by the consolidation and removal of existing hardware, or from running applications at a higher density per unit of hardware.</span></span>

-   <span data-ttu-id="9e709-142">**Portabilité**.</span><span class="sxs-lookup"><span data-stu-id="9e709-142">**Portability**.</span></span> <span data-ttu-id="9e709-143">Les conteneurs sont portables et modulaire.</span><span class="sxs-lookup"><span data-stu-id="9e709-143">Containers are modular and portable.</span></span> <span data-ttu-id="9e709-144">Conteneurs docker sont pris en charge sur tout système d’exploitation server (Linux et Windows), dans n’importe quel cloud public principaux (Microsoft Azure, Amazon AWS, Google, IBM) et en local et privé ou les environnements de cloud hybride.</span><span class="sxs-lookup"><span data-stu-id="9e709-144">Docker containers are supported on any server operating system (Linux and Windows), in any major public cloud (Microsoft Azure, Amazon AWS, Google, IBM), and in on-premises and private or hybrid cloud environments.</span></span>

-   <span data-ttu-id="9e709-145">**Contrôle**.</span><span class="sxs-lookup"><span data-stu-id="9e709-145">**Control**.</span></span> <span data-ttu-id="9e709-146">Les conteneurs offrent un environnement flexible et sécurisé qui est contrôlé au niveau du conteneur.</span><span class="sxs-lookup"><span data-stu-id="9e709-146">Containers offer a flexible and secure environment that's controlled at the container level.</span></span> <span data-ttu-id="9e709-147">Un conteneur peut être sécurisé, isolé et même limité en définissant des stratégies de contrainte d’exécution sur le conteneur.</span><span class="sxs-lookup"><span data-stu-id="9e709-147">A container can be secured, isolated, and even limited by setting execution constraint policies on the container.</span></span> <span data-ttu-id="9e709-148">Comme indiqué dans la section sur les conteneurs Windows, les conteneurs Windows Server 2016 et Hyper-V offrent des options de prise en charge d’entreprise supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="9e709-148">As detailed in the section about Windows Containers, Windows Server 2016 and Hyper-V containers offer additional enterprise support options.</span></span>

<span data-ttu-id="9e709-149">Des améliorations significatives dans l’agilité, la portabilité et le contrôle finalement conduire les réductions des coûts importants lorsque vous utilisez des conteneurs pour développer et maintenir des applications.</span><span class="sxs-lookup"><span data-stu-id="9e709-149">Significant improvements in agility, portability, and control ultimately lead to significant cost reductions when you use containers to develop and maintain applications.</span></span>

## <a name="what-is-docker"></a><span data-ttu-id="9e709-150">Présentation de Docker</span><span class="sxs-lookup"><span data-stu-id="9e709-150">What is Docker?</span></span>

<span data-ttu-id="9e709-151">[Docker](https://www.docker.com/) est un [projet open source](https://github.com/docker/docker) qui automatise le déploiement d’applications en tant que conteneurs portables, autonomes qui peuvent s’exécuter dans le nuage ou sur site.</span><span class="sxs-lookup"><span data-stu-id="9e709-151">[Docker](https://www.docker.com/) is an [open-source project](https://github.com/docker/docker) that automates the deployment of applications as portable, self-sufficient containers that can run in the cloud or on-premises.</span></span> <span data-ttu-id="9e709-152">Docker est également un [société](https://www.docker.com/) qui promeut et évolue cette technologie.</span><span class="sxs-lookup"><span data-stu-id="9e709-152">Docker also is a [company](https://www.docker.com/) that promotes and evolves this technology.</span></span> <span data-ttu-id="9e709-153">La société fonctionne en collaboration avec le cloud, Linux et les fournisseurs de Windows, notamment Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9e709-153">The company works in collaboration with cloud, Linux, and Windows vendors, including Microsoft.</span></span>

![](./media/image6.png)

> <span data-ttu-id="9e709-154">**Figure 4-6.**</span><span class="sxs-lookup"><span data-stu-id="9e709-154">**Figure 4-6.**</span></span> <span data-ttu-id="9e709-155">Docker déploie des conteneurs dans toutes les couches du cloud hybride</span><span class="sxs-lookup"><span data-stu-id="9e709-155">Docker deploys containers at all layers of the hybrid cloud</span></span>

<span data-ttu-id="9e709-156">À une personne familiarisé avec les machines virtuelles, les conteneurs peuvent sembler très similaire.</span><span class="sxs-lookup"><span data-stu-id="9e709-156">To someone familiar with virtual machines, containers might appear to be remarkably similar.</span></span> <span data-ttu-id="9e709-157">Un conteneur exécute un système d’exploitation, a un système de fichiers et sont accessibles via un réseau, tout comme un système d’ordinateur physique ou virtuel.</span><span class="sxs-lookup"><span data-stu-id="9e709-157">A container runs an operating system, has a file system, and can be accessed over a network, just like a physical or virtual computer system.</span></span> <span data-ttu-id="9e709-158">Toutefois, la technologie et les concepts derrière les conteneurs sont très différents des machines virtuelles.</span><span class="sxs-lookup"><span data-stu-id="9e709-158">However, the technology and concepts behind containers are vastly different from virtual machines.</span></span> <span data-ttu-id="9e709-159">À partir du point de vue du développeur, un conteneur doit être traité plus comme un processus unique.</span><span class="sxs-lookup"><span data-stu-id="9e709-159">From a developer point of view, a container must be treated more like a single process.</span></span> <span data-ttu-id="9e709-160">En fait, un conteneur possède un point d’entrée unique pour un processus.</span><span class="sxs-lookup"><span data-stu-id="9e709-160">In fact, a container has a single entry point for one process.</span></span>

<span data-ttu-id="9e709-161">Conteneurs docker (par souci de simplicité, *conteneurs*) pouvant être exécutées en mode natif Linux et Windows.</span><span class="sxs-lookup"><span data-stu-id="9e709-161">Docker containers (for simplicity, *containers*) can run natively on Linux and Windows.</span></span> <span data-ttu-id="9e709-162">Lors de l’exécution régulières conteneurs, les conteneurs Windows peuvent s’exécuter uniquement sur les hôtes de Windows (un serveur hôte ou une machine virtuelle), et les conteneurs Linux peuvent s’exécuter uniquement sur les hôtes Linux.</span><span class="sxs-lookup"><span data-stu-id="9e709-162">When running regular containers, Windows containers can run only on Windows hosts (a host server or a VM), and Linux containers can run only on Linux hosts.</span></span> <span data-ttu-id="9e709-163">Toutefois, dans les versions récentes de conteneurs Windows Server et Hyper-V, un conteneur Linux également peut s’exécuter en mode natif sur Windows Server à l’aide de la technologie Hyper-V d’isolement qui n’est actuellement disponible uniquement dans les conteneurs Windows Server.</span><span class="sxs-lookup"><span data-stu-id="9e709-163">However, in recent versions of Windows Server and Hyper-V containers, a Linux container also can run natively on Windows Server by using the Hyper-V isolation technology that currently is available only in Windows Server Containers.</span></span>

<span data-ttu-id="9e709-164">Dans un futur proche, des environnements mixtes qui ont des conteneurs Linux et Windows sera possible et même courantes.</span><span class="sxs-lookup"><span data-stu-id="9e709-164">In the near future, mixed environments that have both Linux and Windows containers will be possible and even common.</span></span>

## <a name="benefits-of-windows-containers-for-your-existing-net-applications"></a><span data-ttu-id="9e709-165">Avantages des conteneurs Windows pour vos applications .NET existants</span><span class="sxs-lookup"><span data-stu-id="9e709-165">Benefits of Windows Containers for your existing .NET applications</span></span>

<span data-ttu-id="9e709-166">Les avantages de l’utilisation de conteneurs Windows sont essentiellement les mêmes avantages que vous obtenez à partir des conteneurs en général.</span><span class="sxs-lookup"><span data-stu-id="9e709-166">The benefits of using Windows Containers are fundamentally the same benefits you get from containers in general.</span></span> <span data-ttu-id="9e709-167">L’utilisation de conteneurs Windows est sur ce qui améliore considérablement la portabilité, flexibilité et le contrôle.</span><span class="sxs-lookup"><span data-stu-id="9e709-167">Using Windows Containers is about greatly improving agility, portability, and control.</span></span>

<span data-ttu-id="9e709-168">Lorsque nous parlons des applications .NET existantes, nous entendons principalement les applications traditionnelles qui ont été créées à l’aide de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9e709-168">When we talk about existing .NET applications, we mostly mean traditional applications that were created by using the .NET Framework.</span></span> <span data-ttu-id="9e709-169">Par exemple, elles peuvent être des applications web ASP.NET traditionnelles-ils n’utilisent pas .NET Core, qui est plus récente et s’exécute inter-plateformes sur Linux, Windows et MacOS.</span><span class="sxs-lookup"><span data-stu-id="9e709-169">For example, they might be traditional ASP.NET web applications-they don't use .NET Core, which is newer and runs cross-platform on Linux, Windows, and MacOS.</span></span>

<span data-ttu-id="9e709-170">La dépendance principale dans le .NET Framework est Windows.</span><span class="sxs-lookup"><span data-stu-id="9e709-170">The main dependency in the .NET Framework is Windows.</span></span> <span data-ttu-id="9e709-171">Elle contient également des dépendances secondaire, comme IIS et System.Web dans ASP.NET traditionnel.</span><span class="sxs-lookup"><span data-stu-id="9e709-171">It also has secondary dependencies, like IIS, and System.Web in traditional ASP.NET.</span></span>

<span data-ttu-id="9e709-172">Une application .NET Framework doit exécuter sur Windows, de la période.</span><span class="sxs-lookup"><span data-stu-id="9e709-172">A .NET Framework application must run on Windows, period.</span></span> <span data-ttu-id="9e709-173">Si vous souhaitez mettez en conteneur d’applications .NET Framework existantes et vous ne pouvez pas ou ne souhaitez pas investir dans une migration vers .NET Core ( » si elle fonctionne correctement, ne pas migrer »), le seul choix que vous avez des conteneurs est d’utiliser des conteneurs Windows.</span><span class="sxs-lookup"><span data-stu-id="9e709-173">If you want to containerize existing .NET Framework applications and you can't or don't want to invest in a migration to .NET Core ("If it works properly, don't migrate it"), the only choice you have for containers is to use Windows Containers.</span></span>

<span data-ttu-id="9e709-174">Par conséquent, un des principaux avantages des conteneurs Windows est qu’ils vous offrent un moyen de moderniser vos applications .NET Framework existantes qui sont exécutent sur Windows via CONTENEURISATION des données.</span><span class="sxs-lookup"><span data-stu-id="9e709-174">So, one of the main benefits of Windows Containers is that they offer you a way to modernize your existing .NET Framework applications that are running on Windows-through containerization.</span></span> <span data-ttu-id="9e709-175">Enfin, les conteneurs Windows Obtient les avantages que vous cherchez à l’aide de la souplesse de conteneurs, la portabilité et un meilleur contrôle.</span><span class="sxs-lookup"><span data-stu-id="9e709-175">Ultimately, Windows Containers gets you the benefits that you are looking for by using containers-agility, portability, and better control.</span></span>

## <a name="choose-an-os-to-target-with-net-based-containers"></a><span data-ttu-id="9e709-176">Choisissez un système d’exploitation à cibler avec. Conteneurs NET</span><span class="sxs-lookup"><span data-stu-id="9e709-176">Choose an OS to target with .NET-based containers</span></span>

<span data-ttu-id="9e709-177">Étant donné la diversité des systèmes d’exploitation pris en charge par Docker, ainsi que les différences entre .NET Framework et .NET Core, vous devez cibler un système d’exploitation spécifique et en fonction de l’infrastructure que vous utilisez des versions spécifiques.</span><span class="sxs-lookup"><span data-stu-id="9e709-177">Given the diversity of operating systems that are supported by Docker, as well as the differences between .NET Framework and .NET Core, you should target a specific OS and specific versions based on the framework you are using.</span></span>

<span data-ttu-id="9e709-178">Pour Windows, vous pouvez utiliser Windows Server Core ou Windows Nano Server.</span><span class="sxs-lookup"><span data-stu-id="9e709-178">For Windows, you can use Windows Server Core or Windows Nano Server.</span></span> <span data-ttu-id="9e709-179">Ces versions de Windows fournissent des caractéristiques différentes (comme IIS par rapport à un serveur web auto-hébergé comme Kestrel) qui peuvent être nécessaires aux applications .NET Framework ou .NET Core.</span><span class="sxs-lookup"><span data-stu-id="9e709-179">These Windows versions provide different characteristics (like IIS versus a self-hosted web server like Kestrel) that might be needed by .NET Framework or .NET Core applications.</span></span>

<span data-ttu-id="9e709-180">Pour Linux, plusieurs distributions sont disponibles et prises en charge dans les images .NET Docker officielles (comme Debian).</span><span class="sxs-lookup"><span data-stu-id="9e709-180">For Linux, multiple distros are available and supported in official .NET Docker images (like Debian).</span></span>

<span data-ttu-id="9e709-181">Figure 4-7 indique les versions du système d’exploitation que vous pouvez cibler, selon la version de l’application du .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9e709-181">Figure 4-7 shows OS versions that you can target, depending on the app's version of the .NET Framework.</span></span>

![](./media/image7.png)

> <span data-ttu-id="9e709-182">**Figure 4-7.**</span><span class="sxs-lookup"><span data-stu-id="9e709-182">**Figure 4-7.**</span></span> <span data-ttu-id="9e709-183">Systèmes d’exploitation à la cible en fonction de la version du .NET Framework</span><span class="sxs-lookup"><span data-stu-id="9e709-183">Operating systems to target based on .NET Framework version</span></span>

<span data-ttu-id="9e709-184">Dans les scénarios de migration pour les applications existantes ou héritées qui reposent sur des applications .NET Framework, les dépendances principales sont sur Windows et IIS.</span><span class="sxs-lookup"><span data-stu-id="9e709-184">In migration scenarios for existing or legacy applications that are based on .NET Framework applications, the main dependencies are on Windows and IIS.</span></span> <span data-ttu-id="9e709-185">La seule option consiste à utiliser des images de Docker basées sur Windows Server Core et le .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="9e709-185">Your only option is to use Docker images based on Windows Server Core and the .NET Framework.</span></span>

<span data-ttu-id="9e709-186">Lorsque vous ajoutez le nom de l’image à votre fichier Dockerfile, vous pouvez sélectionner le système d’exploitation et la version à l’aide d’une balise, comme dans les exemples suivants pour les images de conteneur Windows basé sur le .NET Framework :</span><span class="sxs-lookup"><span data-stu-id="9e709-186">When you add the image name to your Dockerfile file, you can select the operating system and version by using a tag, as in the following examples for .NET Framework-based Windows container images:</span></span>

> | <span data-ttu-id="9e709-187">**Tag**</span><span class="sxs-lookup"><span data-stu-id="9e709-187">**Tag**</span></span> | <span data-ttu-id="9e709-188">**Version du système et**</span><span class="sxs-lookup"><span data-stu-id="9e709-188">**System and version**</span></span> |
> |---|---|
> | <span data-ttu-id="9e709-189">**microsoft/dotnet-framework:4.x-windowsservercore**</span><span class="sxs-lookup"><span data-stu-id="9e709-189">**microsoft/dotnet-framework:4.x-windowsservercore**</span></span> | <span data-ttu-id="9e709-190">.NET framework 4.x sur Windows Server Core</span><span class="sxs-lookup"><span data-stu-id="9e709-190">.NET Framework 4.x on Windows Server Core</span></span> |
> | <span data-ttu-id="9e709-191">**microsoft/aspnet:4.x-windowsservercore**</span><span class="sxs-lookup"><span data-stu-id="9e709-191">**microsoft/aspnet:4.x-windowsservercore**</span></span> | <span data-ttu-id="9e709-192">.NET framework 4.x avec une personnalisation supplémentaire ASP.NET, sur Windows Server Core</span><span class="sxs-lookup"><span data-stu-id="9e709-192">.NET Framework 4.x with additional ASP.NET customization, on Windows Server Core</span></span> |

<span data-ttu-id="9e709-193">Pour .NET Core (multiplateforme pour Linux et Windows), les balises ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="9e709-193">For .NET Core (cross-platform for Linux and Windows), the tags would look like this:</span></span>

> | <span data-ttu-id="9e709-194">**Tag**</span><span class="sxs-lookup"><span data-stu-id="9e709-194">**Tag**</span></span> | <span data-ttu-id="9e709-195">**Version du système et**</span><span class="sxs-lookup"><span data-stu-id="9e709-195">**System and version**</span></span>
> |---|---|
> | <span data-ttu-id="9e709-196">**microsoft/dotnet:2.0.0-runtime**</span><span class="sxs-lookup"><span data-stu-id="9e709-196">**microsoft/dotnet:2.0.0-runtime**</span></span> | <span data-ttu-id="9e709-197">.NET core 2.0 runtime uniquement sur Linux</span><span class="sxs-lookup"><span data-stu-id="9e709-197">.NET Core 2.0 runtime-only on Linux</span></span> |
> | <span data-ttu-id="9e709-198">**microsoft/dotnet:2.0.0-runtime-nanoserver**</span><span class="sxs-lookup"><span data-stu-id="9e709-198">**microsoft/dotnet:2.0.0-runtime-nanoserver**</span></span> | <span data-ttu-id="9e709-199">.NET core 2.0 runtime uniquement sur Windows Nano Server</span><span class="sxs-lookup"><span data-stu-id="9e709-199">.NET Core 2.0 runtime-only on Windows Nano Server</span></span> |

### <a name="multi-arch-images"></a><span data-ttu-id="9e709-200">Images arch multiples</span><span class="sxs-lookup"><span data-stu-id="9e709-200">Multi-arch images</span></span>

<span data-ttu-id="9e709-201">À compter de mid 2017, vous pouvez également utiliser une nouvelle fonctionnalité dans Docker appelé [arch multi](https://github.com/moby/moby/issues/15866) images.</span><span class="sxs-lookup"><span data-stu-id="9e709-201">Beginning in mid-2017, you also can use a new feature in Docker called [multi-arch](https://github.com/moby/moby/issues/15866) images.</span></span> <span data-ttu-id="9e709-202">.NET core Docker images peuvent utiliser arch plusieurs balises.</span><span class="sxs-lookup"><span data-stu-id="9e709-202">.NET Core Docker images can use multi-arch tags.</span></span> <span data-ttu-id="9e709-203">Votre fichier Dockerfile des fichiers n’est plus nécessaire de définir le système d’exploitation que vous ciblez.</span><span class="sxs-lookup"><span data-stu-id="9e709-203">Your Dockerfile files no longer need to define the operating system that you are targeting.</span></span> <span data-ttu-id="9e709-204">La fonctionnalité multi-ARCHE permet une balise unique être utilisé dans plusieurs configurations d’ordinateur.</span><span class="sxs-lookup"><span data-stu-id="9e709-204">The multi-arch feature allows a single tag to be used across multiple machine configurations.</span></span> <span data-ttu-id="9e709-205">Par exemple, avec arch multiples, vous pouvez utiliser une étiquette commune : **microsoft/dotnet:2.0.0-runtime**.</span><span class="sxs-lookup"><span data-stu-id="9e709-205">For instance, with multi-arch, you can use one common tag: **microsoft/dotnet:2.0.0-runtime**.</span></span> <span data-ttu-id="9e709-206">Si vous extrayez cette balise à partir d’un environnement de conteneur de Linux, vous obtenez l’image de Debian.</span><span class="sxs-lookup"><span data-stu-id="9e709-206">If you pull that tag from a Linux container environment, you get the Debian-based image.</span></span> <span data-ttu-id="9e709-207">Si vous extrayez cette balise à partir d’un environnement de conteneur Windows, vous obtenez l’image Nano Server.</span><span class="sxs-lookup"><span data-stu-id="9e709-207">If you pull that tag from a Windows container environment, you get the Nano Server-based image.</span></span>

<span data-ttu-id="9e709-208">Pour les images de .NET Framework, traditionnel .NET Framework prend en charge uniquement Windows, vous ne pouvez pas utiliser la fonctionnalité ARCHE multiples.</span><span class="sxs-lookup"><span data-stu-id="9e709-208">For .NET Framework images, because the traditional .NET Framework supports only Windows, you cannot use the multi-arch feature.</span></span>

## <a name="windows-container-types"></a><span data-ttu-id="9e709-209">Types de conteneurs Windows</span><span class="sxs-lookup"><span data-stu-id="9e709-209">Windows container types</span></span>

<span data-ttu-id="9e709-210">Comme les conteneurs Linux, conteneurs Windows Server sont gérés à l’aide du moteur Docker.</span><span class="sxs-lookup"><span data-stu-id="9e709-210">Like Linux containers, Windows Server containers are managed by using Docker Engine.</span></span> <span data-ttu-id="9e709-211">Contrairement aux conteneurs de Linux, les conteneurs Windows incluent deux types de conteneurs différents, ou exécutent des conteneurs fois-Windows Server et le niveau d’isolement d’Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="9e709-211">Unlike Linux containers, Windows containers include two different container types, or run times-Windows Server containers and Hyper-V isolation.</span></span>

<span data-ttu-id="9e709-212">**Conteneurs Windows Server**: fournit l’isolation des applications via une technologie d’isolation des processus et l’espace de noms.</span><span class="sxs-lookup"><span data-stu-id="9e709-212">**Windows Server containers**: Provides application isolation through process and namespace isolation technology.</span></span> <span data-ttu-id="9e709-213">Un conteneur Windows Server partage un noyau avec l’hôte de conteneur et tous les conteneurs qui sont en cours d’exécution sur l’ordinateur hôte.</span><span class="sxs-lookup"><span data-stu-id="9e709-213">A Windows Server container shares a kernel with the container host and all containers that are running on the host.</span></span> <span data-ttu-id="9e709-214">Ces conteneurs ne fournissent pas une limite de sécurité hostile et ne doivent pas servir à isoler le code non fiable.</span><span class="sxs-lookup"><span data-stu-id="9e709-214">These containers do not provide a hostile security boundary and should not be used to isolate untrusted code.</span></span> <span data-ttu-id="9e709-215">En raison de l’espace de noyau partagé, ces conteneurs nécessitent la même version de noyau et de la configuration.</span><span class="sxs-lookup"><span data-stu-id="9e709-215">Because of the shared kernel space, these containers require the same kernel version and configuration.</span></span>

<span data-ttu-id="9e709-216">**Niveau d’isolement d’Hyper-V**: développe l’isolation fournie par les conteneurs Windows Server en exécutant chaque conteneur sur une machine virtuelle hautement optimisée.</span><span class="sxs-lookup"><span data-stu-id="9e709-216">**Hyper-V isolation**: Expands on the isolation provided by Windows Server Containers by running each container on a highly optimized VM.</span></span> <span data-ttu-id="9e709-217">Dans cette configuration, le noyau de l’hôte de conteneur n’est pas partagé avec d’autres conteneurs sur le même hôte.</span><span class="sxs-lookup"><span data-stu-id="9e709-217">In this configuration, the kernel of the container host is not shared with other containers on the same host.</span></span> <span data-ttu-id="9e709-218">Ces conteneurs sont conçus pour hostile mutualisées d’hébergement, avec les mêmes garanties de sécurité d’une machine virtuelle.</span><span class="sxs-lookup"><span data-stu-id="9e709-218">These containers are designed for hostile multitenant hosting, with the same security assurances of a VM.</span></span> <span data-ttu-id="9e709-219">Étant donné que ces conteneurs ne partagent le noyau avec l’ordinateur hôte ou d’autres conteneurs sur l’ordinateur hôte, ils peuvent exécuter noyaux avec différentes versions et les configurations (avec les versions prises en charge).</span><span class="sxs-lookup"><span data-stu-id="9e709-219">Because these containers don't share the kernel with the host or other containers on the host, they can run kernels with different versions and configurations (with supported versions).</span></span> <span data-ttu-id="9e709-220">Par exemple, tous les conteneurs Windows sur Windows 10 permet d’isolation de Hyper-V utilisent la version du noyau de Windows Server et la configuration.</span><span class="sxs-lookup"><span data-stu-id="9e709-220">For example, all Windows containers on Windows 10 use Hyper-V isolation to utilize the Windows Server kernel version and configuration.</span></span>

<span data-ttu-id="9e709-221">Exécute un conteneur sous Windows, avec ou sans isolement de Hyper-V est une décision de l’exécution.</span><span class="sxs-lookup"><span data-stu-id="9e709-221">Running a container on Windows with or without Hyper-V isolation is a run-time decision.</span></span> <span data-ttu-id="9e709-222">Vous pouvez choisir de créer le conteneur avec l’isolation de Hyper-V initialement et en cours d’exécution, choisissez pour l’exécuter comme un conteneur Windows Server.</span><span class="sxs-lookup"><span data-stu-id="9e709-222">You might choose to create the container with Hyper-V isolation initially, and at run time, choose to run it as a Windows Server container instead.</span></span>

### <a name="additional-resources"></a><span data-ttu-id="9e709-223">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="9e709-223">Additional resources</span></span>

-   <span data-ttu-id="9e709-224">**Documentation sur les conteneurs de Windows**</span><span class="sxs-lookup"><span data-stu-id="9e709-224">**Windows Containers documentation**</span></span>

    [<span data-ttu-id="9e709-225">https://docs.microsoft.com/virtualization/windowscontainers/</span><span class="sxs-lookup"><span data-stu-id="9e709-225">https://docs.microsoft.com/virtualization/windowscontainers/</span></span>](https://docs.microsoft.com/virtualization/windowscontainers/)

-   <span data-ttu-id="9e709-226">**Principes de base des conteneurs Windows**</span><span class="sxs-lookup"><span data-stu-id="9e709-226">**Windows Containers fundamentals**</span></span>

    [<span data-ttu-id="9e709-227">https://docs.microsoft.com/virtualization/windowscontainers/about/</span><span class="sxs-lookup"><span data-stu-id="9e709-227">https://docs.microsoft.com/virtualization/windowscontainers/about/</span></span>](https://docs.microsoft.com/virtualization/windowscontainers/about/)

-   <span data-ttu-id="9e709-228">**Graphisme d’information : Microsoft et les conteneurs**</span><span class="sxs-lookup"><span data-stu-id="9e709-228">**Infographic: Microsoft and containers**</span></span>

    [<span data-ttu-id="9e709-229">https://info.microsoft.com/rs/157-GQE-382/images/Container%20infographic%201.4.17.pdf</span><span class="sxs-lookup"><span data-stu-id="9e709-229">https://info.microsoft.com/rs/157-GQE-382/images/Container%20infographic%201.4.17.pdf</span></span>](https://info.microsoft.com/rs/157-GQE-382/images/Container%20infographic%201.4.17.pdf)

>[!div class="step-by-step"]
<span data-ttu-id="9e709-230">[Précédent](how-to-deploy-existing-net-apps-to-azure-app-service.md)
[Suivant](when-not-to-deploy-to-windows-containers.md)</span><span class="sxs-lookup"><span data-stu-id="9e709-230">[Previous](how-to-deploy-existing-net-apps-to-azure-app-service.md)
[Next](when-not-to-deploy-to-windows-containers.md)</span></span>
