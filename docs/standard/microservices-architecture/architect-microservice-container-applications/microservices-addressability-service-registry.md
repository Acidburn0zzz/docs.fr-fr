---
title: "Microservices adressabilité et le Registre de service"
description: "Architecture de Microservices .NET pour les Applications .NET en conteneur | Microservices adressabilité et le Registre de service"
keywords: Docker, microservices, ASP.NET, conteneur
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.openlocfilehash: 19a0200dadfb90a455de690d880f4eeae4772ed7
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/18/2017
---
# <a name="microservices-addressability-and-the-service-registry"></a><span data-ttu-id="6f9dc-104">Microservices adressabilité et le Registre de service</span><span class="sxs-lookup"><span data-stu-id="6f9dc-104">Microservices addressability and the service registry</span></span>

<span data-ttu-id="6f9dc-105">Chaque microservice possède un nom unique (URL) qui est utilisé pour résoudre son emplacement.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-105">Each microservice has a unique name (URL) that is used to resolve its location.</span></span> <span data-ttu-id="6f9dc-106">Votre microservice doit être adressable partout où il est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-106">Your microservice needs to be addressable wherever it is running.</span></span> <span data-ttu-id="6f9dc-107">Si vous devez penser à propos de l’ordinateur sur lequel s’exécute un microservice particulier, choses peuvent devenir rapidement.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-107">If you have to think about which computer is running a particular microservice, things can go bad quickly.</span></span> <span data-ttu-id="6f9dc-108">De la même façon que le DNS résout une URL vers un ordinateur spécifique, votre microservice doit avoir un nom unique afin que son emplacement actuel est détectable.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-108">In the same way that DNS resolves a URL to a particular computer, your microservice needs to have a unique name so that its current location is discoverable.</span></span> <span data-ttu-id="6f9dc-109">Microservices nécessitent un nom adressable qui les rendre indépendantes de l’infrastructure qui s’exécutent sur.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-109">Microservices need addressable names that make them independent from the infrastructure that they are running on.</span></span> <span data-ttu-id="6f9dc-110">Cela implique qu’il existe une interaction entre la façon dont votre service est déployé et comment il est découvert, car il doit exister un [Registre du service](http://microservices.io/patterns/service-registry.html).</span><span class="sxs-lookup"><span data-stu-id="6f9dc-110">This implies that there is an interaction between how your service is deployed and how it is discovered, because there needs to be a [service registry](http://microservices.io/patterns/service-registry.html).</span></span> <span data-ttu-id="6f9dc-111">De la même façon, lorsqu’un ordinateur tombe en panne, le service de Registre doit être en mesure d’indiquer où le service est en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-111">In the same vein, when a computer fails, the registry service must be able to indicate where the service is now running.</span></span>

<span data-ttu-id="6f9dc-112">Le [modèle de service du Registre](http://microservices.io/patterns/service-registry.html) est une partie essentielle de découverte de service.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-112">The [service registry pattern](http://microservices.io/patterns/service-registry.html) is a key part of service discovery.</span></span> <span data-ttu-id="6f9dc-113">Le Registre est une base de données qui contient les emplacements réseau des instances de service.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-113">The registry is a database containing the network locations of service instances.</span></span> <span data-ttu-id="6f9dc-114">Un Registre de service doit être hautement disponible et à jour.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-114">A service registry needs to be highly available and up to date.</span></span> <span data-ttu-id="6f9dc-115">Les clients peut mettre en cache les emplacements réseau obtenus à partir du Registre de service.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-115">Clients could cache network locations obtained from the service registry.</span></span> <span data-ttu-id="6f9dc-116">Toutefois, ces informations vont finalement obsolètes et les clients ne peuvent plus détecter les instances de service.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-116">However, that information eventually goes out of date and clients can no longer discover service instances.</span></span> <span data-ttu-id="6f9dc-117">Par conséquent, un Registre de service se compose d’un cluster de serveurs qui utilisent un protocole de réplication pour maintenir la cohérence.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-117">Consequently, a service registry consists of a cluster of servers that use a replication protocol to maintain consistency.</span></span>

<span data-ttu-id="6f9dc-118">Dans certains environnements de déploiement de microservice (appelés clusters, pour être traitées dans une section ultérieure), découverte de service est intégrée.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-118">In some microservice deployment environments (called clusters, to be covered in a later section), service discovery is built-in.</span></span> <span data-ttu-id="6f9dc-119">Par exemple, dans un environnement de Service de conteneur Azure, Kubernetes et le contrôleur de domaine/système d’exploitation avec Marathon peuvent gérer l’enregistrement d’instance de service et la désinscription.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-119">For example, within an Azure Container Service environment, Kubernetes and DC/OS with Marathon can handle service instance registration and deregistration.</span></span> <span data-ttu-id="6f9dc-120">Elles sont également exécutées un proxy sur chaque hôte de cluster qui joue le rôle de routeur de découverte côté serveur.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-120">They also run a proxy on each cluster host that plays the role of server-side discovery router.</span></span> <span data-ttu-id="6f9dc-121">Un autre exemple est Azure Service Fabric, qui fournit également un Registre de service via son Service d’affectation de noms de l’emploi.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-121">Another example is Azure Service Fabric, which also provides a service registry through its out-of-the-box Naming Service.</span></span>

<span data-ttu-id="6f9dc-122">Notez qu’il existe certain chevauchement entre le Registre de service et le modèle de passerelle API, qui vous aide à résoudre ce problème.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-122">Note that there is certain overlap between the service registry and the API gateway pattern, which helps solve this problem as well.</span></span> <span data-ttu-id="6f9dc-123">Par exemple, le [Service Fabric Reverse Proxy](https://docs.microsoft.com/azure/service-fabric/service-fabric-reverseproxy) est un type d’implémentation d’une passerelle API qui est basé sur le Service d’affectation de noms de Service Fabrice et qui permet de résoudre la résolution d’adresse pour les services internes.</span><span class="sxs-lookup"><span data-stu-id="6f9dc-123">For example, the [Service Fabric Reverse Proxy](https://docs.microsoft.com/azure/service-fabric/service-fabric-reverseproxy) is a type of implementation of an API Gateway that is based on the Service Fabrice Naming Service and that helps resolve address resolution to the internal services.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="6f9dc-124">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="6f9dc-124">Additional resources</span></span>

-   <span data-ttu-id="6f9dc-125">**Chris Richardson. Modèle : Registre de Service**
    *http://microservices.io/patterns/service-registry.html*</span><span class="sxs-lookup"><span data-stu-id="6f9dc-125">**Chris Richardson. Pattern: Service registry**
*http://microservices.io/patterns/service-registry.html*</span></span>

-   <span data-ttu-id="6f9dc-126">**Auth0. Le Registre de Service**
    [*https://auth0.com/blog/an-introduction-to-microservices-part-3-the-service-registry/*](https://auth0.com/blog/an-introduction-to-microservices-part-3-the-service-registry/)</span><span class="sxs-lookup"><span data-stu-id="6f9dc-126">**Auth0. The Service Registry**
[*https://auth0.com/blog/an-introduction-to-microservices-part-3-the-service-registry/*](https://auth0.com/blog/an-introduction-to-microservices-part-3-the-service-registry/)</span></span>

-   <span data-ttu-id="6f9dc-127">**Gabriel Schenker. Détection du service**
    [*https://lostechies.com/gabrielschenker/2016/01/27/service-discovery/*](https://lostechies.com/gabrielschenker/2016/01/27/service-discovery/)</span><span class="sxs-lookup"><span data-stu-id="6f9dc-127">**Gabriel Schenker. Service discovery**
[*https://lostechies.com/gabrielschenker/2016/01/27/service-discovery/*](https://lostechies.com/gabrielschenker/2016/01/27/service-discovery/)</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="6f9dc-128">[Précédente] (mettre à jour-microservice-apis.md) [suivant] (microservice-based-composite-ui-shape-layout.md)</span><span class="sxs-lookup"><span data-stu-id="6f9dc-128">[Previous] (maintain-microservice-apis.md) [Next] (microservice-based-composite-ui-shape-layout.md)</span></span>
