---
title: "Comment : afficher des dates dans des calendriers non grégoriens"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- formatting [.NET Framework], dates
- dates [.NET Framework], formatting
- calendars [.NET Framework], displaying dates
- displaying date and time data
ms.assetid: ed324eff-4aff-4a76-b6c0-04e6c0d8f5a9
caps.latest.revision: "7"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: a79860091e549dcf4eaa7090947f9506eceb6119
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/18/2017
---
# <a name="how-to-display-dates-in-non-gregorian-calendars"></a><span data-ttu-id="fb090-102">Comment : afficher des dates dans des calendriers non grégoriens</span><span class="sxs-lookup"><span data-stu-id="fb090-102">How to: Display Dates in Non-Gregorian Calendars</span></span>
<span data-ttu-id="fb090-103">Le <xref:System.DateTime> et <xref:System.DateTimeOffset> types utilisent le calendrier grégorien comme calendrier par défaut.</span><span class="sxs-lookup"><span data-stu-id="fb090-103">The <xref:System.DateTime> and <xref:System.DateTimeOffset> types use the Gregorian calendar as their default calendar.</span></span> <span data-ttu-id="fb090-104">Cela signifie que l’appel de la méthode `ToString` d’une valeur de date et d’heure affiche la représentation sous forme de chaîne de la date et de l’heure dans le calendrier grégorien, même si ces date et heure ont été créées à l’aide d’un autre calendrier.</span><span class="sxs-lookup"><span data-stu-id="fb090-104">This means that calling a date and time value's `ToString` method displays the string representation of that date and time in the Gregorian calendar, even if that date and time was created using another calendar.</span></span> <span data-ttu-id="fb090-105">Ceci est illustré dans l’exemple suivant, qui utilise deux façons de créer une valeur de date et d’heure avec le calendrier persan, mais affiche ces valeurs de date et d’heure dans le calendrier grégorien lorsqu’il appelle le <xref:System.DateTime.ToString%2A> (méthode).</span><span class="sxs-lookup"><span data-stu-id="fb090-105">This is illustrated in the following example, which uses two different ways to create a date and time value with the Persian calendar, but still displays those date and time values in the Gregorian calendar when it calls the <xref:System.DateTime.ToString%2A> method.</span></span> <span data-ttu-id="fb090-106">Cet exemple reflète deux techniques couramment utilisées, mais incorrectes, pour l’affichage de la date dans un calendrier particulier.</span><span class="sxs-lookup"><span data-stu-id="fb090-106">This example reflects two commonly used but incorrect techniques for displaying the date in a particular calendar.</span></span>  
  
 [!code-csharp[Formatting.HowTo.Calendar#1](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.Calendar/cs/Calendar1.cs#1)]
 [!code-vb[Formatting.HowTo.Calendar#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.Calendar/vb/Calendar1.vb#1)]  
  
 <span data-ttu-id="fb090-107">Deux techniques différentes peuvent être utilisées pour afficher la date dans un calendrier particulier.</span><span class="sxs-lookup"><span data-stu-id="fb090-107">Two different techniques can be used to display the date in a particular calendar.</span></span> <span data-ttu-id="fb090-108">La première nécessite que le calendrier soit le calendrier par défaut pour une culture particulière.</span><span class="sxs-lookup"><span data-stu-id="fb090-108">The first requires that the calendar be the default calendar for a particular culture.</span></span> <span data-ttu-id="fb090-109">La seconde est utilisable avec n’importe quel calendrier.</span><span class="sxs-lookup"><span data-stu-id="fb090-109">The second can be used with any calendar.</span></span>  
  
### <a name="to-display-the-date-for-a-cultures-default-calendar"></a><span data-ttu-id="fb090-110">Pour afficher la date pour le calendrier par défaut d’une culture</span><span class="sxs-lookup"><span data-stu-id="fb090-110">To display the date for a culture's default calendar</span></span>  
  
1.  <span data-ttu-id="fb090-111">Instancier un objet de calendrier dérivé de la <xref:System.Globalization.Calendar> classe qui représente le calendrier à utiliser.</span><span class="sxs-lookup"><span data-stu-id="fb090-111">Instantiate a calendar object derived from the <xref:System.Globalization.Calendar> class that represents the calendar to be used.</span></span>  
  
2.  <span data-ttu-id="fb090-112">Instancier une <xref:System.Globalization.CultureInfo> objet représentant la culture dont la mise en forme sera utilisée pour afficher la date.</span><span class="sxs-lookup"><span data-stu-id="fb090-112">Instantiate a <xref:System.Globalization.CultureInfo> object representing the culture whose formatting will be used to display the date.</span></span>  
  
3.  <span data-ttu-id="fb090-113">Appelez le <xref:System.Array.Exists%2A?displayProperty=nameWithType> méthode pour déterminer si l’objet de calendrier est membre du tableau retourné par la <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> propriété.</span><span class="sxs-lookup"><span data-stu-id="fb090-113">Call the <xref:System.Array.Exists%2A?displayProperty=nameWithType> method to determine whether the calendar object is a member of the array returned by the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="fb090-114">Cela indique que le calendrier peut servir le calendrier par défaut pour le <xref:System.Globalization.CultureInfo> objet.</span><span class="sxs-lookup"><span data-stu-id="fb090-114">This indicates that the calendar can serve as the default calendar for the <xref:System.Globalization.CultureInfo> object.</span></span> <span data-ttu-id="fb090-115">S’il n’est pas membre du tableau, suivez les instructions de la section « Pour afficher la date dans un calendrier ».</span><span class="sxs-lookup"><span data-stu-id="fb090-115">If it is not a member of the array, follow the instructions in the "To Display the Date in Any Calendar" section.</span></span>  
  
4.  <span data-ttu-id="fb090-116">Assignez l’objet de calendrier à la <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A> propriété de la <xref:System.Globalization.DateTimeFormatInfo> objet retourné par la <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> propriété.</span><span class="sxs-lookup"><span data-stu-id="fb090-116">Assign the calendar object to the <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A> property of the <xref:System.Globalization.DateTimeFormatInfo> object returned by the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="fb090-117">Le <xref:System.Globalization.CultureInfo> classe a également un <xref:System.Globalization.CultureInfo.Calendar%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="fb090-117">The <xref:System.Globalization.CultureInfo> class also has a <xref:System.Globalization.CultureInfo.Calendar%2A> property.</span></span> <span data-ttu-id="fb090-118">Toutefois, il est en lecture seule et constante ; Il ne change pas pour refléter le nouveau calendrier par défaut affecté à la <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> propriété.</span><span class="sxs-lookup"><span data-stu-id="fb090-118">However, it is read-only and constant; it does not change to reflect the new default calendar assigned to the <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span>  
  
5.  <span data-ttu-id="fb090-119">Appelez le <xref:System.DateTime.ToString%2A> ou <xref:System.DateTime.ToString%2A> (méthode) et lui passer le <xref:System.Globalization.CultureInfo> objet dont le calendrier par défaut a été modifié à l’étape précédente.</span><span class="sxs-lookup"><span data-stu-id="fb090-119">Call either the <xref:System.DateTime.ToString%2A> or the <xref:System.DateTime.ToString%2A> method, and pass it the <xref:System.Globalization.CultureInfo> object whose default calendar was modified in the previous step.</span></span>  
  
### <a name="to-display-the-date-in-any-calendar"></a><span data-ttu-id="fb090-120">Pour afficher la date dans un calendrier</span><span class="sxs-lookup"><span data-stu-id="fb090-120">To display the date in any calendar</span></span>  
  
1.  <span data-ttu-id="fb090-121">Instancier un objet de calendrier dérivé de la <xref:System.Globalization.Calendar> classe qui représente le calendrier à utiliser.</span><span class="sxs-lookup"><span data-stu-id="fb090-121">Instantiate a calendar object derived from the <xref:System.Globalization.Calendar> class that represents the calendar to be used.</span></span>  
  
2.  <span data-ttu-id="fb090-122">Déterminez les éléments de date et d’heure qui doivent apparaître dans la représentation sous forme de chaîne de la valeur de date et d’heure.</span><span class="sxs-lookup"><span data-stu-id="fb090-122">Determine which date and time elements should appear in the string representation of the date and time value.</span></span>  
  
3.  <span data-ttu-id="fb090-123">Pour chaque élément de date et d’heure que vous souhaitez afficher, appelez l’objet de calendrier `Get`...</span><span class="sxs-lookup"><span data-stu-id="fb090-123">For each date and time element that you want to display, call the calendar object's `Get`…</span></span> <span data-ttu-id="fb090-124">.</span><span class="sxs-lookup"><span data-stu-id="fb090-124">method.</span></span> <span data-ttu-id="fb090-125">Les méthodes suivantes sont disponibles :</span><span class="sxs-lookup"><span data-stu-id="fb090-125">The following methods are available:</span></span>  
  
    -   <span data-ttu-id="fb090-126"><xref:System.Globalization.Calendar.GetYear%2A>, pour afficher l’année dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fb090-126"><xref:System.Globalization.Calendar.GetYear%2A>, to display the year in the appropriate calendar.</span></span>  
  
    -   <span data-ttu-id="fb090-127"><xref:System.Globalization.Calendar.GetMonth%2A>, pour afficher le mois dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fb090-127"><xref:System.Globalization.Calendar.GetMonth%2A>, to display the month in the appropriate calendar.</span></span>  
  
    -   <span data-ttu-id="fb090-128"><xref:System.Globalization.Calendar.GetDayOfMonth%2A>, pour afficher le numéro du jour du mois dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fb090-128"><xref:System.Globalization.Calendar.GetDayOfMonth%2A>, to display the number of the day of the month in the appropriate calendar.</span></span>  
  
    -   <span data-ttu-id="fb090-129"><xref:System.Globalization.Calendar.GetHour%2A>, pour afficher l’heure du jour dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fb090-129"><xref:System.Globalization.Calendar.GetHour%2A>, to display the hour of the day in the appropriate calendar.</span></span>  
  
    -   <span data-ttu-id="fb090-130"><xref:System.Globalization.Calendar.GetMinute%2A>, pour afficher les minutes de l’heure dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fb090-130"><xref:System.Globalization.Calendar.GetMinute%2A>, to display the minutes in the hour in the appropriate calendar.</span></span>  
  
    -   <span data-ttu-id="fb090-131"><xref:System.Globalization.Calendar.GetSecond%2A>, pour afficher les secondes de la minute dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fb090-131"><xref:System.Globalization.Calendar.GetSecond%2A>, to display the seconds in the minute in the appropriate calendar.</span></span>  
  
    -   <span data-ttu-id="fb090-132"><xref:System.Globalization.Calendar.GetMilliseconds%2A>, pour afficher les millisecondes de la seconde dans le calendrier approprié.</span><span class="sxs-lookup"><span data-stu-id="fb090-132"><xref:System.Globalization.Calendar.GetMilliseconds%2A> , to display the milliseconds in the second in the appropriate calendar.</span></span>  
  
## <a name="example"></a><span data-ttu-id="fb090-133">Exemple</span><span class="sxs-lookup"><span data-stu-id="fb090-133">Example</span></span>  
 <span data-ttu-id="fb090-134">L’exemple affiche une date à l’aide de deux calendriers différents.</span><span class="sxs-lookup"><span data-stu-id="fb090-134">The example displays a date using two different calendars.</span></span> <span data-ttu-id="fb090-135">Il affiche la date après avoir défini le calendrier hégirien comme calendrier par défaut pour la culture ar-JO et affiche la date à l’aide du calendrier persan, qui n’est pas pris en charge comme calendrier facultatif par la culture fa-IR.</span><span class="sxs-lookup"><span data-stu-id="fb090-135">It displays the date after defining the Hijri calendar as the default calendar for the ar-JO culture, and displays the date using the Persian calendar, which is not supported as an optional calendar by the fa-IR culture.</span></span>  
  
 [!code-csharp[Formatting.HowTo.Calendar#2](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.Calendar/cs/Calendar1.cs#2)]
 [!code-vb[Formatting.HowTo.Calendar#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.Calendar/vb/Calendar1.vb#2)]  
  
 <span data-ttu-id="fb090-136">Chaque <xref:System.Globalization.CultureInfo> objet peut prendre en charge un ou plusieurs calendriers sont indiquées par le <xref:System.Globalization.CultureInfo.OptionalCalendars%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="fb090-136">Each <xref:System.Globalization.CultureInfo> object can support one or more calendars, which are indicated by the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A> property.</span></span> <span data-ttu-id="fb090-137">Un de ces est désigné comme calendrier par défaut de la culture et est retourné par la lecture seule <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> propriété.</span><span class="sxs-lookup"><span data-stu-id="fb090-137">One of these is designated as the culture's default calendar and is returned by the read-only <xref:System.Globalization.CultureInfo.Calendar%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="fb090-138">Un autre calendrier facultatif peut être désigné comme la valeur par défaut en attribuant un <xref:System.Globalization.Calendar> objet qui représente ce calendrier à la <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> propriété retournée par le <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> propriété.</span><span class="sxs-lookup"><span data-stu-id="fb090-138">Another of the optional calendars can be designated as the default by assigning a <xref:System.Globalization.Calendar> object that represents that calendar to the <xref:System.Globalization.DateTimeFormatInfo.Calendar%2A?displayProperty=nameWithType> property returned by the <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="fb090-139">Toutefois, certains calendriers, tels que le calendrier persan représenté par la <xref:System.Globalization.PersianCalendar> de classe, ne servent pas comme des calendriers facultatifs pour n’importe quelle culture.</span><span class="sxs-lookup"><span data-stu-id="fb090-139">However, some calendars, such as the Persian calendar represented by the <xref:System.Globalization.PersianCalendar> class, do not serve as optional calendars for any culture.</span></span>  
  
 <span data-ttu-id="fb090-140">L’exemple définit une classe utilitaire de calendrier réutilisable, `CalendarUtility`, pour gérer de nombreux détails de la génération de la représentation sous forme de chaîne d’une date à l’aide d’un calendrier particulier.</span><span class="sxs-lookup"><span data-stu-id="fb090-140">The example defines a reusable calendar utility class, `CalendarUtility`, to handle many of the details of generating the string representation of a date using a particular calendar.</span></span> <span data-ttu-id="fb090-141">La classe `CalendarUtility` possède les membres suivants :</span><span class="sxs-lookup"><span data-stu-id="fb090-141">The `CalendarUtility` class has the following members:</span></span>  
  
-   <span data-ttu-id="fb090-142">Un constructeur paramétrable dont le paramètre unique est un <xref:System.Globalization.Calendar> objet dans lequel la date doit être représenté.</span><span class="sxs-lookup"><span data-stu-id="fb090-142">A parameterized constructor whose single parameter is a <xref:System.Globalization.Calendar> object in which a date is to be represented.</span></span> <span data-ttu-id="fb090-143">Il est assigné à un champ privé de la classe.</span><span class="sxs-lookup"><span data-stu-id="fb090-143">This is assigned to a private field of the class.</span></span>  
  
-   <span data-ttu-id="fb090-144">`CalendarExists`, une méthode privée qui retourne une valeur booléenne qui indique si le calendrier est représenté par le `CalendarUtility` objet est pris en charge par le <xref:System.Globalization.CultureInfo> objet qui est passé à la méthode en tant que paramètre.</span><span class="sxs-lookup"><span data-stu-id="fb090-144">`CalendarExists`, a private method that returns a Boolean value indicating whether the calendar represented by the `CalendarUtility` object is supported by the <xref:System.Globalization.CultureInfo> object that is passed to the method as a parameter.</span></span> <span data-ttu-id="fb090-145">La méthode encapsule un appel à la <xref:System.Array.Exists%2A?displayProperty=nameWithType> méthode, auquel il transmet le <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> tableau.</span><span class="sxs-lookup"><span data-stu-id="fb090-145">The method wraps a call to the <xref:System.Array.Exists%2A?displayProperty=nameWithType> method, to which it passes the <xref:System.Globalization.CultureInfo.OptionalCalendars%2A?displayProperty=nameWithType> array.</span></span>  
  
-   <span data-ttu-id="fb090-146">`HasSameName`, une méthode privée assignée à la <xref:System.Predicate%601> délégué qui est passé en tant que paramètre à la <xref:System.Array.Exists%2A?displayProperty=nameWithType> (méthode).</span><span class="sxs-lookup"><span data-stu-id="fb090-146">`HasSameName`, a private method assigned to the <xref:System.Predicate%601> delegate that is passed as a parameter to the <xref:System.Array.Exists%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="fb090-147">Chaque membre du tableau est passé à la méthode jusqu’à ce qu’elle retourne `true`.</span><span class="sxs-lookup"><span data-stu-id="fb090-147">Each member of the array is passed to the method until the method returns `true`.</span></span> <span data-ttu-id="fb090-148">La méthode détermine si le nom d’un calendrier facultatif est identique à celui du calendrier représenté par l’objet `CalendarUtility`.</span><span class="sxs-lookup"><span data-stu-id="fb090-148">The method determines whether the name of an optional calendar is the same as the calendar represented by the `CalendarUtility` object.</span></span>  
  
-   <span data-ttu-id="fb090-149">`DisplayDate`, une méthode publique surchargée qui est passée de deux paramètres : soit un <xref:System.DateTime> ou <xref:System.DateTimeOffset> valeur pour exprimer dans le calendrier représenté par le `CalendarUtility` objet et la culture dont les règles de mise en forme doivent être utilisées.</span><span class="sxs-lookup"><span data-stu-id="fb090-149">`DisplayDate`, an overloaded public method that is passed two parameters: either a <xref:System.DateTime> or <xref:System.DateTimeOffset> value to express in the calendar represented by the `CalendarUtility` object; and the culture whose formatting rules are to be used.</span></span> <span data-ttu-id="fb090-150">La façon dont elle retourne la représentation sous forme de chaîne d’une date varie selon que le calendrier cible est pris en charge ou non par la culture dont les règles de mise en forme doivent être utilisées.</span><span class="sxs-lookup"><span data-stu-id="fb090-150">Its behavior in returning the string representation of a date depends on whether the target calendar is supported by the culture whose formatting rules are to be used.</span></span>  
  
 <span data-ttu-id="fb090-151">Quel que soit le calendrier utilisé pour créer un <xref:System.DateTime> ou <xref:System.DateTimeOffset> valeur dans cet exemple, que valeur est généralement exprimée comme une date du calendrier grégorien.</span><span class="sxs-lookup"><span data-stu-id="fb090-151">Regardless of the calendar used to create a <xref:System.DateTime> or <xref:System.DateTimeOffset> value in this example, that value is typically expressed as a Gregorian date.</span></span> <span data-ttu-id="fb090-152">C’est parce que le <xref:System.DateTime> et <xref:System.DateTimeOffset> types ne conservent pas les informations relatives au calendrier.</span><span class="sxs-lookup"><span data-stu-id="fb090-152">This is because the <xref:System.DateTime> and <xref:System.DateTimeOffset> types do not preserve any calendar information.</span></span> <span data-ttu-id="fb090-153">En interne, elles sont représentées comme nombre de graduations qui se sont écoulées depuis le 1er janvier 0001 à minuit.</span><span class="sxs-lookup"><span data-stu-id="fb090-153">Internally, they are represented as the number of ticks that have elapsed since midnight of January 1, 0001.</span></span> <span data-ttu-id="fb090-154">L’interprétation de ce nombre dépend du calendrier.</span><span class="sxs-lookup"><span data-stu-id="fb090-154">The interpretation of that number depends on the calendar.</span></span> <span data-ttu-id="fb090-155">Pour la plupart des cultures, le calendrier par défaut est le calendrier grégorien.</span><span class="sxs-lookup"><span data-stu-id="fb090-155">For most cultures, the default calendar is the Gregorian calendar.</span></span>  
  
## <a name="compiling-the-code"></a><span data-ttu-id="fb090-156">Compilation du code</span><span class="sxs-lookup"><span data-stu-id="fb090-156">Compiling the Code</span></span>  
 <span data-ttu-id="fb090-157">Cet exemple requiert une référence à System.Core.dll.</span><span class="sxs-lookup"><span data-stu-id="fb090-157">This example requires a reference to System.Core.dll.</span></span>  
  
 <span data-ttu-id="fb090-158">Compiler le code à la ligne de commande à l’aide de csc.exe ou vb.exe.</span><span class="sxs-lookup"><span data-stu-id="fb090-158">Compile the code at the command line using csc.exe or vb.exe.</span></span> <span data-ttu-id="fb090-159">Pour compiler le code dans [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], placez-le dans un modèle de projet application console.</span><span class="sxs-lookup"><span data-stu-id="fb090-159">To compile the code in [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], put it in a console application project template.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fb090-160">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="fb090-160">See Also</span></span>  
 [<span data-ttu-id="fb090-161">Exécution d’opérations de mise en forme</span><span class="sxs-lookup"><span data-stu-id="fb090-161">Performing Formatting Operations</span></span>](../../../docs/standard/base-types/performing-formatting-operations.md)
